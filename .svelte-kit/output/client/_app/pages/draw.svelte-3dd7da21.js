import{S as ge,i as be,s as we,e as g,c as b,a as I,d as v,b as m,g as L,K as at,E as ce,L as We,v as He,t as F,k as V,h as j,m as U,f as G,J as i,M as ue,N as C,O as Ie,P as Ge,w as ke,x as Ee,y as Te,q as R,o as X,B as De,Q as ut,j as ct,l as Le,R as dt,T as Je,p as Oe,U as _e,n as Pe}from"../chunks/index-b4ba22ca.js";import{f as Xe,G as ft,c as mt,d as vt,a as ht,b as pt,r as _t}from"../chunks/wpTitles-4356e526.js";import"../chunks/index-e1a0e36b.js";function gt(l){let e,t,s;return{c(){e=g("div"),this.h()},l(o){e=b(o,"DIV",{style:!0,class:!0}),I(e).forEach(v),this.h()},h(){m(e,"style",l[0]),m(e,"class","m-0")},m(o,d){L(o,e,d),t||(s=at(l[1].call(null,e)),t=!0)},p(o,[d]){d&1&&m(e,"style",o[0])},i:ce,o:ce,d(o){o&&v(e),t=!1,s()}}}function bt(l,e){return e.forEach(([t,s])=>l[t]=s),l}function wt(l,e,t){let{target:s=void 0}=e,{sketch:o=void 0}=e,{parentDivStyle:d="display: block;"}=e,{debug:a=!1}=e,r;const u=We(),c={ref(){u("ref",s)},instance(){u("instance",r)}};function n(f){return t(2,s=f),{destroy(){t(2,s=void 0)}}}return He(async()=>{const f=await import("../chunks/p5.min-21ab2ccd.js").then(function(D){return D.p}),{default:E}=f,k=Object.entries(f).filter(([D,T])=>T instanceof Function&&D[0]!=="_"&&D!=="default");a&&console.log("available p5 native classes",k),r=new E(D=>(D=bt(D,k),a&&console.log("p5 instance",D),window._p5Instance=D,o(D)),s),c.ref(),c.instance()}),l.$$set=f=>{"target"in f&&t(2,s=f.target),"sketch"in f&&t(3,o=f.sketch),"parentDivStyle"in f&&t(0,d=f.parentDivStyle),"debug"in f&&t(4,a=f.debug)},[d,n,s,o,a]}class It extends ge{constructor(e){super(),be(this,e,wt,gt,we,{target:2,sketch:3,parentDivStyle:0,debug:4})}}function Ke(l){let e,t,s,o,d,a,r,u,c,n,f,E,w,k,D,T,h,_,B,M,O,S,W;return{c(){e=g("div"),t=g("div"),s=g("div"),o=g("p"),d=F("width"),a=V(),r=g("div"),u=g("div"),c=V(),n=g("div"),f=V(),E=g("div"),w=V(),k=g("div"),D=g("p"),T=F("color"),h=V(),_=g("div"),B=g("input"),M=V(),O=g("div"),this.h()},l(N){e=b(N,"DIV",{class:!0});var y=I(e);t=b(y,"DIV",{class:!0});var q=I(t);s=b(q,"DIV",{class:!0});var K=I(s);o=b(K,"P",{});var Q=I(o);d=j(Q,"width"),Q.forEach(v),a=U(K),r=b(K,"DIV",{class:!0});var Z=I(r);u=b(Z,"DIV",{class:!0,id:!0,style:!0}),I(u).forEach(v),c=U(Z),n=b(Z,"DIV",{class:!0,id:!0,style:!0}),I(n).forEach(v),f=U(Z),E=b(Z,"DIV",{class:!0,id:!0,style:!0}),I(E).forEach(v),Z.forEach(v),K.forEach(v),w=U(q),k=b(q,"DIV",{class:!0});var se=I(k);D=b(se,"P",{});var J=I(D);T=j(J,"color"),J.forEach(v),h=U(se),_=b(se,"DIV",{class:!0});var A=I(_);B=b(A,"INPUT",{type:!0,min:!0,max:!0,id:!0,style:!0,class:!0}),A.forEach(v),se.forEach(v),q.forEach(v),M=U(y),O=b(y,"DIV",{class:!0}),I(O).forEach(v),y.forEach(v),this.h()},h(){m(u,"class","stroke-button svelte-1eiwv98"),m(u,"id","small-stroke"),G(u,"border",l[10]),m(n,"class","stroke-button svelte-1eiwv98"),m(n,"id","medium-stroke"),G(n,"border",l[11]),m(E,"class","stroke-button svelte-1eiwv98"),m(E,"id","big-stroke"),G(E,"border",l[12]),m(r,"class","stroke-width svelte-1eiwv98"),m(s,"class","style-section svelte-1eiwv98"),m(B,"type","range"),m(B,"min","0"),m(B,"max","255"),m(B,"id","color-slider"),G(B,"background-color","rgb("+l[0]+","+l[1]+","+l[2]),m(B,"class","svelte-1eiwv98"),m(_,"class","stroke-color svelte-1eiwv98"),m(k,"class","style-section svelte-1eiwv98"),m(t,"class","modal-center draw-settings svelte-1eiwv98"),m(O,"class","icon-button exit-button svelte-1eiwv98"),m(e,"class","container svelte-1eiwv98")},m(N,y){L(N,e,y),i(e,t),i(t,s),i(s,o),i(o,d),i(s,a),i(s,r),i(r,u),i(r,c),i(r,n),i(r,f),i(r,E),i(t,w),i(t,k),i(k,D),i(D,T),i(k,h),i(k,_),i(_,B),ue(B,l[0]),i(e,M),i(e,O),S||(W=[C(u,"click",l[15]),C(n,"click",l[15]),C(E,"click",l[15]),C(B,"change",l[18]),C(B,"change",l[28]),C(B,"input",l[28]),C(O,"click",l[22]),C(O,"touchstart",l[22],{passive:!0})],S=!0)},p(N,y){y[0]&1024&&G(u,"border",N[10]),y[0]&2048&&G(n,"border",N[11]),y[0]&4096&&G(E,"border",N[12]),y[0]&7&&G(B,"background-color","rgb("+N[0]+","+N[1]+","+N[2]),y[0]&1&&ue(B,N[0])},d(N){N&&v(e),S=!1,Ie(W)}}}function Qe(l){let e,t,s,o,d,a,r,u=l[13][0]+"",c,n,f,E,w,k,D=l[13][1]+"",T,h,_,B,M,O,S=l[13][2]+"",W,N,y,q,K,Q=l[13][3]+"",Z,se,J,A,de=l[13][4]+"",ie,ae,re,Be,me,x,ye=l[13][5]+"",ve,ne,Ve,he,le,p=l[13][6]+"",H,$,ee,te,fe,pe,z=l[6]&&Ze();return{c(){e=g("div"),t=g("div"),s=g("h2"),o=F("Contribute to the Cloud Cities repository"),d=V(),a=g("div"),r=g("p"),c=F(u),n=V(),f=g("input"),E=V(),w=g("div"),k=g("p"),T=F(D),h=V(),_=g("input"),B=V(),M=g("div"),O=g("p"),W=F(S),N=V(),y=g("input"),q=V(),K=g("p"),Z=F(Q),se=V(),J=g("div"),A=g("button"),ie=F(de),ae=V(),re=g("img"),me=V(),x=g("button"),ve=F(ye),ne=g("img"),he=V(),le=g("button"),H=F(p),$=V(),z&&z.c(),ee=V(),te=g("div"),this.h()},l(P){e=b(P,"DIV",{class:!0});var oe=I(e);t=b(oe,"DIV",{class:!0});var Y=I(t);s=b(Y,"H2",{});var Fe=I(s);o=j(Fe,"Contribute to the Cloud Cities repository"),Fe.forEach(v),d=U(Y),a=b(Y,"DIV",{class:!0});var Ue=I(a);r=b(Ue,"P",{class:!0});var je=I(r);c=j(je,u),je.forEach(v),n=U(Ue),f=b(Ue,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),Ue.forEach(v),E=U(Y),w=b(Y,"DIV",{class:!0});var Ce=I(w);k=b(Ce,"P",{class:!0});var Re=I(k);T=j(Re,D),Re.forEach(v),h=U(Ce),_=b(Ce,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),Ce.forEach(v),B=U(Y),M=b(Y,"DIV",{class:!0});var Ne=I(M);O=b(Ne,"P",{class:!0});var Ye=I(O);W=j(Ye,S),Ye.forEach(v),N=U(Ne),y=b(Ne,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),Ne.forEach(v),q=U(Y),K=b(Y,"P",{});var qe=I(K);Z=j(qe,Q),qe.forEach(v),se=U(Y),J=b(Y,"DIV",{class:!0});var Me=I(J);A=b(Me,"BUTTON",{id:!0,class:!0});var Se=I(A);ie=j(Se,de),ae=U(Se),re=b(Se,"IMG",{src:!0,alt:!0,class:!0}),Se.forEach(v),me=U(Me),x=b(Me,"BUTTON",{id:!0,class:!0});var ze=I(x);ve=j(ze,ye),ne=b(ze,"IMG",{src:!0,alt:!0,class:!0}),ze.forEach(v),Me.forEach(v),he=U(Y),le=b(Y,"BUTTON",{id:!0,class:!0});var Ae=I(le);H=j(Ae,p),Ae.forEach(v),$=U(Y),z&&z.l(Y),Y.forEach(v),ee=U(oe),te=b(oe,"DIV",{class:!0}),I(te).forEach(v),oe.forEach(v),this.h()},h(){m(r,"class","svelte-1eiwv98"),m(f,"type","text"),m(f,"id","input-title"),m(f,"data-lpignore","true"),m(f,"class","svelte-1eiwv98"),m(a,"class","input-section svelte-1eiwv98"),m(k,"class","svelte-1eiwv98"),m(_,"type","text"),m(_,"id","input-location"),m(_,"data-lpignore","true"),m(_,"class","svelte-1eiwv98"),m(w,"class","input-section svelte-1eiwv98"),m(O,"class","svelte-1eiwv98"),m(y,"type","text"),m(y,"id","input-name"),m(y,"data-lpignore","true"),m(y,"class","svelte-1eiwv98"),m(M,"class","input-section svelte-1eiwv98"),Ge(re.src,Be="./cloud_submit.svg")||m(re,"src",Be),m(re,"alt","submit"),m(re,"class","svelte-1eiwv98"),m(A,"id","submit-button"),m(A,"class","svelte-1eiwv98"),Ge(ne.src,Ve="./cloud_download.svg")||m(ne,"src",Ve),m(ne,"alt","download"),m(ne,"class","svelte-1eiwv98"),m(x,"id","download-button"),m(x,"class","svelte-1eiwv98"),m(J,"class","flex-row"),m(le,"id","cancel-button"),m(le,"class","svelte-1eiwv98"),m(t,"class","modal-center submit-image svelte-1eiwv98"),m(te,"class","icon-button exit-button svelte-1eiwv98"),m(e,"class","container svelte-1eiwv98")},m(P,oe){L(P,e,oe),i(e,t),i(t,s),i(s,o),i(t,d),i(t,a),i(a,r),i(r,c),i(a,n),i(a,f),ue(f,l[3]),i(t,E),i(t,w),i(w,k),i(k,T),i(w,h),i(w,_),ue(_,l[4]),i(t,B),i(t,M),i(M,O),i(O,W),i(M,N),i(M,y),ue(y,l[5]),i(t,q),i(t,K),i(K,Z),i(t,se),i(t,J),i(J,A),i(A,ie),i(A,ae),i(A,re),i(J,me),i(J,x),i(x,ve),i(x,ne),i(t,he),i(t,le),i(le,H),i(t,$),z&&z.m(t,null),i(e,ee),i(e,te),fe||(pe=[C(f,"input",l[29]),C(_,"input",l[30]),C(y,"input",l[31]),C(A,"click",l[16]),C(x,"click",l[17]),C(le,"click",l[25]),C(te,"click",l[22]),C(te,"touchstart",l[22],{passive:!0})],fe=!0)},p(P,oe){oe[0]&8&&f.value!==P[3]&&ue(f,P[3]),oe[0]&16&&_.value!==P[4]&&ue(_,P[4]),oe[0]&32&&y.value!==P[5]&&ue(y,P[5]),P[6]?z||(z=Ze(),z.c(),z.m(t,null)):z&&(z.d(1),z=null)},d(P){P&&v(e),z&&z.d(),fe=!1,Ie(pe)}}}function Ze(l){let e,t;return{c(){e=g("p"),t=F("We need more Information")},l(s){e=b(s,"P",{});var o=I(e);t=j(o,"We need more Information"),o.forEach(v)},m(s,o){L(s,e,o),i(e,t)},d(s){s&&v(e)}}}function xe(l){let e,t,s,o,d,a,r,u,c,n,f,E,w,k,D,T,h;return{c(){e=g("div"),t=g("div"),s=g("h2"),o=F("Thank you! Submission complete"),d=V(),a=g("p"),r=F("Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),u=V(),c=g("div"),n=g("button"),f=F("Return to drawing"),E=V(),w=g("a"),k=g("button"),D=F("Visit the repository"),this.h()},l(_){e=b(_,"DIV",{class:!0});var B=I(e);t=b(B,"DIV",{class:!0});var M=I(t);s=b(M,"H2",{});var O=I(s);o=j(O,"Thank you! Submission complete"),O.forEach(v),d=U(M),a=b(M,"P",{});var S=I(a);r=j(S,"Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),S.forEach(v),u=U(M),c=b(M,"DIV",{class:!0});var W=I(c);n=b(W,"BUTTON",{class:!0});var N=I(n);f=j(N,"Return to drawing"),N.forEach(v),E=U(W),w=b(W,"A",{href:!0,class:!0});var y=I(w);k=b(y,"BUTTON",{class:!0});var q=I(k);D=j(q,"Visit the repository"),q.forEach(v),y.forEach(v),W.forEach(v),M.forEach(v),B.forEach(v),this.h()},h(){m(n,"class","svelte-1eiwv98"),m(k,"class","svelte-1eiwv98"),m(w,"href","/"),m(w,"class","href svelte-1eiwv98"),m(c,"class","flex-row svelte-1eiwv98"),m(t,"class","modal-center svelte-1eiwv98"),m(e,"class","container svelte-1eiwv98")},m(_,B){L(_,e,B),i(e,t),i(t,s),i(s,o),i(t,d),i(t,a),i(a,r),i(t,u),i(t,c),i(c,n),i(n,f),i(c,E),i(c,w),i(w,k),i(k,D),T||(h=C(n,"click",l[24]),T=!0)},p:ce,d(_){_&&v(e),T=!1,h()}}}function $e(l){let e,t,s,o,d;return{c(){e=g("div"),t=V(),s=g("div"),this.h()},l(a){e=b(a,"DIV",{class:!0,id:!0}),I(e).forEach(v),t=U(a),s=b(a,"DIV",{class:!0,id:!0}),I(s).forEach(v),this.h()},h(){m(e,"class","icon-button finished-drawing-button svelte-1eiwv98"),m(e,"id","finish-button"),m(s,"class","icon-button pallette-button svelte-1eiwv98"),m(s,"id","p-button")},m(a,r){L(a,e,r),L(a,t,r),L(a,s,r),o||(d=[C(e,"click",l[32]),C(e,"touchstart",l[33],{passive:!0}),C(e,"mouseenter",l[19]),C(e,"mouseleave",l[20]),C(s,"click",l[23]),C(s,"touchstart",l[34],{passive:!0}),C(s,"mouseenter",l[19]),C(s,"mouseleave",l[20])],o=!0)},p:ce,d(a){a&&v(e),a&&v(t),a&&v(s),o=!1,Ie(d)}}}function kt(l){let e,t,s,o,d,a,r,u,c,n,f,E;t=new It({props:{sketch:l[14]}});let w=l[8]&&Ke(l),k=l[9]&&Qe(l),D=l[7]&&xe(l),T=!l[8]&&!l[9]&&$e(l);return{c(){e=g("div"),ke(t.$$.fragment),s=V(),o=g("a"),d=g("div"),a=V(),w&&w.c(),r=V(),k&&k.c(),u=V(),D&&D.c(),c=V(),T&&T.c(),this.h()},l(h){e=b(h,"DIV",{id:!0});var _=I(e);Ee(t.$$.fragment,_),s=U(_),o=b(_,"A",{href:!0});var B=I(o);d=b(B,"DIV",{class:!0}),I(d).forEach(v),B.forEach(v),a=U(_),w&&w.l(_),r=U(_),k&&k.l(_),u=U(_),D&&D.l(_),c=U(_),T&&T.l(_),_.forEach(v),this.h()},h(){m(d,"class","icon-button repo-button svelte-1eiwv98"),m(o,"href","/"),m(e,"id","canvas-container")},m(h,_){L(h,e,_),Te(t,e,null),i(e,s),i(e,o),i(o,d),i(e,a),w&&w.m(e,null),i(e,r),k&&k.m(e,null),i(e,u),D&&D.m(e,null),i(e,c),T&&T.m(e,null),n=!0,f||(E=[C(d,"mouseenter",l[19]),C(d,"mouseleave",l[20]),C(d,"touchstart",l[21],{passive:!0})],f=!0)},p(h,_){h[8]?w?w.p(h,_):(w=Ke(h),w.c(),w.m(e,r)):w&&(w.d(1),w=null),h[9]?k?k.p(h,_):(k=Qe(h),k.c(),k.m(e,u)):k&&(k.d(1),k=null),h[7]?D?D.p(h,_):(D=xe(h),D.c(),D.m(e,c)):D&&(D.d(1),D=null),!h[8]&&!h[9]?T?T.p(h,_):(T=$e(h),T.c(),T.m(e,null)):T&&(T.d(1),T=null)},i(h){n||(R(t.$$.fragment,h),n=!0)},o(h){X(t.$$.fragment,h),n=!1},d(h){h&&v(e),De(t),w&&w.d(),k&&k.d(),D&&D.d(),T&&T.d(),f=!1,Ie(E)}}}function Et(l,e,t){let{propValue:s}=e,{contributeModal:o}=e,d=s;console.log("contribute modal: ",o);let a=o.map(p=>p.includes("<span>")?p.split("<span>").pop().split("<")[0]:p.includes("<p>")?p.split("<p>").pop().split("<")[0]:p.split('">').pop().split("<")[0]);console.log("contributeText: ",a);let r=4,u=0,c=0,n=0,f;const E=p=>{let H;p.preload=()=>{console.log("preload"),H=p.loadImage(d)},p.setup=()=>{if(console.log("width: ",H.width),console.log("height: ",H.height),p.windowWidth>500)if(H.width<H.height){let P=H.height/(H.width/p.windowWidth);p.createCanvas(p.windowWidth,P)}else p.createCanvas(p.windowWidth,p.windowHeight);else p.windowWidth<500&&H.width<H.height?p.createCanvas(p.windowWidth,p.windowHeight):p.windowWidth<500&&p.createCanvas(H.width/2,p.windowHeight);p.background(H);let z=document.getElementById("canvas-container");z.addEventListener("touchstart",P=>{P.touches.length===2&&(f=!0)}),z.addEventListener("touchmove",P=>{P.touches.length===2&&(f=!0)}),z.addEventListener("touchend",P=>{f&&(f=!1)})};let $=0,ee=0,te=0,fe=0,pe=.3;p.mousePressed=()=>{if(!(y||f||N||Q))return $=p.mouseX,ee=p.mouseY,te=p.mouseX,fe=p.mouseY,!1},p.touchMoved=()=>{if(y||f||N||Q)return;let z=p.mouseX,P=p.mouseY;return $+=(z-$)*pe,ee+=(P-ee)*pe,p.strokeWeight(r),p.stroke(u,c,n),p.line($,ee,te,fe),te=$,fe=ee,!1},p.windowResized=()=>{p.resizeCanvas(p.windowWidth,p.windowHeight),p.background(H)}};let w=document.getElementsByClassName("stroke-button");const k=p=>{p.target.id==="small-stroke"?r=2:p.target.id==="medium-stroke"?r=4:p.target.id==="big-stroke"&&(r=6),w.forEach(H=>{H!==p.target?H.style.border="none":H.style.border="solid 4px #00D1FF"})};let D,T,h,_,B=JSON.parse(localStorage.getItem("cloudUploads"));const M=["none"];B||localStorage.setItem("cloudUploads",JSON.stringify(M));let O=!0;const S=()=>{if(D&&O){B=JSON.parse(localStorage.getItem("cloudUploads")),console.log("uploads: ",B),B.push("upload"),localStorage.setItem("cloudUploads",JSON.stringify(B)),O=!1,t(6,_=!1);let p=new FormData;p.append("title",D),p.append("location",T),p.append("name",h),p.append("userUploads",B.length),document.getElementById("defaultCanvas0").toBlob(function($){p.append("cloud",$),fetch("/addPostfromServer",{method:"POST",body:p}).then(ee=>{console.log("result: ",ee.status)})}),t(9,y=!1),t(7,W=!0)}else if(O)t(6,_=!0);else return};let W=!1,N=!1,y=!1;const q=()=>{let p=document.createElement("a");p.download="myCanvas.png",p.href=document.getElementById("defaultCanvas0").toDataURL(),p.click()},K=p=>{t(0,u=p.srcElement.value),t(1,c=p.srcElement.value),t(2,n=p.srcElement.value)};let Q=!1;const Z=()=>{Q=!0},se=()=>{Q=!1},J=()=>{window.location.replace("/")},A=()=>{N&&t(8,N=!1),y&&t(9,y=!1),Q=!1};let de,ie,ae;const re=()=>{t(8,N=!N),r===2?(t(10,de="solid 4px #00D1FF"),t(11,ie="none"),t(12,ae="none")):r===4?(t(10,de="none"),t(11,ie="solid 4px #00D1FF"),t(12,ae="none")):(t(10,de="none"),t(11,ie="none"),t(12,ae="solid 4px #00D1FF"))},Be=()=>{console.log("return to draw"),window.location.reload()},me=()=>{t(9,y=!1),Q=!1};function x(){u=ut(this.value),t(0,u)}function ye(){D=this.value,t(3,D)}function ve(){T=this.value,t(4,T)}function ne(){h=this.value,t(5,h)}const Ve=()=>t(9,y=!y),he=()=>(t(9,y=!y),console.log("touch event on pallette")),le=()=>t(8,N=!N);return l.$$set=p=>{"propValue"in p&&t(26,s=p.propValue),"contributeModal"in p&&t(27,o=p.contributeModal)},[u,c,n,D,T,h,_,W,N,y,de,ie,ae,a,E,k,S,q,K,Z,se,J,A,re,Be,me,s,o,x,ye,ve,ne,Ve,he,le]}class Tt extends ge{constructor(e){super(),be(this,e,Et,kt,we,{propValue:26,contributeModal:27},null,[-1,-1])}}function Dt(l){let e,t,s,o,d,a,r;return{c(){e=g("div"),t=g("div"),s=g("div"),o=V(),d=g("button"),this.h()},l(u){e=b(u,"DIV",{class:!0});var c=I(e);t=b(c,"DIV",{class:!0});var n=I(t);s=b(n,"DIV",{id:!0}),I(s).forEach(v),o=U(n),d=b(n,"BUTTON",{id:!0}),I(d).forEach(v),n.forEach(v),c.forEach(v),this.h()},h(){m(s,"id","drawInstructions"),m(d,"id","begin-button"),m(t,"class","start-draw-center svelte-mdkjls"),m(e,"class","start-draw-container svelte-mdkjls")},m(u,c){L(u,e,c),i(e,t),i(t,s),i(t,o),i(t,d),a||(r=C(d,"click",l[0]),a=!0)},p:ce,i:ce,o:ce,d(u){u&&v(e),a=!1,r()}}}function Bt(l,e,t){const s=We();let{drawInstructions:o}=e,d;He(async()=>{d=document.getElementById("drawInstructions"),d.innerHTML=o[0];let r=document.getElementById("begin-button");r.innerHTML=o[1]});const a=()=>{s("closeInstructions")};return l.$$set=r=>{"drawInstructions"in r&&t(1,o=r.drawInstructions)},[a,o]}class yt extends ge{constructor(e){super(),be(this,e,Bt,Dt,we,{drawInstructions:1})}}function et(l){let e,t,s,o,d,a,r,u,c,n,f,E,w,k,D,T=l[5]&&tt(l);return{c(){e=g("div"),t=g("h2"),s=F(l[1]),o=V(),d=g("div"),a=V(),r=g("div"),u=g("button"),c=V(),n=g("button"),f=V(),E=g("button"),w=V(),T&&T.c(),this.h()},l(h){e=b(h,"DIV",{class:!0});var _=I(e);t=b(_,"H2",{class:!0});var B=I(t);s=j(B,l[1]),B.forEach(v),o=U(_),d=b(_,"DIV",{id:!0}),I(d).forEach(v),a=U(_),r=b(_,"DIV",{class:!0});var M=I(r);u=b(M,"BUTTON",{id:!0,class:!0}),I(u).forEach(v),c=U(M),n=b(M,"BUTTON",{id:!0,class:!0}),I(n).forEach(v),f=U(M),E=b(M,"BUTTON",{id:!0,class:!0}),I(E).forEach(v),M.forEach(v),w=U(_),T&&T.l(_),_.forEach(v),this.h()},h(){m(t,"class","svelte-15aiz3m"),m(d,"id","cloudstobe"),m(u,"id","draw-button"),m(u,"class","enter-button svelte-15aiz3m"),m(n,"id","remix-button"),m(n,"class","enter-button svelte-15aiz3m"),m(E,"id","upload-button"),m(E,"class","enter-button svelte-15aiz3m"),m(r,"class","button-section svelte-15aiz3m"),m(e,"class","start-draw-center svelte-15aiz3m")},m(h,_){L(h,e,_),i(e,t),i(t,s),i(e,o),i(e,d),i(e,a),i(e,r),i(r,u),i(r,c),i(r,n),i(r,f),i(r,E),i(e,w),T&&T.m(e,null),k||(D=[C(u,"click",l[10]),C(n,"click",l[12]),C(E,"click",l[7])],k=!0)},p(h,_){_&2&&ct(s,h[1]),h[5]?T?T.p(h,_):(T=tt(h),T.c(),T.m(e,null)):T&&(T.d(1),T=null)},d(h){h&&v(e),T&&T.d(),k=!1,Ie(D)}}}function tt(l){let e,t,s,o,d,a,r=!l[6]&&st(l),u=l[6]&&lt();return{c(){e=g("input"),t=V(),r&&r.c(),s=V(),u&&u.c(),o=Le(),this.h()},l(c){e=b(c,"INPUT",{accept:!0,type:!0,id:!0,class:!0}),t=U(c),r&&r.l(c),s=U(c),u&&u.l(c),o=Le(),this.h()},h(){m(e,"accept",".png, .jpg, .jpeg"),m(e,"type","file"),m(e,"id","upload"),m(e,"class","svelte-15aiz3m")},m(c,n){L(c,e,n),L(c,t,n),r&&r.m(c,n),L(c,s,n),u&&u.m(c,n),L(c,o,n),d||(a=C(e,"change",l[8]),d=!0)},p(c,n){c[6]?r&&(r.d(1),r=null):r?r.p(c,n):(r=st(c),r.c(),r.m(s.parentNode,s)),c[6]?u||(u=lt(),u.c(),u.m(o.parentNode,o)):u&&(u.d(1),u=null)},d(c){c&&v(e),c&&v(t),r&&r.d(c),c&&v(s),u&&u.d(c),c&&v(o),d=!1,a()}}}function st(l){let e,t,s,o;return{c(){e=g("button"),t=F("Start")},l(d){e=b(d,"BUTTON",{});var a=I(e);t=j(a,"Start"),a.forEach(v)},m(d,a){L(d,e,a),i(e,t),s||(o=C(e,"click",l[9]),s=!0)},p:ce,d(d){d&&v(e),s=!1,o()}}}function lt(l){let e,t;return{c(){e=g("p"),t=F("Please choose a smaller file")},l(s){e=b(s,"P",{});var o=I(e);t=j(o,"Please choose a smaller file"),o.forEach(v)},m(s,o){L(s,e,o),i(e,t)},d(s){s&&v(e)}}}function Vt(l){let e,t,s,o,d,a,r,u,c,n,f=l[3]&&!l[2]&&et(l);return{c(){e=g("div"),f&&f.c(),t=V(),s=g("div"),o=g("div"),d=V(),a=g("button"),this.h()},l(E){e=b(E,"DIV",{class:!0,style:!0});var w=I(e);f&&f.l(w),t=U(w),s=b(w,"DIV",{class:!0,style:!0});var k=I(s);o=b(k,"DIV",{id:!0}),I(o).forEach(v),d=U(k),a=b(k,"BUTTON",{id:!0}),I(a).forEach(v),k.forEach(v),w.forEach(v),this.h()},h(){m(o,"id","drawInstructions"),m(a,"id","begin-button"),m(s,"class","start-draw-center svelte-15aiz3m"),G(s,"visibility",l[4]),m(e,"class","start-draw-container svelte-15aiz3m"),G(e,"background-image","url("+l[0]+")"),G(e,"background-size","cover"),G(e,"background-position","center")},m(E,w){L(E,e,w),f&&f.m(e,null),i(e,t),i(e,s),i(s,o),i(s,d),i(s,a),u=!0,c||(n=C(a,"click",l[11]),c=!0)},p(E,[w]){E[3]&&!E[2]?f?f.p(E,w):(f=et(E),f.c(),f.m(e,t)):f&&(f.d(1),f=null),(!u||w&16)&&G(s,"visibility",E[4]),(!u||w&1)&&G(e,"background-image","url("+E[0]+")")},i(E){u||(dt(()=>{r||(r=Je(e,Xe,{},!0)),r.run(1)}),u=!0)},o(E){r||(r=Je(e,Xe,{},!1)),r.run(0),u=!1},d(E){E&&v(e),f&&f.d(),E&&r&&r.end(),c=!1,n()}}}function Ut(l,e,t){const s=We();let{propValue:o}=e,{cloudsToBe:d}=e,{drawInstructions:a}=e,{title:r}=e,{straightToInstructions:u}=e,c;He(async()=>{let S=document.getElementById("cloudstobe");S.innerHTML=d[0];let W=document.getElementById("draw-button"),N=document.getElementById("remix-button"),y=document.getElementById("upload-button");W.innerHTML=d[1],N.innerHTML=d[2],y.innerHTML=d[3],c=document.getElementById("drawInstructions"),c.innerHTML=a[0];let q=document.getElementById("begin-button");q.innerHTML=a[1]});let n=!0,f="hidden",E=!1,w;const k=()=>{t(5,E=!0)};let D;const T=()=>{t(6,D=!1);const W=document.getElementById("upload").files[0];if(W.size>1e7){t(6,D=!0);return}console.log("Blob?: : ",W instanceof Blob),w=URL.createObjectURL(W)};let h;const _=()=>{console.log("chooseImage: ",w),t(3,n=!1),t(4,f="visible"),h="drawOnUploadImage"},B=()=>{t(3,n=!1),t(4,f="visible"),h="drawOnThisImage",console.log("instructionsText: ",c)},M=()=>{h==="drawOnThisImage"?s("startDrawing",!1):h==="drawOnUploadImage"&&s("startDrawing",w)},O=()=>{s("remixCanvas")};return l.$$set=S=>{"propValue"in S&&t(0,o=S.propValue),"cloudsToBe"in S&&t(13,d=S.cloudsToBe),"drawInstructions"in S&&t(14,a=S.drawInstructions),"title"in S&&t(1,r=S.title),"straightToInstructions"in S&&t(2,u=S.straightToInstructions)},[o,r,u,n,f,E,D,k,T,_,B,M,O,d,a]}class Ct extends ge{constructor(e){super(),be(this,e,Ut,Vt,we,{propValue:0,cloudsToBe:13,drawInstructions:14,title:1,straightToInstructions:2})}}function ot(l){let e,t;return e=new Ct({props:{title:l[7],drawInstructions:l[8],cloudsToBe:l[6],propValue:l[2],straightToInstructions:Mt}}),e.$on("startDrawing",l[11]),e.$on("remixCanvas",l[12]),{c(){ke(e.$$.fragment)},l(s){Ee(e.$$.fragment,s)},m(s,o){Te(e,s,o),t=!0},p(s,o){const d={};o&128&&(d.title=s[7]),o&256&&(d.drawInstructions=s[8]),o&64&&(d.cloudsToBe=s[6]),o&4&&(d.propValue=s[2]),e.$set(d)},i(s){t||(R(e.$$.fragment,s),t=!0)},o(s){X(e.$$.fragment,s),t=!1},d(s){De(e,s)}}}function rt(l){let e,t;return e=new Tt({props:{propValue:l[3],drawInstructions:l[1],contributeModal:l[9]}}),{c(){ke(e.$$.fragment)},l(s){Ee(e.$$.fragment,s)},m(s,o){Te(e,s,o),t=!0},p(s,o){const d={};o&8&&(d.propValue=s[3]),o&2&&(d.drawInstructions=s[1]),o&512&&(d.contributeModal=s[9]),e.$set(d)},i(s){t||(R(e.$$.fragment,s),t=!0)},o(s){X(e.$$.fragment,s),t=!1},d(s){De(e,s)}}}function nt(l){let e,t;return e=new ft({props:{repoImages:l[10],remix:!0}}),e.$on("drawOnImage",l[11]),{c(){ke(e.$$.fragment)},l(s){Ee(e.$$.fragment,s)},m(s,o){Te(e,s,o),t=!0},p(s,o){const d={};o&1024&&(d.repoImages=s[10]),e.$set(d)},i(s){t||(R(e.$$.fragment,s),t=!0)},o(s){X(e.$$.fragment,s),t=!1},d(s){De(e,s)}}}function it(l){let e,t;return e=new yt({props:{drawInstructions:l[8]}}),e.$on("closeInstructions",l[13]),{c(){ke(e.$$.fragment)},l(s){Ee(e.$$.fragment,s)},m(s,o){Te(e,s,o),t=!0},p(s,o){const d={};o&256&&(d.drawInstructions=s[8]),e.$set(d)},i(s){t||(R(e.$$.fragment,s),t=!0)},o(s){X(e.$$.fragment,s),t=!1},d(s){De(e,s)}}}function Nt(l){let e,t,s,o,d,a=l[2]&&l[5]&&l[6].length>0&&ot(l),r=l[4]&&rt(l),u=l[0]&&nt(l),c=l[1]&&it(l);return{c(){a&&a.c(),e=V(),r&&r.c(),t=V(),u&&u.c(),s=V(),c&&c.c(),o=Le()},l(n){a&&a.l(n),e=U(n),r&&r.l(n),t=U(n),u&&u.l(n),s=U(n),c&&c.l(n),o=Le()},m(n,f){a&&a.m(n,f),L(n,e,f),r&&r.m(n,f),L(n,t,f),u&&u.m(n,f),L(n,s,f),c&&c.m(n,f),L(n,o,f),d=!0},p(n,[f]){n[2]&&n[5]&&n[6].length>0?a?(a.p(n,f),f&100&&R(a,1)):(a=ot(n),a.c(),R(a,1),a.m(e.parentNode,e)):a&&(Pe(),X(a,1,1,()=>{a=null}),Oe()),n[4]?r?(r.p(n,f),f&16&&R(r,1)):(r=rt(n),r.c(),R(r,1),r.m(t.parentNode,t)):r&&(Pe(),X(r,1,1,()=>{r=null}),Oe()),n[0]?u?(u.p(n,f),f&1&&R(u,1)):(u=nt(n),u.c(),R(u,1),u.m(s.parentNode,s)):u&&(Pe(),X(u,1,1,()=>{u=null}),Oe()),n[1]?c?(c.p(n,f),f&2&&R(c,1)):(c=it(n),c.c(),R(c,1),c.m(o.parentNode,o)):c&&(Pe(),X(c,1,1,()=>{c=null}),Oe())},i(n){d||(R(a),R(r),R(u),R(c),d=!0)},o(n){X(a),X(r),X(u),X(c),d=!1},d(n){a&&a.d(n),n&&v(e),r&&r.d(n),n&&v(t),u&&u.d(n),n&&v(s),c&&c.d(n),n&&v(o)}}}let Mt=!1;function St(l,e,t){let s,o,d,a,r;_e(l,mt,h=>t(6,s=h)),_e(l,vt,h=>t(7,o=h)),_e(l,ht,h=>t(8,d=h)),_e(l,pt,h=>t(9,a=h)),_e(l,_t,h=>t(10,r=h));let u=!1,c=!1,n;He(async()=>{let _=await(await fetch("https://cloudcities.studiotomassaraceno.org/wp-json/wp/v2/media?categories=48&per_page=50")).json(),B=Math.floor(Math.random()*_.length);t(2,n=_[B].source_url)});let f,E=!1,w=!0;return[u,c,n,f,E,w,s,o,d,a,r,h=>{console.log("startDrawing: ",h.detail),h.detail?t(3,f=h.detail):(t(3,f=n),console.log("startDrawing BG: ",n)),u?(t(1,c=!0),t(0,u=!1),t(4,E=!0),t(3,f=h.detail.link)):(t(5,w=!1),t(4,E=!0))},()=>{console.log("choose canvas"),t(0,u=!0),t(5,w=!1)},()=>t(1,c=!1)]}class Ht extends ge{constructor(e){super(),be(this,e,St,Nt,we,{})}}export{Ht as default};
