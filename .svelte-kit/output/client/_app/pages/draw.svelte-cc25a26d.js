import{S as Ie,i as ke,s as Ee,e as w,c as _,a as D,d as f,b as d,g as M,K as Ge,E as pe,L as Xe,v as Ce,t as W,k as B,h as F,m as V,f as J,J as n,M as oe,N as C,O as ve,w as De,x as ye,y as Te,q as Z,o as ie,B as Be,P as Ke,j as Qe,l as be,Q as Ze,R as Se,p as Ve,T as _e,n as qe}from"../chunks/index-c93fc7ab.js";import{f as Oe,G as xe,c as $e,d as et,a as tt,r as lt}from"../chunks/wpTitles-0e9818f7.js";import"../chunks/index-a24d6f2a.js";function st(s){let e,t,l;return{c(){e=w("div"),this.h()},l(a){e=_(a,"DIV",{style:!0,class:!0}),D(e).forEach(f),this.h()},h(){d(e,"style",s[0]),d(e,"class","m-0")},m(a,r){M(a,e,r),t||(l=Ge(s[1].call(null,e)),t=!0)},p(a,[r]){r&1&&d(e,"style",a[0])},i:pe,o:pe,d(a){a&&f(e),t=!1,l()}}}function ot(s,e){return e.forEach(([t,l])=>s[t]=l),s}function it(s,e,t){let{target:l=void 0}=e,{sketch:a=void 0}=e,{parentDivStyle:r="display: block;"}=e,{debug:u=!1}=e,i;const o=Xe(),c={ref(){o("ref",l)},instance(){o("instance",i)}};function p(b){return t(2,l=b),{destroy(){t(2,l=void 0)}}}return Ce(async()=>{const b=await import("../chunks/p5.min-21ab2ccd.js").then(function(E){return E.p}),{default:k}=b,h=Object.entries(b).filter(([E,m])=>m instanceof Function&&E[0]!=="_"&&E!=="default");u&&console.log("available p5 native classes",h),i=new k(E=>(E=ot(E,h),u&&console.log("p5 instance",E),window._p5Instance=E,a(E)),l),c.ref(),c.instance()}),s.$$set=b=>{"target"in b&&t(2,l=b.target),"sketch"in b&&t(3,a=b.sketch),"parentDivStyle"in b&&t(0,r=b.parentDivStyle),"debug"in b&&t(4,u=b.debug)},[r,p,l,a,u]}class rt extends Ie{constructor(e){super(),ke(this,e,it,st,Ee,{target:2,sketch:3,parentDivStyle:0,debug:4})}}function Pe(s){let e,t,l,a,r,u,i,o,c,p,b,k,I,h,E,m,y,v,q,U,N,S,P;return{c(){e=w("div"),t=w("div"),l=w("div"),a=w("p"),r=W("width"),u=B(),i=w("div"),o=w("div"),c=B(),p=w("div"),b=B(),k=w("div"),I=B(),h=w("div"),E=w("p"),m=W("color"),y=B(),v=w("div"),q=w("input"),U=B(),N=w("div"),this.h()},l(T){e=_(T,"DIV",{class:!0});var O=D(e);t=_(O,"DIV",{class:!0});var X=D(t);l=_(X,"DIV",{class:!0});var A=D(l);a=_(A,"P",{});var j=D(a);r=F(j,"width"),j.forEach(f),u=V(A),i=_(A,"DIV",{class:!0});var x=D(i);o=_(x,"DIV",{class:!0,id:!0,style:!0}),D(o).forEach(f),c=V(x),p=_(x,"DIV",{class:!0,id:!0,style:!0}),D(p).forEach(f),b=V(x),k=_(x,"DIV",{class:!0,id:!0,style:!0}),D(k).forEach(f),x.forEach(f),A.forEach(f),I=V(X),h=_(X,"DIV",{class:!0});var Y=D(h);E=_(Y,"P",{});var G=D(E);m=F(G,"color"),G.forEach(f),y=V(Y),v=_(Y,"DIV",{class:!0});var ee=D(v);q=_(ee,"INPUT",{type:!0,min:!0,max:!0,id:!0,style:!0,class:!0}),ee.forEach(f),Y.forEach(f),X.forEach(f),U=V(O),N=_(O,"DIV",{class:!0}),D(N).forEach(f),O.forEach(f),this.h()},h(){d(o,"class","stroke-button svelte-1h05qwi"),d(o,"id","small-stroke"),J(o,"border",s[11]),d(p,"class","stroke-button svelte-1h05qwi"),d(p,"id","medium-stroke"),J(p,"border",s[12]),d(k,"class","stroke-button svelte-1h05qwi"),d(k,"id","big-stroke"),J(k,"border",s[13]),d(i,"class","stroke-width svelte-1h05qwi"),d(l,"class","style-section svelte-1h05qwi"),d(q,"type","range"),d(q,"min","0"),d(q,"max","255"),d(q,"id","color-slider"),J(q,"background-color","rgb("+s[0]+","+s[1]+","+s[2]),d(q,"class","svelte-1h05qwi"),d(v,"class","stroke-color svelte-1h05qwi"),d(h,"class","style-section svelte-1h05qwi"),d(t,"class","modal-center draw-settings svelte-1h05qwi"),d(N,"class","icon-button exit-button svelte-1h05qwi"),d(e,"class","container svelte-1h05qwi")},m(T,O){M(T,e,O),n(e,t),n(t,l),n(l,a),n(a,r),n(l,u),n(l,i),n(i,o),n(i,c),n(i,p),n(i,b),n(i,k),n(t,I),n(t,h),n(h,E),n(E,m),n(h,y),n(h,v),n(v,q),oe(q,s[0]),n(e,U),n(e,N),S||(P=[C(o,"click",s[15]),C(p,"click",s[15]),C(k,"click",s[15]),C(q,"change",s[18]),C(q,"change",s[26]),C(q,"input",s[26]),C(N,"click",s[22]),C(N,"touchstart",s[22],{passive:!0})],S=!0)},p(T,O){O[0]&2048&&J(o,"border",T[11]),O[0]&4096&&J(p,"border",T[12]),O[0]&8192&&J(k,"border",T[13]),O[0]&7&&J(q,"background-color","rgb("+T[0]+","+T[1]+","+T[2]),O[0]&1&&oe(q,T[0])},d(T){T&&f(e),S=!1,ve(P)}}}function Le(s){let e,t,l,a,r,u,i,o,c,p,b,k,I,h,E,m,y,v,q,U,N,S,P,T,O,X,A,j,x,Y,G,ee,ne,K,ce,de,fe,re,he,ge,H=s[7]&&Me();return{c(){e=w("div"),t=w("div"),l=w("h2"),a=W("Contribute to the Cloud Cities repository"),r=B(),u=w("div"),i=w("p"),o=W("Cloud City"),c=B(),p=w("input"),b=B(),k=w("div"),I=w("p"),h=W("Location"),E=B(),m=w("input"),y=B(),v=w("div"),q=w("p"),U=W("Description"),N=B(),S=w("input"),P=B(),T=w("div"),O=w("p"),X=W("Name (optional)"),A=B(),j=w("input"),x=B(),Y=w("div"),G=w("button"),ee=W("Submit"),ne=B(),K=w("button"),ce=W("Download"),de=B(),H&&H.c(),fe=B(),re=w("div"),this.h()},l(z){e=_(z,"DIV",{class:!0});var Q=D(e);t=_(Q,"DIV",{class:!0});var R=D(t);l=_(R,"H2",{});var g=D(l);a=F(g,"Contribute to the Cloud Cities repository"),g.forEach(f),r=V(R),u=_(R,"DIV",{class:!0});var L=D(u);i=_(L,"P",{class:!0});var le=D(i);o=F(le,"Cloud City"),le.forEach(f),c=V(L),p=_(L,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),L.forEach(f),b=V(R),k=_(R,"DIV",{class:!0});var $=D(k);I=_($,"P",{class:!0});var ue=D(I);h=F(ue,"Location"),ue.forEach(f),E=V($),m=_($,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),$.forEach(f),y=V(R),v=_(R,"DIV",{class:!0});var ae=D(v);q=_(ae,"P",{class:!0});var me=D(q);U=F(me,"Description"),me.forEach(f),N=V(ae),S=_(ae,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),ae.forEach(f),P=V(R),T=_(R,"DIV",{class:!0});var se=D(T);O=_(se,"P",{class:!0});var te=D(O);X=F(te,"Name (optional)"),te.forEach(f),A=V(se),j=_(se,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),se.forEach(f),x=V(R),Y=_(R,"DIV",{class:!0});var we=D(Y);G=_(we,"BUTTON",{id:!0,class:!0});var Ne=D(G);ee=F(Ne,"Submit"),Ne.forEach(f),ne=V(we),K=_(we,"BUTTON",{id:!0,class:!0});var Ue=D(K);ce=F(Ue,"Download"),Ue.forEach(f),we.forEach(f),de=V(R),H&&H.l(R),R.forEach(f),fe=V(Q),re=_(Q,"DIV",{class:!0}),D(re).forEach(f),Q.forEach(f),this.h()},h(){d(i,"class","svelte-1h05qwi"),d(p,"type","text"),d(p,"id","input-username"),d(p,"data-lpignore","true"),d(p,"class","svelte-1h05qwi"),d(u,"class","input-section svelte-1h05qwi"),d(I,"class","svelte-1h05qwi"),d(m,"type","text"),d(m,"id","input-username"),d(m,"data-lpignore","true"),d(m,"class","svelte-1h05qwi"),d(k,"class","input-section svelte-1h05qwi"),d(q,"class","svelte-1h05qwi"),d(S,"type","text"),d(S,"id","input-description"),d(S,"data-lpignore","true"),d(S,"class","svelte-1h05qwi"),d(v,"class","input-section svelte-1h05qwi"),d(O,"class","svelte-1h05qwi"),d(j,"type","text"),d(j,"id","input-name"),d(j,"data-lpignore","true"),d(j,"class","svelte-1h05qwi"),d(T,"class","input-section svelte-1h05qwi"),d(G,"id","submit-button"),d(G,"class","svelte-1h05qwi"),d(K,"id","download-button"),d(K,"class","svelte-1h05qwi"),d(Y,"class","flex-row"),d(t,"class","modal-center submit-image svelte-1h05qwi"),d(re,"class","icon-button exit-button svelte-1h05qwi"),d(e,"class","container svelte-1h05qwi")},m(z,Q){M(z,e,Q),n(e,t),n(t,l),n(l,a),n(t,r),n(t,u),n(u,i),n(i,o),n(u,c),n(u,p),oe(p,s[3]),n(t,b),n(t,k),n(k,I),n(I,h),n(k,E),n(k,m),oe(m,s[4]),n(t,y),n(t,v),n(v,q),n(q,U),n(v,N),n(v,S),oe(S,s[5]),n(t,P),n(t,T),n(T,O),n(O,X),n(T,A),n(T,j),oe(j,s[6]),n(t,x),n(t,Y),n(Y,G),n(G,ee),n(Y,ne),n(Y,K),n(K,ce),n(t,de),H&&H.m(t,null),n(e,fe),n(e,re),he||(ge=[C(p,"input",s[27]),C(m,"input",s[28]),C(S,"input",s[29]),C(j,"input",s[30]),C(G,"click",s[16]),C(K,"click",s[17]),C(re,"click",s[22]),C(re,"touchstart",s[22],{passive:!0})],he=!0)},p(z,Q){Q[0]&8&&p.value!==z[3]&&oe(p,z[3]),Q[0]&16&&m.value!==z[4]&&oe(m,z[4]),Q[0]&32&&S.value!==z[5]&&oe(S,z[5]),Q[0]&64&&j.value!==z[6]&&oe(j,z[6]),z[7]?H||(H=Me(),H.c(),H.m(t,null)):H&&(H.d(1),H=null)},d(z){z&&f(e),H&&H.d(),he=!1,ve(ge)}}}function Me(s){let e,t;return{c(){e=w("p"),t=W("We need more Information")},l(l){e=_(l,"P",{});var a=D(e);t=F(a,"We need more Information"),a.forEach(f)},m(l,a){M(l,e,a),n(e,t)},d(l){l&&f(e)}}}function He(s){let e,t,l,a,r,u,i,o,c,p,b,k,I,h,E,m,y;return{c(){e=w("div"),t=w("div"),l=w("h2"),a=W("Thank you! Submission complete"),r=B(),u=w("p"),i=W("Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),o=B(),c=w("div"),p=w("button"),b=W("Return to drawing"),k=B(),I=w("a"),h=w("button"),E=W("Visit the repository"),this.h()},l(v){e=_(v,"DIV",{class:!0});var q=D(e);t=_(q,"DIV",{class:!0});var U=D(t);l=_(U,"H2",{});var N=D(l);a=F(N,"Thank you! Submission complete"),N.forEach(f),r=V(U),u=_(U,"P",{});var S=D(u);i=F(S,"Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),S.forEach(f),o=V(U),c=_(U,"DIV",{class:!0});var P=D(c);p=_(P,"BUTTON",{class:!0});var T=D(p);b=F(T,"Return to drawing"),T.forEach(f),k=V(P),I=_(P,"A",{href:!0,class:!0});var O=D(I);h=_(O,"BUTTON",{class:!0});var X=D(h);E=F(X,"Visit the repository"),X.forEach(f),O.forEach(f),P.forEach(f),U.forEach(f),q.forEach(f),this.h()},h(){d(p,"class","svelte-1h05qwi"),d(h,"class","svelte-1h05qwi"),d(I,"href","/"),d(I,"class","href svelte-1h05qwi"),d(c,"class","flex-row svelte-1h05qwi"),d(t,"class","modal-center svelte-1h05qwi"),d(e,"class","container svelte-1h05qwi")},m(v,q){M(v,e,q),n(e,t),n(t,l),n(l,a),n(t,r),n(t,u),n(u,i),n(t,o),n(t,c),n(c,p),n(p,b),n(c,k),n(c,I),n(I,h),n(h,E),m||(y=C(p,"click",s[24]),m=!0)},p:pe,d(v){v&&f(e),m=!1,y()}}}function ze(s){let e,t,l,a,r;return{c(){e=w("div"),t=B(),l=w("div"),this.h()},l(u){e=_(u,"DIV",{class:!0,id:!0}),D(e).forEach(f),t=V(u),l=_(u,"DIV",{class:!0,id:!0}),D(l).forEach(f),this.h()},h(){d(e,"class","icon-button finished-drawing-button svelte-1h05qwi"),d(e,"id","finish-button"),d(l,"class","icon-button pallette-button svelte-1h05qwi"),d(l,"id","p-button")},m(u,i){M(u,e,i),M(u,t,i),M(u,l,i),a||(r=[C(e,"click",s[31]),C(e,"touchstart",s[32],{passive:!0}),C(e,"mouseenter",s[19]),C(e,"mouseleave",s[20]),C(l,"click",s[23]),C(l,"touchstart",s[33],{passive:!0}),C(l,"mouseenter",s[19]),C(l,"mouseleave",s[20])],a=!0)},p:pe,d(u){u&&f(e),u&&f(t),u&&f(l),a=!1,ve(r)}}}function nt(s){let e,t,l,a,r,u,i,o,c,p,b,k;t=new rt({props:{sketch:s[14]}});let I=s[9]&&Pe(s),h=s[10]&&Le(s),E=s[8]&&He(s),m=!s[9]&&!s[10]&&ze(s);return{c(){e=w("div"),De(t.$$.fragment),l=B(),a=w("a"),r=w("div"),u=B(),I&&I.c(),i=B(),h&&h.c(),o=B(),E&&E.c(),c=B(),m&&m.c(),this.h()},l(y){e=_(y,"DIV",{id:!0});var v=D(e);ye(t.$$.fragment,v),l=V(v),a=_(v,"A",{href:!0});var q=D(a);r=_(q,"DIV",{class:!0}),D(r).forEach(f),q.forEach(f),u=V(v),I&&I.l(v),i=V(v),h&&h.l(v),o=V(v),E&&E.l(v),c=V(v),m&&m.l(v),v.forEach(f),this.h()},h(){d(r,"class","icon-button repo-button svelte-1h05qwi"),d(a,"href","/"),d(e,"id","canvas-container")},m(y,v){M(y,e,v),Te(t,e,null),n(e,l),n(e,a),n(a,r),n(e,u),I&&I.m(e,null),n(e,i),h&&h.m(e,null),n(e,o),E&&E.m(e,null),n(e,c),m&&m.m(e,null),p=!0,b||(k=[C(r,"mouseenter",s[19]),C(r,"mouseleave",s[20]),C(r,"touchstart",s[21],{passive:!0})],b=!0)},p(y,v){y[9]?I?I.p(y,v):(I=Pe(y),I.c(),I.m(e,i)):I&&(I.d(1),I=null),y[10]?h?h.p(y,v):(h=Le(y),h.c(),h.m(e,o)):h&&(h.d(1),h=null),y[8]?E?E.p(y,v):(E=He(y),E.c(),E.m(e,c)):E&&(E.d(1),E=null),!y[9]&&!y[10]?m?m.p(y,v):(m=ze(y),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i(y){p||(Z(t.$$.fragment,y),p=!0)},o(y){ie(t.$$.fragment,y),p=!1},d(y){y&&f(e),Be(t),I&&I.d(),h&&h.d(),E&&E.d(),m&&m.d(),b=!1,ve(k)}}}function at(s,e,t){let{propValue:l}=e,a=l,r=4,u=0,i=0,o=0,c;const p=g=>{let L;g.preload=()=>{console.log("preload"),L=g.loadImage(a)},g.setup=()=>{if(console.log("width: ",L.width),console.log("height: ",L.height),g.windowWidth>500)if(L.width<L.height){let te=L.height/(L.width/g.windowWidth);g.createCanvas(g.windowWidth,te)}else g.createCanvas(g.windowWidth,g.windowHeight);else g.windowWidth<500&&L.width<L.height?g.createCanvas(g.windowWidth,g.windowHeight):g.windowWidth<500&&g.createCanvas(L.width/2,g.windowHeight);g.background(L);let se=document.getElementById("canvas-container");se.addEventListener("touchstart",te=>{te.touches.length===2&&(c=!0)}),se.addEventListener("touchmove",te=>{te.touches.length===2&&(c=!0)}),se.addEventListener("touchend",te=>{c&&(c=!1)})};let le=0,$=0,ue=0,ae=0,me=.3;g.mousePressed=()=>{if(!(T||c||P||A))return le=g.mouseX,$=g.mouseY,ue=g.mouseX,ae=g.mouseY,!1},g.touchMoved=()=>{if(T||c||P||A)return;let se=g.mouseX,te=g.mouseY;return le+=(se-le)*me,$+=(te-$)*me,g.strokeWeight(r),g.stroke(u,i,o),g.line(le,$,ue,ae),ue=le,ae=$,!1},g.windowResized=()=>{g.resizeCanvas(g.windowWidth,g.windowHeight),g.background(L)}};let b=document.getElementsByClassName("stroke-button");const k=g=>{g.target.id==="small-stroke"?r=2:g.target.id==="medium-stroke"?r=4:g.target.id==="big-stroke"&&(r=6),b.forEach(L=>{L!==g.target?L.style.border="none":L.style.border="solid 4px #00D1FF"})};let I,h,E,m,y,v=JSON.parse(localStorage.getItem("cloudUploads"));const q=["none"];v||localStorage.setItem("cloudUploads",JSON.stringify(q));let U=!0;const N=()=>{if(I&&E&&U){v=JSON.parse(localStorage.getItem("cloudUploads")),console.log("uploads: ",v),v.push("upload"),localStorage.setItem("cloudUploads",JSON.stringify(v)),U=!1,t(7,y=!1);let g=new FormData;g.append("title",I),g.append("location",h),g.append("description",E),g.append("name",m),g.append("userUploads",v.length),document.getElementById("defaultCanvas0").toBlob(function(le){g.append("cloud",le),fetch("/addPostfromServer",{method:"POST",body:g}).then($=>{console.log("result: ",$.status)})}),t(10,T=!1),t(8,S=!0)}else if(U)t(7,y=!0);else return};let S=!1,P=!1,T=!1;const O=()=>{let g=document.createElement("a");g.download="myCanvas.png",g.href=document.getElementById("defaultCanvas0").toDataURL(),g.click()},X=g=>{t(0,u=g.srcElement.value),t(1,i=g.srcElement.value),t(2,o=g.srcElement.value)};let A=!1;const j=()=>{A=!0},x=()=>{A=!1},Y=()=>{window.location.replace("/")},G=()=>{P&&t(9,P=!1),T&&t(10,T=!1),A=!1};let ee,ne,K;const ce=()=>{t(9,P=!P),r===2?(t(11,ee="solid 4px #00D1FF"),t(12,ne="none"),t(13,K="none")):r===4?(t(11,ee="none"),t(12,ne="solid 4px #00D1FF"),t(13,K="none")):(t(11,ee="none"),t(12,ne="none"),t(13,K="solid 4px #00D1FF"))},de=()=>{console.log("return to draw"),window.location.reload()};function fe(){u=Ke(this.value),t(0,u)}function re(){I=this.value,t(3,I)}function he(){h=this.value,t(4,h)}function ge(){E=this.value,t(5,E)}function H(){m=this.value,t(6,m)}const z=()=>t(10,T=!T),Q=()=>(t(10,T=!T),console.log("touch event on pallette")),R=()=>t(9,P=!P);return s.$$set=g=>{"propValue"in g&&t(25,l=g.propValue)},[u,i,o,I,h,E,m,y,S,P,T,ee,ne,K,p,k,N,O,X,j,x,Y,G,ce,de,l,fe,re,he,ge,H,z,Q,R]}class ut extends Ie{constructor(e){super(),ke(this,e,at,nt,Ee,{propValue:25},null,[-1,-1])}}function We(s){let e,t,l,a,r,u,i,o,c,p,b,k,I,h,E,m=s[4]&&Fe(s);return{c(){e=w("div"),t=w("h2"),l=W(s[1]),a=B(),r=w("div"),u=B(),i=w("div"),o=w("button"),c=B(),p=w("button"),b=B(),k=w("button"),I=B(),m&&m.c(),this.h()},l(y){e=_(y,"DIV",{class:!0});var v=D(e);t=_(v,"H2",{class:!0});var q=D(t);l=F(q,s[1]),q.forEach(f),a=V(v),r=_(v,"DIV",{id:!0}),D(r).forEach(f),u=V(v),i=_(v,"DIV",{class:!0});var U=D(i);o=_(U,"BUTTON",{id:!0,class:!0}),D(o).forEach(f),c=V(U),p=_(U,"BUTTON",{id:!0,class:!0}),D(p).forEach(f),b=V(U),k=_(U,"BUTTON",{id:!0,class:!0}),D(k).forEach(f),U.forEach(f),I=V(v),m&&m.l(v),v.forEach(f),this.h()},h(){d(t,"class","svelte-15aiz3m"),d(r,"id","cloudstobe"),d(o,"id","draw-button"),d(o,"class","enter-button svelte-15aiz3m"),d(p,"id","remix-button"),d(p,"class","enter-button svelte-15aiz3m"),d(k,"id","upload-button"),d(k,"class","enter-button svelte-15aiz3m"),d(i,"class","button-section svelte-15aiz3m"),d(e,"class","start-draw-center svelte-15aiz3m")},m(y,v){M(y,e,v),n(e,t),n(t,l),n(e,a),n(e,r),n(e,u),n(e,i),n(i,o),n(i,c),n(i,p),n(i,b),n(i,k),n(e,I),m&&m.m(e,null),h||(E=[C(o,"click",s[9]),C(p,"click",s[11]),C(k,"click",s[6])],h=!0)},p(y,v){v&2&&Qe(l,y[1]),y[4]?m?m.p(y,v):(m=Fe(y),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(y){y&&f(e),m&&m.d(),h=!1,ve(E)}}}function Fe(s){let e,t,l,a,r,u,i=!s[5]&&je(s),o=s[5]&&Re();return{c(){e=w("input"),t=B(),i&&i.c(),l=B(),o&&o.c(),a=be(),this.h()},l(c){e=_(c,"INPUT",{accept:!0,type:!0,id:!0,class:!0}),t=V(c),i&&i.l(c),l=V(c),o&&o.l(c),a=be(),this.h()},h(){d(e,"accept",".png, .jpg, .jpeg"),d(e,"type","file"),d(e,"id","upload"),d(e,"class","svelte-15aiz3m")},m(c,p){M(c,e,p),M(c,t,p),i&&i.m(c,p),M(c,l,p),o&&o.m(c,p),M(c,a,p),r||(u=C(e,"change",s[7]),r=!0)},p(c,p){c[5]?i&&(i.d(1),i=null):i?i.p(c,p):(i=je(c),i.c(),i.m(l.parentNode,l)),c[5]?o||(o=Re(),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d(c){c&&f(e),c&&f(t),i&&i.d(c),c&&f(l),o&&o.d(c),c&&f(a),r=!1,u()}}}function je(s){let e,t,l,a;return{c(){e=w("button"),t=W("Start")},l(r){e=_(r,"BUTTON",{});var u=D(e);t=F(u,"Start"),u.forEach(f)},m(r,u){M(r,e,u),n(e,t),l||(a=C(e,"click",s[8]),l=!0)},p:pe,d(r){r&&f(e),l=!1,a()}}}function Re(s){let e,t;return{c(){e=w("p"),t=W("Please choose a smaller file")},l(l){e=_(l,"P",{});var a=D(e);t=F(a,"Please choose a smaller file"),a.forEach(f)},m(l,a){M(l,e,a),n(e,t)},d(l){l&&f(e)}}}function ct(s){let e,t,l,a,r,u,i,o,c,p,b=s[2]&&We(s);return{c(){e=w("div"),b&&b.c(),t=B(),l=w("div"),a=w("div"),r=B(),u=w("button"),this.h()},l(k){e=_(k,"DIV",{class:!0,style:!0});var I=D(e);b&&b.l(I),t=V(I),l=_(I,"DIV",{class:!0,style:!0});var h=D(l);a=_(h,"DIV",{id:!0}),D(a).forEach(f),r=V(h),u=_(h,"BUTTON",{id:!0}),D(u).forEach(f),h.forEach(f),I.forEach(f),this.h()},h(){d(a,"id","drawInstructions"),d(u,"id","begin-button"),d(l,"class","start-draw-center svelte-15aiz3m"),J(l,"visibility",s[3]),d(e,"class","start-draw-container svelte-15aiz3m"),J(e,"background-image","url("+s[0]+")"),J(e,"background-size","cover"),J(e,"background-position","center")},m(k,I){M(k,e,I),b&&b.m(e,null),n(e,t),n(e,l),n(l,a),n(l,r),n(l,u),o=!0,c||(p=C(u,"click",s[10]),c=!0)},p(k,[I]){k[2]?b?b.p(k,I):(b=We(k),b.c(),b.m(e,t)):b&&(b.d(1),b=null),(!o||I&8)&&J(l,"visibility",k[3]),(!o||I&1)&&J(e,"background-image","url("+k[0]+")")},i(k){o||(Ze(()=>{i||(i=Se(e,Oe,{},!0)),i.run(1)}),o=!0)},o(k){i||(i=Se(e,Oe,{},!1)),i.run(0),o=!1},d(k){k&&f(e),b&&b.d(),k&&i&&i.end(),c=!1,p()}}}function dt(s,e,t){const l=Xe();let{propValue:a}=e,{cloudsToBe:r}=e,{drawInstructions:u}=e,{title:i}=e,o;Ce(async()=>{let N=document.getElementById("cloudstobe");N.innerHTML=r[0],o=document.getElementById("drawInstructions"),o.innerHTML=u[0];let S=document.getElementById("draw-button"),P=document.getElementById("remix-button"),T=document.getElementById("upload-button");S.innerHTML=r[1],P.innerHTML=r[2],T.innerHTML=r[3];let O=document.getElementById("begin-button");O.innerHTML=u[1]});let c=!0,p="hidden",b=!1,k;const I=()=>{t(4,b=!0)};let h;const E=()=>{t(5,h=!1);const S=document.getElementById("upload").files[0];if(S.size>1e7){t(5,h=!0);return}console.log("Blob?: : ",S instanceof Blob),k=URL.createObjectURL(S)};let m;const y=()=>{console.log("chooseImage: ",k),t(2,c=!1),t(3,p="visible"),m="drawOnUploadImage"},v=()=>{t(2,c=!1),t(3,p="visible"),m="drawOnThisImage",console.log("instructionsText: ",o)},q=()=>{m==="drawOnThisImage"?l("startDrawing",!1):m==="drawOnUploadImage"&&l("startDrawing",k)},U=()=>{l("remixCanvas")};return s.$$set=N=>{"propValue"in N&&t(0,a=N.propValue),"cloudsToBe"in N&&t(12,r=N.cloudsToBe),"drawInstructions"in N&&t(13,u=N.drawInstructions),"title"in N&&t(1,i=N.title)},[a,i,c,p,b,h,I,E,y,v,q,U,r,u]}class ft extends Ie{constructor(e){super(),ke(this,e,dt,ct,Ee,{propValue:0,cloudsToBe:12,drawInstructions:13,title:1})}}function Ye(s){let e,t;return e=new ft({props:{title:s[6],drawInstructions:s[7],cloudsToBe:s[5],propValue:s[1]}}),e.$on("startDrawing",s[9]),e.$on("remixCanvas",s[10]),{c(){De(e.$$.fragment)},l(l){ye(e.$$.fragment,l)},m(l,a){Te(e,l,a),t=!0},p(l,a){const r={};a&64&&(r.title=l[6]),a&128&&(r.drawInstructions=l[7]),a&32&&(r.cloudsToBe=l[5]),a&2&&(r.propValue=l[1]),e.$set(r)},i(l){t||(Z(e.$$.fragment,l),t=!0)},o(l){ie(e.$$.fragment,l),t=!1},d(l){Be(e,l)}}}function Ae(s){let e,t;return e=new ut({props:{propValue:s[2]}}),{c(){De(e.$$.fragment)},l(l){ye(e.$$.fragment,l)},m(l,a){Te(e,l,a),t=!0},p(l,a){const r={};a&4&&(r.propValue=l[2]),e.$set(r)},i(l){t||(Z(e.$$.fragment,l),t=!0)},o(l){ie(e.$$.fragment,l),t=!1},d(l){Be(e,l)}}}function Je(s){let e,t;return e=new xe({props:{repoImages:s[8],remix:!0}}),e.$on("drawOnImage",s[9]),{c(){De(e.$$.fragment)},l(l){ye(e.$$.fragment,l)},m(l,a){Te(e,l,a),t=!0},p(l,a){const r={};a&256&&(r.repoImages=l[8]),e.$set(r)},i(l){t||(Z(e.$$.fragment,l),t=!0)},o(l){ie(e.$$.fragment,l),t=!1},d(l){Be(e,l)}}}function ht(s){let e,t,l,a,r=s[1]&&s[4]&&s[5].length>0&&Ye(s),u=s[3]&&Ae(s),i=s[0]&&Je(s);return{c(){r&&r.c(),e=B(),u&&u.c(),t=B(),i&&i.c(),l=be()},l(o){r&&r.l(o),e=V(o),u&&u.l(o),t=V(o),i&&i.l(o),l=be()},m(o,c){r&&r.m(o,c),M(o,e,c),u&&u.m(o,c),M(o,t,c),i&&i.m(o,c),M(o,l,c),a=!0},p(o,[c]){o[1]&&o[4]&&o[5].length>0?r?(r.p(o,c),c&50&&Z(r,1)):(r=Ye(o),r.c(),Z(r,1),r.m(e.parentNode,e)):r&&(qe(),ie(r,1,1,()=>{r=null}),Ve()),o[3]?u?(u.p(o,c),c&8&&Z(u,1)):(u=Ae(o),u.c(),Z(u,1),u.m(t.parentNode,t)):u&&(qe(),ie(u,1,1,()=>{u=null}),Ve()),o[0]?i?(i.p(o,c),c&1&&Z(i,1)):(i=Je(o),i.c(),Z(i,1),i.m(l.parentNode,l)):i&&(qe(),ie(i,1,1,()=>{i=null}),Ve())},i(o){a||(Z(r),Z(u),Z(i),a=!0)},o(o){ie(r),ie(u),ie(i),a=!1},d(o){r&&r.d(o),o&&f(e),u&&u.d(o),o&&f(t),i&&i.d(o),o&&f(l)}}}function mt(s,e,t){let l,a,r,u;_e(s,$e,h=>t(5,l=h)),_e(s,et,h=>t(6,a=h)),_e(s,tt,h=>t(7,r=h)),_e(s,lt,h=>t(8,u=h));let i=!1,o;Ce(async()=>{let E=await(await fetch("https://cloudcities.studiotomassaraceno.org/wp-json/wp/v2/media?categories=48&per_page=50")).json();console.log("drawbackgrounds: ",E),console.log("drawbackgrounds length: ",E.length);let m=Math.floor(Math.random()*E.length);t(1,o=E[m].source_url),console.log("cloudstobe in onmount: ",l)});let c,p=!1,b=!0;return[i,o,c,p,b,l,a,r,u,h=>{console.log("startDrawing: ",h.detail),h.detail?t(2,c=h.detail):(t(2,c=o),console.log("startDrawing BG: ",o)),i?(t(0,i=!1),t(4,b=!0),t(1,o=h.detail.link)):(t(4,b=!1),t(3,p=!0))},()=>{console.log("choose canvas"),t(0,i=!0),t(4,b=!1)}]}class wt extends Ie{constructor(e){super(),ke(this,e,mt,ht,Ee,{})}}export{wt as default};
