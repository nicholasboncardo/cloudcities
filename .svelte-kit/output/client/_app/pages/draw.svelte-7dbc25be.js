import{S as pe,i as _e,s as we,e as _,c as w,a as k,d as m,b as c,g as P,K as at,E as ce,L as Fe,v as He,t as R,k as D,h as Y,m as B,f as x,J as i,M as ue,N as V,O as he,P as Je,w as Ie,x as ke,y as Ee,q as A,o as ee,B as ye,Q as ut,j as ct,l as Le,R as dt,T as Ae,p as Pe,U as ge,n as Se}from"../chunks/index-4cf7e0c2.js";import{f as Xe,G as ft,c as ht,d as mt,a as vt,b as bt,r as gt}from"../chunks/wpTitles-f85297d0.js";import"../chunks/index-f857ab2f.js";function pt(l){let e,t,s;return{c(){e=_("div"),this.h()},l(o){e=w(o,"DIV",{style:!0,class:!0}),k(e).forEach(m),this.h()},h(){c(e,"style",l[0]),c(e,"class","m-0")},m(o,d){P(o,e,d),t||(s=at(l[1].call(null,e)),t=!0)},p(o,[d]){d&1&&c(e,"style",o[0])},i:ce,o:ce,d(o){o&&m(e),t=!1,s()}}}function _t(l,e){return e.forEach(([t,s])=>l[t]=s),l}function wt(l,e,t){let{target:s=void 0}=e,{sketch:o=void 0}=e,{parentDivStyle:d="display: block;"}=e,{debug:v=!1}=e,n;const a=Fe(),u={ref(){a("ref",s)},instance(){a("instance",n)}};function r(h){return t(2,s=h),{destroy(){t(2,s=void 0)}}}return He(async()=>{const h=await import("../chunks/p5.min-21ab2ccd.js").then(function(I){return I.p}),{default:p}=h,y=Object.entries(h).filter(([I,g])=>g instanceof Function&&I[0]!=="_"&&I!=="default");v&&console.log("available p5 native classes",y),n=new p(I=>(I=_t(I,y),v&&console.log("p5 instance",I),window._p5Instance=I,o(I)),s),u.ref(),u.instance()}),l.$$set=h=>{"target"in h&&t(2,s=h.target),"sketch"in h&&t(3,o=h.sketch),"parentDivStyle"in h&&t(0,d=h.parentDivStyle),"debug"in h&&t(4,v=h.debug)},[d,r,s,o,v]}class It extends pe{constructor(e){super(),_e(this,e,wt,pt,we,{target:2,sketch:3,parentDivStyle:0,debug:4})}}function Ke(l){let e,t,s,o,d,v,n,a,u,r,h,p,E,y,I,g,b,T,C,U,S,X,O,L,N,H;return{c(){e=_("div"),t=_("div"),s=_("div"),o=_("p"),d=R("size"),v=D(),n=_("div"),a=_("div"),u=D(),r=_("div"),h=D(),p=_("div"),E=D(),y=_("div"),I=_("p"),g=R("color"),b=D(),T=_("div"),C=_("input"),U=D(),S=_("button"),X=R("Done"),O=D(),L=_("div"),this.h()},l(W){e=w(W,"DIV",{class:!0});var G=k(e);t=w(G,"DIV",{class:!0});var J=k(t);s=w(J,"DIV",{class:!0});var ne=k(s);o=w(ne,"P",{class:!0});var $=k(o);d=Y($,"size"),$.forEach(m),v=B(ne),n=w(ne,"DIV",{class:!0});var z=k(n);a=w(z,"DIV",{class:!0,id:!0,style:!0}),k(a).forEach(m),u=B(z),r=w(z,"DIV",{class:!0,id:!0,style:!0}),k(r).forEach(m),h=B(z),p=w(z,"DIV",{class:!0,id:!0,style:!0}),k(p).forEach(m),z.forEach(m),ne.forEach(m),E=B(J),y=w(J,"DIV",{class:!0});var ie=k(y);I=w(ie,"P",{class:!0});var te=k(I);g=Y(te,"color"),te.forEach(m),b=B(ie),T=w(ie,"DIV",{class:!0});var se=k(T);C=w(se,"INPUT",{type:!0,min:!0,max:!0,id:!0,style:!0,class:!0}),se.forEach(m),ie.forEach(m),U=B(J),S=w(J,"BUTTON",{id:!0,class:!0});var K=k(S);X=Y(K,"Done"),K.forEach(m),J.forEach(m),O=B(G),L=w(G,"DIV",{class:!0}),k(L).forEach(m),G.forEach(m),this.h()},h(){c(o,"class","svelte-teabuo"),c(a,"class","stroke-button svelte-teabuo"),c(a,"id","small-stroke"),x(a,"border",l[10]),c(r,"class","stroke-button svelte-teabuo"),c(r,"id","medium-stroke"),x(r,"border",l[11]),c(p,"class","stroke-button svelte-teabuo"),c(p,"id","big-stroke"),x(p,"border",l[12]),c(n,"class","stroke-width svelte-teabuo"),c(s,"class","style-section svelte-teabuo"),c(I,"class","svelte-teabuo"),c(C,"type","range"),c(C,"min","0"),c(C,"max","255"),c(C,"id","color-slider"),x(C,"background-color","rgb("+l[0]+","+l[1]+","+l[2]),c(C,"class","svelte-teabuo"),c(T,"class","stroke-color svelte-teabuo"),c(y,"class","style-section svelte-teabuo"),c(S,"id","pallette-done"),c(S,"class","svelte-teabuo"),c(t,"class","modal-center draw-settings svelte-teabuo"),c(L,"class","icon-button exit-button svelte-teabuo"),c(e,"class","container svelte-teabuo")},m(W,G){P(W,e,G),i(e,t),i(t,s),i(s,o),i(o,d),i(s,v),i(s,n),i(n,a),i(n,u),i(n,r),i(n,h),i(n,p),i(t,E),i(t,y),i(y,I),i(I,g),i(y,b),i(y,T),i(T,C),ue(C,l[0]),i(t,U),i(t,S),i(S,X),i(e,O),i(e,L),N||(H=[V(a,"click",l[15]),V(r,"click",l[15]),V(p,"click",l[15]),V(C,"change",l[18]),V(C,"change",l[29]),V(C,"input",l[29]),V(S,"click",l[22]),V(S,"touchstart",l[22],{passive:!0}),V(L,"click",l[22]),V(L,"touchstart",l[22],{passive:!0})],N=!0)},p(W,G){G[0]&1024&&x(a,"border",W[10]),G[0]&2048&&x(r,"border",W[11]),G[0]&4096&&x(p,"border",W[12]),G[0]&7&&x(C,"background-color","rgb("+W[0]+","+W[1]+","+W[2]),G[0]&1&&ue(C,W[0])},d(W){W&&m(e),N=!1,he(H)}}}function Qe(l){let e,t,s,o,d,v,n,a=l[13][0]+"",u,r,h,p,E,y,I=l[13][1]+"",g,b,T,C,U,S,X=l[13][2]+"",O,L,N,H,W,G=l[13][3]+"",J,ne,$,z,ie=l[13][4]+"",te,se,K,Te,me,le,De=l[13][5]+"",ve,ae,Be,be,re,Ve=l[13][6]+"",f,M,oe,Q,de,fe,q=l[6]&&Ze();return{c(){e=_("div"),t=_("div"),s=_("h2"),o=R("Contribute to the Cloud Cities repository"),d=D(),v=_("div"),n=_("p"),u=R(a),r=D(),h=_("input"),p=D(),E=_("div"),y=_("p"),g=R(I),b=D(),T=_("input"),C=D(),U=_("div"),S=_("p"),O=R(X),L=D(),N=_("input"),H=D(),W=_("p"),J=R(G),ne=D(),$=_("div"),z=_("button"),te=R(ie),se=D(),K=_("img"),me=D(),le=_("button"),ve=R(De),ae=_("img"),be=D(),re=_("button"),f=R(Ve),M=D(),q&&q.c(),oe=D(),Q=_("div"),this.h()},l(j){e=w(j,"DIV",{class:!0});var Z=k(e);t=w(Z,"DIV",{class:!0});var F=k(t);s=w(F,"H2",{});var je=k(s);o=Y(je,"Contribute to the Cloud Cities repository"),je.forEach(m),d=B(F),v=w(F,"DIV",{class:!0});var Ce=k(v);n=w(Ce,"P",{class:!0});var ze=k(n);u=Y(ze,a),ze.forEach(m),r=B(Ce),h=w(Ce,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),Ce.forEach(m),p=B(F),E=w(F,"DIV",{class:!0});var Ue=k(E);y=w(Ue,"P",{class:!0});var Re=k(y);g=Y(Re,I),Re.forEach(m),b=B(Ue),T=w(Ue,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),Ue.forEach(m),C=B(F),U=w(F,"DIV",{class:!0});var Ne=k(U);S=w(Ne,"P",{class:!0});var Ye=k(S);O=Y(Ye,X),Ye.forEach(m),L=B(Ne),N=w(Ne,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),Ne.forEach(m),H=B(F),W=w(F,"P",{});var qe=k(W);J=Y(qe,G),qe.forEach(m),ne=B(F),$=w(F,"DIV",{class:!0});var Me=k($);z=w(Me,"BUTTON",{id:!0,class:!0});var Oe=k(z);te=Y(Oe,ie),se=B(Oe),K=w(Oe,"IMG",{src:!0,alt:!0,class:!0}),Oe.forEach(m),me=B(Me),le=w(Me,"BUTTON",{id:!0,class:!0});var We=k(le);ve=Y(We,De),ae=w(We,"IMG",{src:!0,alt:!0,class:!0}),We.forEach(m),Me.forEach(m),be=B(F),re=w(F,"BUTTON",{id:!0,class:!0});var Ge=k(re);f=Y(Ge,Ve),Ge.forEach(m),M=B(F),q&&q.l(F),F.forEach(m),oe=B(Z),Q=w(Z,"DIV",{class:!0}),k(Q).forEach(m),Z.forEach(m),this.h()},h(){c(n,"class","svelte-teabuo"),c(h,"type","text"),c(h,"id","input-title"),c(h,"data-lpignore","true"),c(h,"class","svelte-teabuo"),c(v,"class","input-section svelte-teabuo"),c(y,"class","svelte-teabuo"),c(T,"type","text"),c(T,"id","input-location"),c(T,"data-lpignore","true"),c(T,"class","svelte-teabuo"),c(E,"class","input-section svelte-teabuo"),c(S,"class","svelte-teabuo"),c(N,"type","text"),c(N,"id","input-name"),c(N,"data-lpignore","true"),c(N,"class","svelte-teabuo"),c(U,"class","input-section svelte-teabuo"),Je(K.src,Te="./cloud_submit.svg")||c(K,"src",Te),c(K,"alt","submit"),c(K,"class","svelte-teabuo"),c(z,"id","submit-button"),c(z,"class","svelte-teabuo"),Je(ae.src,Be="./cloud_download.svg")||c(ae,"src",Be),c(ae,"alt","download"),c(ae,"class","svelte-teabuo"),c(le,"id","download-button"),c(le,"class","svelte-teabuo"),c($,"class","flex-row"),c(re,"id","cancel-button"),c(re,"class","svelte-teabuo"),c(t,"class","modal-center submit-image svelte-teabuo"),c(Q,"class","icon-button exit-button svelte-teabuo"),c(e,"class","container svelte-teabuo")},m(j,Z){P(j,e,Z),i(e,t),i(t,s),i(s,o),i(t,d),i(t,v),i(v,n),i(n,u),i(v,r),i(v,h),ue(h,l[3]),i(t,p),i(t,E),i(E,y),i(y,g),i(E,b),i(E,T),ue(T,l[4]),i(t,C),i(t,U),i(U,S),i(S,O),i(U,L),i(U,N),ue(N,l[5]),i(t,H),i(t,W),i(W,J),i(t,ne),i(t,$),i($,z),i(z,te),i(z,se),i(z,K),i($,me),i($,le),i(le,ve),i(le,ae),i(t,be),i(t,re),i(re,f),i(t,M),q&&q.m(t,null),i(e,oe),i(e,Q),de||(fe=[V(h,"input",l[30]),V(T,"input",l[31]),V(N,"input",l[32]),V(z,"click",l[16]),V(le,"click",l[17]),V(re,"click",l[25]),V(Q,"click",l[22]),V(Q,"touchstart",l[22],{passive:!0})],de=!0)},p(j,Z){Z[0]&8&&h.value!==j[3]&&ue(h,j[3]),Z[0]&16&&T.value!==j[4]&&ue(T,j[4]),Z[0]&32&&N.value!==j[5]&&ue(N,j[5]),j[6]?q||(q=Ze(),q.c(),q.m(t,null)):q&&(q.d(1),q=null)},d(j){j&&m(e),q&&q.d(),de=!1,he(fe)}}}function Ze(l){let e,t;return{c(){e=_("p"),t=R(`We are missing information to complete your Cloud Cities submission. Please tell us more
						about your drawing! Please note: Location and Name are optional.`)},l(s){e=w(s,"P",{});var o=k(e);t=Y(o,`We are missing information to complete your Cloud Cities submission. Please tell us more
						about your drawing! Please note: Location and Name are optional.`),o.forEach(m)},m(s,o){P(s,e,o),i(e,t)},d(s){s&&m(e)}}}function xe(l){let e,t,s,o,d,v,n,a,u,r,h,p,E,y,I,g,b;return{c(){e=_("div"),t=_("div"),s=_("h2"),o=R("Thank you! Submission complete"),d=D(),v=_("p"),n=R("Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),a=D(),u=_("div"),r=_("button"),h=R("Return to drawing"),p=D(),E=_("a"),y=_("button"),I=R("Visit the repository"),this.h()},l(T){e=w(T,"DIV",{class:!0});var C=k(e);t=w(C,"DIV",{class:!0});var U=k(t);s=w(U,"H2",{});var S=k(s);o=Y(S,"Thank you! Submission complete"),S.forEach(m),d=B(U),v=w(U,"P",{});var X=k(v);n=Y(X,"Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),X.forEach(m),a=B(U),u=w(U,"DIV",{class:!0});var O=k(u);r=w(O,"BUTTON",{class:!0});var L=k(r);h=Y(L,"Return to drawing"),L.forEach(m),p=B(O),E=w(O,"A",{href:!0,class:!0});var N=k(E);y=w(N,"BUTTON",{class:!0});var H=k(y);I=Y(H,"Visit the repository"),H.forEach(m),N.forEach(m),O.forEach(m),U.forEach(m),C.forEach(m),this.h()},h(){c(r,"class","svelte-teabuo"),c(y,"class","svelte-teabuo"),c(E,"href","/"),c(E,"class","href svelte-teabuo"),c(u,"class","flex-row svelte-teabuo"),c(t,"class","modal-center svelte-teabuo"),c(e,"class","container svelte-teabuo")},m(T,C){P(T,e,C),i(e,t),i(t,s),i(s,o),i(t,d),i(t,v),i(v,n),i(t,a),i(t,u),i(u,r),i(r,h),i(u,p),i(u,E),i(E,y),i(y,I),g||(b=V(r,"click",l[24]),g=!0)},p:ce,d(T){T&&m(e),g=!1,b()}}}function $e(l){let e,t,s,o,d,v,n;return{c(){e=_("div"),t=D(),s=_("div"),o=D(),d=_("div"),this.h()},l(a){e=w(a,"DIV",{class:!0,id:!0}),k(e).forEach(m),t=B(a),s=w(a,"DIV",{class:!0,id:!0}),k(s).forEach(m),o=B(a),d=w(a,"DIV",{class:!0,id:!0}),k(d).forEach(m),this.h()},h(){c(e,"class","icon-button finished-drawing-button svelte-teabuo"),c(e,"id","finish-button"),c(s,"class","icon-button pallette-button svelte-teabuo"),c(s,"id","p-button"),c(d,"class","icon-button redo-button svelte-teabuo"),c(d,"id","r-button")},m(a,u){P(a,e,u),P(a,t,u),P(a,s,u),P(a,o,u),P(a,d,u),v||(n=[V(e,"click",l[33]),V(e,"touchstart",l[34],{passive:!0}),V(e,"mouseenter",l[19]),V(e,"mouseleave",l[20]),V(s,"click",l[23]),V(s,"touchstart",l[35],{passive:!0}),V(s,"mouseenter",l[19]),V(s,"mouseleave",l[20]),V(d,"mouseenter",l[19]),V(d,"mouseleave",l[20])],v=!0)},p:ce,d(a){a&&m(e),a&&m(t),a&&m(s),a&&m(o),a&&m(d),v=!1,he(n)}}}function kt(l){let e,t,s,o,d,v,n,a,u,r,h;t=new It({props:{sketch:l[14]}});let p=l[8]&&Ke(l),E=l[9]&&Qe(l),y=l[7]&&xe(l),I=!l[8]&&!l[9]&&$e(l);return{c(){e=_("div"),Ie(t.$$.fragment),s=D(),o=_("div"),d=D(),p&&p.c(),v=D(),E&&E.c(),n=D(),y&&y.c(),a=D(),I&&I.c(),this.h()},l(g){e=w(g,"DIV",{id:!0});var b=k(e);ke(t.$$.fragment,b),s=B(b),o=w(b,"DIV",{class:!0}),k(o).forEach(m),d=B(b),p&&p.l(b),v=B(b),E&&E.l(b),n=B(b),y&&y.l(b),a=B(b),I&&I.l(b),b.forEach(m),this.h()},h(){c(o,"class","icon-button repo-button svelte-teabuo"),c(e,"id","canvas-container")},m(g,b){P(g,e,b),Ee(t,e,null),i(e,s),i(e,o),i(e,d),p&&p.m(e,null),i(e,v),E&&E.m(e,null),i(e,n),y&&y.m(e,null),i(e,a),I&&I.m(e,null),u=!0,r||(h=[V(o,"mouseenter",l[19]),V(o,"mouseleave",l[20]),V(o,"touchstart",l[21],{passive:!0}),V(o,"click",l[21])],r=!0)},p(g,b){g[8]?p?p.p(g,b):(p=Ke(g),p.c(),p.m(e,v)):p&&(p.d(1),p=null),g[9]?E?E.p(g,b):(E=Qe(g),E.c(),E.m(e,n)):E&&(E.d(1),E=null),g[7]?y?y.p(g,b):(y=xe(g),y.c(),y.m(e,a)):y&&(y.d(1),y=null),!g[8]&&!g[9]?I?I.p(g,b):(I=$e(g),I.c(),I.m(e,null)):I&&(I.d(1),I=null)},i(g){u||(A(t.$$.fragment,g),u=!0)},o(g){ee(t.$$.fragment,g),u=!1},d(g){g&&m(e),ye(t),p&&p.d(),E&&E.d(),y&&y.d(),I&&I.d(),r=!1,he(h)}}}function Et(l,e,t){let{propValue:s}=e,{contributeModal:o}=e,{drawInstructions:d}=e,v=s;console.log("contribute modal: ",o);let n=o.map(f=>f.includes("<span>")?f.split("<span>").pop().split("<")[0]:f.includes("<p>")?f.split("<p>").pop().split("<")[0]:f.split('">').pop().split("<")[0]);console.log("contributeText: ",n);let a=4,u=0,r=0,h=0,p;console.log("drawInstructions: ",d);const E=f=>{let M;f.preload=()=>{console.log("preload"),M=f.loadImage(v)},f.setup=()=>{if(console.log("width: ",M.width),console.log("height: ",M.height),f.windowWidth>500)if(M.width<M.height){let F=M.height/(M.width/f.windowWidth);f.createCanvas(f.windowWidth,F)}else f.createCanvas(f.windowWidth,f.windowHeight);else f.windowWidth<500&&M.width<M.height?f.createCanvas(f.windowWidth,f.windowHeight):f.windowWidth<500&&f.createCanvas(M.width/2,f.windowHeight);f.background(M);let j=document.getElementById("canvas-container");j.addEventListener("touchstart",F=>{F.touches.length===2&&(p=!0)}),j.addEventListener("touchmove",F=>{F.touches.length===2&&(p=!0)}),j.addEventListener("touchend",F=>{p&&(p=!1)});let Z=document.getElementById("r-button");Z.addEventListener("click",function(){f.clear(),f.background(M)}),Z.addEventListener("touchstart",function(){f.clear(),f.background(M)})};let oe=0,Q=0,de=0,fe=0,q=.3;f.mousePressed=()=>{if(!(H||p||N||J||d))return oe=f.mouseX,Q=f.mouseY,de=f.mouseX,fe=f.mouseY,!1},f.touchMoved=()=>{if(H||p||N||J||d)return;let j=f.mouseX,Z=f.mouseY;return oe+=(j-oe)*q,Q+=(Z-Q)*q,f.strokeWeight(a),f.stroke(u,r,h),f.line(oe,Q,de,fe),de=oe,fe=Q,!1},f.windowResized=()=>{if(f.resizeCanvas(f.windowWidth,f.windowHeight),f.windowWidth>500)if(M.width<M.height){let j=M.height/(M.width/f.windowWidth);f.resizeCanvas(f.windowWidth,j)}else f.resizeCanvas(f.windowWidth,f.windowHeight);else f.windowWidth<500&&M.width<M.height?f.resizeCanvas(f.windowWidth,f.windowHeight):f.windowWidth<500&&f.resizeCanvas(M.width/2,f.windowHeight);f.background(M)}};let y=document.getElementsByClassName("stroke-button");const I=f=>{f.target.id==="small-stroke"?a=2:f.target.id==="medium-stroke"?a=4:f.target.id==="big-stroke"&&(a=6),y.forEach(M=>{M!==f.target?M.style.border="none":M.style.border="solid 4px #00D1FF"})};let g,b,T,C,U=JSON.parse(localStorage.getItem("cloudUploads"));const S=["none"];U||localStorage.setItem("cloudUploads",JSON.stringify(S));let X=!0;const O=()=>{if(g&&X){U=JSON.parse(localStorage.getItem("cloudUploads")),console.log("uploads: ",U),U.push("upload"),localStorage.setItem("cloudUploads",JSON.stringify(U)),X=!1,t(6,C=!1);let f=new FormData;f.append("title",g),f.append("location",b),f.append("name",T),f.append("userUploads",U.length),document.getElementById("defaultCanvas0").toBlob(function(oe){f.append("cloud",oe),fetch("/addPostfromServer",{method:"POST",body:f}).then(Q=>{console.log("result: ",Q.status)})}),t(9,H=!1),p=!0,t(7,L=!0)}else if(X)t(6,C=!0);else return};let L=!1,N=!1,H=!1;const W=()=>{let f=document.createElement("a");f.download="myCanvas.png",f.href=document.getElementById("defaultCanvas0").toDataURL(),f.click()},G=f=>{t(0,u=f.srcElement.value),t(1,r=f.srcElement.value),t(2,h=f.srcElement.value)};let J=!1;const ne=()=>{J=!0},$=()=>{J=!1},z=()=>{window.location.replace("/")},ie=()=>{N&&t(8,N=!1),H&&t(9,H=!1),J=!1};let te,se,K;const Te=()=>{t(8,N=!N),a===2?(t(10,te="solid 4px #00D1FF"),t(11,se="none"),t(12,K="none")):a===4?(t(10,te="none"),t(11,se="solid 4px #00D1FF"),t(12,K="none")):(t(10,te="none"),t(11,se="none"),t(12,K="solid 4px #00D1FF"))},me=()=>{p=!1,window.location.reload()},le=()=>{t(9,H=!1),J=!1};function De(){u=ut(this.value),t(0,u)}function ve(){g=this.value,t(3,g)}function ae(){b=this.value,t(4,b)}function Be(){T=this.value,t(5,T)}const be=()=>t(9,H=!H),re=()=>(t(9,H=!H),console.log("touch event on pallette")),Ve=()=>t(8,N=!N);return l.$$set=f=>{"propValue"in f&&t(26,s=f.propValue),"contributeModal"in f&&t(27,o=f.contributeModal),"drawInstructions"in f&&t(28,d=f.drawInstructions)},[u,r,h,g,b,T,C,L,N,H,te,se,K,n,E,I,O,W,G,ne,$,z,ie,Te,me,le,s,o,d,De,ve,ae,Be,be,re,Ve]}class yt extends pe{constructor(e){super(),_e(this,e,Et,kt,we,{propValue:26,contributeModal:27,drawInstructions:28},null,[-1,-1])}}function Tt(l){let e,t,s,o,d,v,n,a,u;return{c(){e=_("div"),t=_("div"),s=D(),o=_("div"),d=_("div"),v=D(),n=_("button"),this.h()},l(r){e=w(r,"DIV",{class:!0});var h=k(e);t=w(h,"DIV",{class:!0}),k(t).forEach(m),s=B(h),o=w(h,"DIV",{class:!0});var p=k(o);d=w(p,"DIV",{id:!0}),k(d).forEach(m),v=B(p),n=w(p,"BUTTON",{id:!0}),k(n).forEach(m),p.forEach(m),h.forEach(m),this.h()},h(){c(t,"class","modal-container"),c(d,"id","drawInstructions"),c(n,"id","begin-button"),c(o,"class","start-draw-center svelte-mdkjls"),c(e,"class","start-draw-container svelte-mdkjls")},m(r,h){P(r,e,h),i(e,t),i(e,s),i(e,o),i(o,d),i(o,v),i(o,n),a||(u=V(n,"click",l[0]),a=!0)},p:ce,i:ce,o:ce,d(r){r&&m(e),a=!1,u()}}}function Dt(l,e,t){const s=Fe();let{drawInstructions:o}=e,d;He(async()=>{d=document.getElementById("drawInstructions"),d.innerHTML=o[0];let n=document.getElementById("begin-button");n.innerHTML=o[1]});const v=()=>{s("closeInstructions")};return l.$$set=n=>{"drawInstructions"in n&&t(1,o=n.drawInstructions)},[v,o]}class Bt extends pe{constructor(e){super(),_e(this,e,Dt,Tt,we,{drawInstructions:1})}}function et(l){let e,t,s,o,d,v,n,a,u,r,h,p,E,y,I,g=l[5]&&tt(l);return{c(){e=_("div"),t=_("h2"),s=R(l[1]),o=D(),d=_("div"),v=D(),n=_("div"),a=_("button"),u=D(),r=_("button"),h=D(),p=_("button"),E=D(),g&&g.c(),this.h()},l(b){e=w(b,"DIV",{class:!0});var T=k(e);t=w(T,"H2",{class:!0});var C=k(t);s=Y(C,l[1]),C.forEach(m),o=B(T),d=w(T,"DIV",{id:!0}),k(d).forEach(m),v=B(T),n=w(T,"DIV",{class:!0});var U=k(n);a=w(U,"BUTTON",{id:!0,class:!0}),k(a).forEach(m),u=B(U),r=w(U,"BUTTON",{id:!0,class:!0}),k(r).forEach(m),h=B(U),p=w(U,"BUTTON",{id:!0,class:!0}),k(p).forEach(m),U.forEach(m),E=B(T),g&&g.l(T),T.forEach(m),this.h()},h(){c(t,"class","svelte-ygck7d"),c(d,"id","cloudstobe"),c(a,"id","draw-button"),c(a,"class","enter-button svelte-ygck7d"),c(r,"id","remix-button"),c(r,"class","enter-button svelte-ygck7d"),c(p,"id","upload-button"),c(p,"class","enter-button svelte-ygck7d"),c(n,"class","button-section svelte-ygck7d"),c(e,"class","start-draw-center svelte-ygck7d")},m(b,T){P(b,e,T),i(e,t),i(t,s),i(e,o),i(e,d),i(e,v),i(e,n),i(n,a),i(n,u),i(n,r),i(n,h),i(n,p),i(e,E),g&&g.m(e,null),y||(I=[V(a,"click",l[10]),V(r,"click",l[12]),V(p,"click",l[7])],y=!0)},p(b,T){T&2&&ct(s,b[1]),b[5]?g?g.p(b,T):(g=tt(b),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},d(b){b&&m(e),g&&g.d(),y=!1,he(I)}}}function tt(l){let e,t,s,o,d,v,n=!l[6]&&st(l),a=l[6]&&lt();return{c(){e=_("input"),t=D(),n&&n.c(),s=D(),a&&a.c(),o=Le(),this.h()},l(u){e=w(u,"INPUT",{accept:!0,type:!0,id:!0,class:!0}),t=B(u),n&&n.l(u),s=B(u),a&&a.l(u),o=Le(),this.h()},h(){c(e,"accept",".png, .jpg, .jpeg"),c(e,"type","file"),c(e,"id","upload"),c(e,"class","svelte-ygck7d")},m(u,r){P(u,e,r),P(u,t,r),n&&n.m(u,r),P(u,s,r),a&&a.m(u,r),P(u,o,r),d||(v=V(e,"change",l[8]),d=!0)},p(u,r){u[6]?n&&(n.d(1),n=null):n?n.p(u,r):(n=st(u),n.c(),n.m(s.parentNode,s)),u[6]?a||(a=lt(),a.c(),a.m(o.parentNode,o)):a&&(a.d(1),a=null)},d(u){u&&m(e),u&&m(t),n&&n.d(u),u&&m(s),a&&a.d(u),u&&m(o),d=!1,v()}}}function st(l){let e,t,s,o;return{c(){e=_("button"),t=R("Upload"),this.h()},l(d){e=w(d,"BUTTON",{id:!0,class:!0});var v=k(e);t=Y(v,"Upload"),v.forEach(m),this.h()},h(){c(e,"id","drawOnUpload-button"),c(e,"class","svelte-ygck7d")},m(d,v){P(d,e,v),i(e,t),s||(o=V(e,"click",l[9]),s=!0)},p:ce,d(d){d&&m(e),s=!1,o()}}}function lt(l){let e,t;return{c(){e=_("p"),t=R("Please choose a smaller file")},l(s){e=w(s,"P",{});var o=k(e);t=Y(o,"Please choose a smaller file"),o.forEach(m)},m(s,o){P(s,e,o),i(e,t)},d(s){s&&m(e)}}}function Vt(l){let e,t,s,o,d,v,n,a,u,r,h,p,E,y,I=l[3]&&!l[2]&&et(l);return{c(){e=_("div"),t=_("div"),s=D(),o=_("div"),d=D(),I&&I.c(),v=D(),n=_("div"),a=_("div"),u=D(),r=_("button"),this.h()},l(g){e=w(g,"DIV",{class:!0,style:!0});var b=k(e);t=w(b,"DIV",{class:!0}),k(t).forEach(m),s=B(b),o=w(b,"DIV",{class:!0}),k(o).forEach(m),d=B(b),I&&I.l(b),v=B(b),n=w(b,"DIV",{class:!0,style:!0});var T=k(n);a=w(T,"DIV",{id:!0}),k(a).forEach(m),u=B(T),r=w(T,"BUTTON",{id:!0}),k(r).forEach(m),T.forEach(m),b.forEach(m),this.h()},h(){c(t,"class","icon-button repo-button svelte-ygck7d"),c(o,"class","modal-container"),c(a,"id","drawInstructions"),c(r,"id","begin-button"),c(n,"class","start-draw-center svelte-ygck7d"),x(n,"visibility",l[4]),c(e,"class","start-draw-container svelte-ygck7d"),x(e,"background-image","url("+l[0]+")"),x(e,"background-size","cover"),x(e,"background-position","center")},m(g,b){P(g,e,b),i(e,t),i(e,s),i(e,o),i(e,d),I&&I.m(e,null),i(e,v),i(e,n),i(n,a),i(n,u),i(n,r),p=!0,E||(y=[V(t,"touchstart",l[13],{passive:!0}),V(t,"click",l[13]),V(r,"click",l[11])],E=!0)},p(g,[b]){g[3]&&!g[2]?I?I.p(g,b):(I=et(g),I.c(),I.m(e,v)):I&&(I.d(1),I=null),(!p||b&16)&&x(n,"visibility",g[4]),(!p||b&1)&&x(e,"background-image","url("+g[0]+")")},i(g){p||(dt(()=>{h||(h=Ae(e,Xe,{},!0)),h.run(1)}),p=!0)},o(g){h||(h=Ae(e,Xe,{},!1)),h.run(0),p=!1},d(g){g&&m(e),I&&I.d(),g&&h&&h.end(),E=!1,he(y)}}}function Ct(l,e,t){const s=Fe();let{propValue:o}=e,{cloudsToBe:d}=e,{drawInstructions:v}=e,{title:n}=e,{straightToInstructions:a}=e,u;He(async()=>{let O=document.getElementById("cloudstobe");O.innerHTML=d[0];let L=document.getElementById("draw-button"),N=document.getElementById("remix-button"),H=document.getElementById("upload-button");L.innerHTML=d[1],N.innerHTML=d[2],H.innerHTML=d[3],u=document.getElementById("drawInstructions"),u.innerHTML=v[0];let W=document.getElementById("begin-button");W.innerHTML=v[1]});let r=!0,h="hidden",p=!1,E;const y=()=>{t(5,p=!0)};let I;const g=()=>{t(6,I=!1);const L=document.getElementById("upload").files[0];if(L.size>1e7){t(6,I=!0);return}console.log("Blob?: : ",L instanceof Blob),E=URL.createObjectURL(L)};let b;const T=()=>{console.log("chooseImage: ",E),t(3,r=!1),t(4,h="visible"),b="drawOnUploadImage"},C=()=>{t(3,r=!1),t(4,h="visible"),b="drawOnThisImage",console.log("instructionsText: ",u)},U=()=>{b==="drawOnThisImage"?s("startDrawing",!1):b==="drawOnUploadImage"&&s("startDrawing",E)},S=()=>{s("remixCanvas")},X=()=>{window.location.replace("/")};return l.$$set=O=>{"propValue"in O&&t(0,o=O.propValue),"cloudsToBe"in O&&t(14,d=O.cloudsToBe),"drawInstructions"in O&&t(15,v=O.drawInstructions),"title"in O&&t(1,n=O.title),"straightToInstructions"in O&&t(2,a=O.straightToInstructions)},[o,n,a,r,h,p,I,y,g,T,C,U,S,X,d,v]}class Ut extends pe{constructor(e){super(),_e(this,e,Ct,Vt,we,{propValue:0,cloudsToBe:14,drawInstructions:15,title:1,straightToInstructions:2})}}function ot(l){let e,t;return e=new Ut({props:{title:l[7],drawInstructions:l[8],cloudsToBe:l[6],propValue:l[2],straightToInstructions:Mt}}),e.$on("startDrawing",l[11]),e.$on("remixCanvas",l[12]),{c(){Ie(e.$$.fragment)},l(s){ke(e.$$.fragment,s)},m(s,o){Ee(e,s,o),t=!0},p(s,o){const d={};o&128&&(d.title=s[7]),o&256&&(d.drawInstructions=s[8]),o&64&&(d.cloudsToBe=s[6]),o&4&&(d.propValue=s[2]),e.$set(d)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){ee(e.$$.fragment,s),t=!1},d(s){ye(e,s)}}}function nt(l){let e,t;return e=new yt({props:{propValue:l[3],drawInstructions:l[1],contributeModal:l[9]}}),{c(){Ie(e.$$.fragment)},l(s){ke(e.$$.fragment,s)},m(s,o){Ee(e,s,o),t=!0},p(s,o){const d={};o&8&&(d.propValue=s[3]),o&2&&(d.drawInstructions=s[1]),o&512&&(d.contributeModal=s[9]),e.$set(d)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){ee(e.$$.fragment,s),t=!1},d(s){ye(e,s)}}}function rt(l){let e,t;return e=new ft({props:{repoImages:l[10],remix:!0}}),e.$on("drawOnImage",l[11]),{c(){Ie(e.$$.fragment)},l(s){ke(e.$$.fragment,s)},m(s,o){Ee(e,s,o),t=!0},p(s,o){const d={};o&1024&&(d.repoImages=s[10]),e.$set(d)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){ee(e.$$.fragment,s),t=!1},d(s){ye(e,s)}}}function it(l){let e,t;return e=new Bt({props:{drawInstructions:l[8]}}),e.$on("closeInstructions",l[13]),{c(){Ie(e.$$.fragment)},l(s){ke(e.$$.fragment,s)},m(s,o){Ee(e,s,o),t=!0},p(s,o){const d={};o&256&&(d.drawInstructions=s[8]),e.$set(d)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){ee(e.$$.fragment,s),t=!1},d(s){ye(e,s)}}}function Nt(l){let e,t,s,o,d,v=l[2]&&l[5]&&l[6].length>0&&ot(l),n=l[4]&&nt(l),a=l[0]&&rt(l),u=l[1]&&it(l);return{c(){v&&v.c(),e=D(),n&&n.c(),t=D(),a&&a.c(),s=D(),u&&u.c(),o=Le()},l(r){v&&v.l(r),e=B(r),n&&n.l(r),t=B(r),a&&a.l(r),s=B(r),u&&u.l(r),o=Le()},m(r,h){v&&v.m(r,h),P(r,e,h),n&&n.m(r,h),P(r,t,h),a&&a.m(r,h),P(r,s,h),u&&u.m(r,h),P(r,o,h),d=!0},p(r,[h]){r[2]&&r[5]&&r[6].length>0?v?(v.p(r,h),h&100&&A(v,1)):(v=ot(r),v.c(),A(v,1),v.m(e.parentNode,e)):v&&(Se(),ee(v,1,1,()=>{v=null}),Pe()),r[4]?n?(n.p(r,h),h&16&&A(n,1)):(n=nt(r),n.c(),A(n,1),n.m(t.parentNode,t)):n&&(Se(),ee(n,1,1,()=>{n=null}),Pe()),r[0]?a?(a.p(r,h),h&1&&A(a,1)):(a=rt(r),a.c(),A(a,1),a.m(s.parentNode,s)):a&&(Se(),ee(a,1,1,()=>{a=null}),Pe()),r[1]?u?(u.p(r,h),h&2&&A(u,1)):(u=it(r),u.c(),A(u,1),u.m(o.parentNode,o)):u&&(Se(),ee(u,1,1,()=>{u=null}),Pe())},i(r){d||(A(v),A(n),A(a),A(u),d=!0)},o(r){ee(v),ee(n),ee(a),ee(u),d=!1},d(r){v&&v.d(r),r&&m(e),n&&n.d(r),r&&m(t),a&&a.d(r),r&&m(s),u&&u.d(r),r&&m(o)}}}let Mt=!1;function Ot(l,e,t){let s,o,d,v,n;ge(l,ht,b=>t(6,s=b)),ge(l,mt,b=>t(7,o=b)),ge(l,vt,b=>t(8,d=b)),ge(l,bt,b=>t(9,v=b)),ge(l,gt,b=>t(10,n=b));let a=!1,u=!1,r;He(async()=>{let T=await(await fetch("https://cloudcities.studiotomassaraceno.org/wp-json/wp/v2/media?categories=48&per_page=50")).json(),C=Math.floor(Math.random()*T.length);t(2,r=T[C].source_url)});let h,p=!1,E=!0;return[a,u,r,h,p,E,s,o,d,v,n,b=>{console.log("startDrawing: ",b.detail),b.detail?t(3,h=b.detail):(t(3,h=r),console.log("startDrawing BG: ",r)),a?(t(1,u=!0),t(0,a=!1),t(4,p=!0),t(3,h=b.detail.link)):(t(5,E=!1),t(4,p=!0))},()=>{console.log("choose canvas"),t(0,a=!0),t(5,E=!1)},()=>t(1,u=!1)]}class Ht extends pe{constructor(e){super(),_e(this,e,Ot,Nt,we,{})}}export{Ht as default};
