import{S as de,i as fe,s as he,e as g,c as _,a as E,d as f,b as c,g as M,K as Me,E as ue,L as ve,v as me,t as P,k as j,h as L,m as T,f as ce,J as i,M as te,N as q,O as oe,w as pe,x as ge,y as _e,q as $,o as le,B as be,P as We,Q as Re,R as Ee,j as He,T as Ye,l as Ie,p as De,U as ye,n as Ve}from"../chunks/index-d2dfe1da.js";import{f as je,d as Ae,c as Fe}from"../chunks/wpTexts-5047d5ee.js";import"../chunks/index-bde0fb83.js";function Xe(o){let e,t,l;return{c(){e=g("div"),this.h()},l(s){e=_(s,"DIV",{style:!0,class:!0}),E(e).forEach(f),this.h()},h(){c(e,"style",o[0]),c(e,"class","m-0")},m(s,a){M(s,e,a),t||(l=Me(o[1].call(null,e)),t=!0)},p(s,[a]){a&1&&c(e,"style",s[0])},i:ue,o:ue,d(s){s&&f(e),t=!1,l()}}}function ze(o,e){return e.forEach(([t,l])=>o[t]=l),o}function Ge(o,e,t){let{target:l=void 0}=e,{sketch:s=void 0}=e,{parentDivStyle:a="display: block;"}=e,{debug:r=!1}=e,n;const u=ve(),p={ref(){u("ref",l)},instance(){u("instance",n)}};function m(h){return t(2,l=h),{destroy(){t(2,l=void 0)}}}return me(async()=>{const h=await import("../chunks/p5.min-21ab2ccd.js").then(function(w){return w.p}),{default:D}=h,k=Object.entries(h).filter(([w,d])=>d instanceof Function&&w[0]!=="_"&&w!=="default");r&&console.log("available p5 native classes",k),n=new D(w=>(w=ze(w,k),r&&console.log("p5 instance",w),window._p5Instance=w,s(w)),l),p.ref(),p.instance()}),o.$$set=h=>{"target"in h&&t(2,l=h.target),"sketch"in h&&t(3,s=h.sketch),"parentDivStyle"in h&&t(0,a=h.parentDivStyle),"debug"in h&&t(4,r=h.debug)},[a,m,l,s,r]}class Je extends de{constructor(e){super(),fe(this,e,Ge,Xe,he,{target:2,sketch:3,parentDivStyle:0,debug:4})}}function Te(o){let e,t,l,s,a,r,n,u,p,m,h,D,y,k,w,d,I,b,V,U,C,N,G;return{c(){e=g("div"),t=g("div"),l=g("div"),s=g("p"),a=P("width"),r=j(),n=g("div"),u=g("div"),p=j(),m=g("div"),h=j(),D=g("div"),y=j(),k=g("div"),w=g("p"),d=P("color"),I=j(),b=g("div"),V=g("input"),U=j(),C=g("div"),this.h()},l(B){e=_(B,"DIV",{class:!0});var O=E(e);t=_(O,"DIV",{class:!0});var H=E(t);l=_(H,"DIV",{class:!0});var J=E(l);s=_(J,"P",{});var Y=E(s);a=L(Y,"width"),Y.forEach(f),r=T(J),n=_(J,"DIV",{class:!0});var A=E(n);u=_(A,"DIV",{class:!0,id:!0}),E(u).forEach(f),p=T(A),m=_(A,"DIV",{class:!0,id:!0}),E(m).forEach(f),h=T(A),D=_(A,"DIV",{class:!0,id:!0}),E(D).forEach(f),A.forEach(f),J.forEach(f),y=T(H),k=_(H,"DIV",{class:!0});var K=E(k);w=_(K,"P",{});var x=E(w);d=L(x,"color"),x.forEach(f),I=T(K),b=_(K,"DIV",{class:!0});var F=E(b);V=_(F,"INPUT",{type:!0,min:!0,max:!0,id:!0,style:!0,class:!0}),F.forEach(f),K.forEach(f),H.forEach(f),U=T(O),C=_(O,"DIV",{class:!0}),E(C).forEach(f),O.forEach(f),this.h()},h(){c(u,"class","stroke-button svelte-1fjgqt1"),c(u,"id","small-stroke"),c(m,"class","stroke-button svelte-1fjgqt1"),c(m,"id","medium-stroke"),c(D,"class","stroke-button svelte-1fjgqt1"),c(D,"id","big-stroke"),c(n,"class","stroke-width svelte-1fjgqt1"),c(l,"class","style-section svelte-1fjgqt1"),c(V,"type","range"),c(V,"min","0"),c(V,"max","255"),c(V,"id","color-slider"),ce(V,"background-color","rgb("+o[0]+","+o[1]+","+o[2]),c(V,"class","svelte-1fjgqt1"),c(b,"class","stroke-color svelte-1fjgqt1"),c(k,"class","style-section svelte-1fjgqt1"),c(t,"class","modal-center draw-settings svelte-1fjgqt1"),c(C,"class","icon-button exit-button svelte-1fjgqt1"),c(e,"class","container svelte-1fjgqt1")},m(B,O){M(B,e,O),i(e,t),i(t,l),i(l,s),i(s,a),i(l,r),i(l,n),i(n,u),i(n,p),i(n,m),i(n,h),i(n,D),i(t,y),i(t,k),i(k,w),i(w,d),i(k,I),i(k,b),i(b,V),te(V,o[0]),i(e,U),i(e,C),N||(G=[q(u,"click",o[11]),q(m,"click",o[11]),q(D,"click",o[11]),q(V,"change",o[14]),q(V,"change",o[20]),q(V,"input",o[20]),q(C,"click",o[18]),q(C,"touchstart",o[18],{passive:!0})],N=!0)},p(B,O){O[0]&7&&ce(V,"background-color","rgb("+B[0]+","+B[1]+","+B[2]),O[0]&1&&te(V,B[0])},d(B){B&&f(e),N=!1,oe(G)}}}function qe(o){let e,t,l,s,a,r,n,u,p,m,h,D,y,k,w,d,I,b,V,U,C,N,G,B,O,H,J,Y,A,K,x,F,ae,ne,W=o[6]&&Be();return{c(){e=g("div"),t=g("div"),l=g("h2"),s=P("Contribute to the Cloud Cities repository"),a=j(),r=g("div"),n=g("p"),u=P("Cloud City"),p=j(),m=g("input"),h=j(),D=g("div"),y=g("p"),k=P("Description"),w=j(),d=g("input"),I=j(),b=g("div"),V=g("p"),U=P("Name (optional)"),C=j(),N=g("input"),G=j(),B=g("div"),O=g("button"),H=P("Submit"),J=j(),Y=g("button"),A=P("Download"),K=j(),W&&W.c(),x=j(),F=g("div"),this.h()},l(R){e=_(R,"DIV",{class:!0});var v=E(e);t=_(v,"DIV",{class:!0});var S=E(t);l=_(S,"H2",{});var Q=E(l);s=L(Q,"Contribute to the Cloud Cities repository"),Q.forEach(f),a=T(S),r=_(S,"DIV",{class:!0});var Z=E(r);n=_(Z,"P",{class:!0});var se=E(n);u=L(se,"Cloud City"),se.forEach(f),p=T(Z),m=_(Z,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),Z.forEach(f),h=T(S),D=_(S,"DIV",{class:!0});var ee=E(D);y=_(ee,"P",{class:!0});var re=E(y);k=L(re,"Description"),re.forEach(f),w=T(ee),d=_(ee,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),ee.forEach(f),I=T(S),b=_(S,"DIV",{class:!0});var X=E(b);V=_(X,"P",{class:!0});var z=E(V);U=L(z,"Name (optional)"),z.forEach(f),C=T(X),N=_(X,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),X.forEach(f),G=T(S),B=_(S,"DIV",{class:!0});var ie=E(B);O=_(ie,"BUTTON",{id:!0,class:!0});var we=E(O);H=L(we,"Submit"),we.forEach(f),J=T(ie),Y=_(ie,"BUTTON",{id:!0,class:!0});var ke=E(Y);A=L(ke,"Download"),ke.forEach(f),ie.forEach(f),K=T(S),W&&W.l(S),S.forEach(f),x=T(v),F=_(v,"DIV",{class:!0}),E(F).forEach(f),v.forEach(f),this.h()},h(){c(n,"class","svelte-1fjgqt1"),c(m,"type","text"),c(m,"id","input-username"),c(m,"data-lpignore","true"),c(m,"class","svelte-1fjgqt1"),c(r,"class","input-section svelte-1fjgqt1"),c(y,"class","svelte-1fjgqt1"),c(d,"type","text"),c(d,"id","input-description"),c(d,"data-lpignore","true"),c(d,"class","svelte-1fjgqt1"),c(D,"class","input-section svelte-1fjgqt1"),c(V,"class","svelte-1fjgqt1"),c(N,"type","text"),c(N,"id","input-name"),c(N,"data-lpignore","true"),c(N,"class","svelte-1fjgqt1"),c(b,"class","input-section svelte-1fjgqt1"),c(O,"id","submit-button"),c(O,"class","svelte-1fjgqt1"),c(Y,"id","download-button"),c(Y,"class","svelte-1fjgqt1"),c(B,"class","flex-row"),c(t,"class","modal-center submit-image svelte-1fjgqt1"),c(F,"class","icon-button exit-button svelte-1fjgqt1"),c(e,"class","container svelte-1fjgqt1")},m(R,v){M(R,e,v),i(e,t),i(t,l),i(l,s),i(t,a),i(t,r),i(r,n),i(n,u),i(r,p),i(r,m),te(m,o[3]),i(t,h),i(t,D),i(D,y),i(y,k),i(D,w),i(D,d),te(d,o[4]),i(t,I),i(t,b),i(b,V),i(V,U),i(b,C),i(b,N),te(N,o[5]),i(t,G),i(t,B),i(B,O),i(O,H),i(B,J),i(B,Y),i(Y,A),i(t,K),W&&W.m(t,null),i(e,x),i(e,F),ae||(ne=[q(m,"input",o[21]),q(d,"input",o[22]),q(N,"input",o[23]),q(O,"click",o[12]),q(Y,"click",o[13]),q(F,"click",o[18]),q(F,"touchstart",o[18],{passive:!0})],ae=!0)},p(R,v){v[0]&8&&m.value!==R[3]&&te(m,R[3]),v[0]&16&&d.value!==R[4]&&te(d,R[4]),v[0]&32&&N.value!==R[5]&&te(N,R[5]),R[6]?W||(W=Be(),W.c(),W.m(t,null)):W&&(W.d(1),W=null)},d(R){R&&f(e),W&&W.d(),ae=!1,oe(ne)}}}function Be(o){let e,t;return{c(){e=g("p"),t=P("We need more Information")},l(l){e=_(l,"P",{});var s=E(e);t=L(s,"We need more Information"),s.forEach(f)},m(l,s){M(l,e,s),i(e,t)},d(l){l&&f(e)}}}function Ce(o){let e,t,l,s,a,r,n,u,p,m,h,D,y,k,w,d;return{c(){e=g("div"),t=g("div"),l=g("h2"),s=P("Thank you! Submission complete"),a=j(),r=g("p"),n=P("Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),u=j(),p=g("div"),m=g("a"),h=g("button"),D=P("Return to drawing"),y=j(),k=g("a"),w=g("button"),d=P("Visit the repository"),this.h()},l(I){e=_(I,"DIV",{class:!0});var b=E(e);t=_(b,"DIV",{class:!0});var V=E(t);l=_(V,"H2",{});var U=E(l);s=L(U,"Thank you! Submission complete"),U.forEach(f),a=T(V),r=_(V,"P",{});var C=E(r);n=L(C,"Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),C.forEach(f),u=T(V),p=_(V,"DIV",{class:!0});var N=E(p);m=_(N,"A",{href:!0,class:!0});var G=E(m);h=_(G,"BUTTON",{class:!0});var B=E(h);D=L(B,"Return to drawing"),B.forEach(f),G.forEach(f),y=T(N),k=_(N,"A",{href:!0,class:!0});var O=E(k);w=_(O,"BUTTON",{class:!0});var H=E(w);d=L(H,"Visit the repository"),H.forEach(f),O.forEach(f),N.forEach(f),V.forEach(f),b.forEach(f),this.h()},h(){c(h,"class","svelte-1fjgqt1"),c(m,"href","/draw"),c(m,"class","href svelte-1fjgqt1"),c(w,"class","svelte-1fjgqt1"),c(k,"href","/"),c(k,"class","hred svelte-1fjgqt1"),c(p,"class","flex-row svelte-1fjgqt1"),c(t,"class","modal-center svelte-1fjgqt1"),c(e,"class","container svelte-1fjgqt1")},m(I,b){M(I,e,b),i(e,t),i(t,l),i(l,s),i(t,a),i(t,r),i(r,n),i(t,u),i(t,p),i(p,m),i(m,h),i(h,D),i(p,y),i(p,k),i(k,w),i(w,d)},d(I){I&&f(e)}}}function Ue(o){let e,t,l,s,a;return{c(){e=g("div"),t=j(),l=g("div"),this.h()},l(r){e=_(r,"DIV",{class:!0,id:!0}),E(e).forEach(f),t=T(r),l=_(r,"DIV",{class:!0,id:!0}),E(l).forEach(f),this.h()},h(){c(e,"class","icon-button finished-drawing-button svelte-1fjgqt1"),c(e,"id","finish-button"),c(l,"class","icon-button pallette-button svelte-1fjgqt1"),c(l,"id","p-button")},m(r,n){M(r,e,n),M(r,t,n),M(r,l,n),s||(a=[q(e,"click",o[24]),q(e,"touchstart",o[25],{passive:!0}),q(e,"mouseenter",o[15]),q(e,"mouseleave",o[16]),q(l,"click",o[26]),q(l,"touchstart",o[27],{passive:!0}),q(l,"mouseenter",o[15]),q(l,"mouseleave",o[16])],s=!0)},p:ue,d(r){r&&f(e),r&&f(t),r&&f(l),s=!1,oe(a)}}}function Ke(o){let e,t,l,s,a,r,n,u,p,m,h,D;t=new Je({props:{sketch:o[10]}});let y=o[8]&&Te(o),k=o[9]&&qe(o),w=o[7]&&Ce(),d=!o[8]&&!o[9]&&Ue(o);return{c(){e=g("div"),pe(t.$$.fragment),l=j(),s=g("a"),a=g("div"),r=j(),y&&y.c(),n=j(),k&&k.c(),u=j(),w&&w.c(),p=j(),d&&d.c(),this.h()},l(I){e=_(I,"DIV",{id:!0});var b=E(e);ge(t.$$.fragment,b),l=T(b),s=_(b,"A",{href:!0});var V=E(s);a=_(V,"DIV",{class:!0}),E(a).forEach(f),V.forEach(f),r=T(b),y&&y.l(b),n=T(b),k&&k.l(b),u=T(b),w&&w.l(b),p=T(b),d&&d.l(b),b.forEach(f),this.h()},h(){c(a,"class","icon-button repo-button svelte-1fjgqt1"),c(s,"href","/"),c(e,"id","canvas-container")},m(I,b){M(I,e,b),_e(t,e,null),i(e,l),i(e,s),i(s,a),i(e,r),y&&y.m(e,null),i(e,n),k&&k.m(e,null),i(e,u),w&&w.m(e,null),i(e,p),d&&d.m(e,null),m=!0,h||(D=[q(a,"mouseenter",o[15]),q(a,"mouseleave",o[16]),q(a,"touchstart",o[17],{passive:!0})],h=!0)},p(I,b){I[8]?y?y.p(I,b):(y=Te(I),y.c(),y.m(e,n)):y&&(y.d(1),y=null),I[9]?k?k.p(I,b):(k=qe(I),k.c(),k.m(e,u)):k&&(k.d(1),k=null),I[7]?w||(w=Ce(),w.c(),w.m(e,p)):w&&(w.d(1),w=null),!I[8]&&!I[9]?d?d.p(I,b):(d=Ue(I),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i(I){m||($(t.$$.fragment,I),m=!0)},o(I){le(t.$$.fragment,I),m=!1},d(I){I&&f(e),be(t),y&&y.d(),k&&k.d(),w&&w.d(),d&&d.d(),h=!1,oe(D)}}}function Qe(o,e,t){ve();let{propValue:l}=e,s=l,a=3,r=0,n=0,u=0,p;const m=v=>{let S;v.preload=()=>{console.log("preload"),S=v.loadImage(s)},v.setup=()=>{console.log("setup: ",S.width),v.windowWidth>500||v.windowWidth<500&&S.width<S.height?v.createCanvas(v.windowWidth,v.windowHeight):v.windowWidth<500&&v.createCanvas(S.width/2,v.windowHeight),v.background(S);let X=document.getElementById("canvas-container");X.addEventListener("touchstart",z=>{z.touches.length===2&&(p=!0)}),X.addEventListener("touchmove",z=>{z.touches.length===2&&(p=!0)}),X.addEventListener("touchend",z=>{p&&(p=!1)})};let Q=0,Z=0,se=0,ee=0,re=.3;v.mousePressed=()=>{if(!(C||p||U||B))return Q=v.mouseX,Z=v.mouseY,se=v.mouseX,ee=v.mouseY,!1},v.touchMoved=()=>{if(C||p||U||B)return;let X=v.mouseX,z=v.mouseY;return Q+=(X-Q)*re,Z+=(z-Z)*re,v.strokeWeight(a),v.stroke(r,n,u),v.line(Q,Z,se,ee),se=Q,ee=Z,!1},v.windowResized=()=>{v.select("#defaultCanvas0"),v.resizeCanvas(v.windowWidth,v.windowHeight);let X=document.getElementById("defaultCanvas0").toDataURL(),z=v.loadImage(X);console.log("img: ",z),v.image(z)}};let h=document.getElementsByClassName("stroke-button");const D=v=>{v.target.id==="small-stroke"?a=2:v.target.id==="medium-stroke"?a=4:v.target.id==="big-stroke"&&(a=6),h.forEach(S=>{S!==v.target?S.style.border="none":S.style.border="solid 4px #00D1FF"})};let y,k,w,d,I=!0;const b=()=>{if(y&&k&&I){I=!1,t(6,d=!1);let v=new FormData;v.append("title",y),v.append("description",k),v.append("name",w),document.getElementById("defaultCanvas0").toBlob(function(Q){v.append("file",Q),fetch("/addPostfromServer",{method:"POST",body:v})}),t(9,C=!1),t(7,V=!0)}else if(I)t(6,d=!0);else return};let V=!1,U=!1,C=!1;const N=()=>{let v=document.createElement("a");v.download="myCanvas.png",v.href=document.getElementById("defaultCanvas0").toDataURL(),v.click()},G=v=>{t(0,r=v.srcElement.value),t(1,n=v.srcElement.value),t(2,u=v.srcElement.value)};let B=!1;const O=()=>{B=!0,console.log("overbutton: ",B)},H=()=>{B=!1,console.log("overbutton: ",B)},J=()=>{window.location.replace("/")},Y=()=>{console.log("finishedDrawing: ",C),U&&t(8,U=!1),C&&t(9,C=!1),B=!1};function A(){r=We(this.value),t(0,r)}function K(){y=this.value,t(3,y)}function x(){k=this.value,t(4,k)}function F(){w=this.value,t(5,w)}const ae=()=>t(9,C=!C),ne=()=>(t(9,C=!C),console.log("touch event on pallette")),W=()=>(t(8,U=!U),console.log("click event on pallette")),R=()=>(t(8,U=!U),console.log("touch event on pallette"));return o.$$set=v=>{"propValue"in v&&t(19,l=v.propValue)},[r,n,u,y,k,w,d,V,U,C,m,D,b,N,G,O,H,J,Y,l,A,K,x,F,ae,ne,W,R]}class Ze extends de{constructor(e){super(),fe(this,e,Qe,Ke,he,{propValue:19},null,[-1,-1])}}function Ne(o,e,t){const l=o.slice();return l[14]=e[t],l[16]=t,l}function $e(o){let e,t,l,s,a,r,n=o[1],u=[];for(let p=0;p<n.length;p+=1)u[p]=Se(Ne(o,n,p));return{c(){e=g("div");for(let p=0;p<u.length;p+=1)u[p].c();t=j(),l=g("button"),s=P("Start"),this.h()},l(p){e=_(p,"DIV",{class:!0});var m=E(e);for(let D=0;D<u.length;D+=1)u[D].l(m);t=T(m),l=_(m,"BUTTON",{});var h=E(l);s=L(h,"Start"),h.forEach(f),m.forEach(f),this.h()},h(){c(e,"class","start-draw-center svelte-8vvvra")},m(p,m){M(p,e,m);for(let h=0;h<u.length;h+=1)u[h].m(e,null);i(e,t),i(e,l),i(l,s),a||(r=q(l,"click",o[8]),a=!0)},p(p,m){if(m&2){n=p[1];let h;for(h=0;h<n.length;h+=1){const D=Ne(p,n,h);u[h]?u[h].p(D,m):(u[h]=Se(D),u[h].c(),u[h].m(e,t))}for(;h<u.length;h+=1)u[h].d(1);u.length=n.length}},d(p){p&&f(e),Ye(u,p),a=!1,r()}}}function xe(o){let e,t,l,s,a,r,n,u,p,m,h,D,y,k,w,d=o[3]&&Oe(o);return{c(){e=g("div"),t=g("h2"),l=P("Clouds to be..."),s=j(),a=g("div"),r=j(),n=g("div"),u=g("button"),p=P("Draw on this Canvas"),m=j(),h=g("button"),D=P("Upload your own Canvas"),y=j(),d&&d.c(),this.h()},l(I){e=_(I,"DIV",{class:!0});var b=E(e);t=_(b,"H2",{class:!0});var V=E(t);l=L(V,"Clouds to be..."),V.forEach(f),s=T(b),a=_(b,"DIV",{id:!0}),E(a).forEach(f),r=T(b),n=_(b,"DIV",{class:!0});var U=E(n);u=_(U,"BUTTON",{class:!0});var C=E(u);p=L(C,"Draw on this Canvas"),C.forEach(f),m=T(U),h=_(U,"BUTTON",{class:!0});var N=E(h);D=L(N,"Upload your own Canvas"),N.forEach(f),U.forEach(f),y=T(b),d&&d.l(b),b.forEach(f),this.h()},h(){c(t,"class","svelte-8vvvra"),c(a,"id","cloudstobe"),c(u,"class","enter-button svelte-8vvvra"),c(h,"class","enter-button svelte-8vvvra"),c(n,"class","button-section svelte-8vvvra"),c(e,"class","start-draw-center svelte-8vvvra")},m(I,b){M(I,e,b),i(e,t),i(t,l),i(e,s),i(e,a),i(e,r),i(e,n),i(n,u),i(u,p),i(n,m),i(n,h),i(h,D),i(e,y),d&&d.m(e,null),k||(w=[q(u,"click",o[7]),q(h,"click",o[4])],k=!0)},p(I,b){I[3]?d?d.p(I,b):(d=Oe(I),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},d(I){I&&f(e),d&&d.d(),k=!1,oe(w)}}}function Se(o){let e,t=o[14]+"",l;return{c(){e=g("p"),l=P(t)},l(s){e=_(s,"P",{});var a=E(e);l=L(a,t),a.forEach(f)},m(s,a){M(s,e,a),i(e,l)},p(s,a){a&2&&t!==(t=s[14]+"")&&He(l,t)},d(s){s&&f(e)}}}function Oe(o){let e,t,l,s,a,r;return{c(){e=g("input"),t=j(),l=g("button"),s=P("Start"),this.h()},l(n){e=_(n,"INPUT",{accept:!0,type:!0,id:!0}),t=T(n),l=_(n,"BUTTON",{});var u=E(l);s=L(u,"Start"),u.forEach(f),this.h()},h(){c(e,"accept",".png, .jpg, .jpeg"),c(e,"type","file"),c(e,"id","upload")},m(n,u){M(n,e,u),M(n,t,u),M(n,l,u),i(l,s),a||(r=[q(e,"change",o[5]),q(l,"click",o[6])],a=!0)},p:ue,d(n){n&&f(e),n&&f(t),n&&f(l),a=!1,oe(r)}}}function et(o){let e,t,l;function s(n,u){return n[2]?xe:$e}let a=s(o),r=a(o);return{c(){e=g("div"),r.c(),this.h()},l(n){e=_(n,"DIV",{class:!0,style:!0});var u=E(e);r.l(u),u.forEach(f),this.h()},h(){c(e,"class","start-draw-container svelte-8vvvra"),ce(e,"background-image","url("+o[0]+")")},m(n,u){M(n,e,u),r.m(e,null),l=!0},p(n,[u]){a===(a=s(n))&&r?r.p(n,u):(r.d(1),r=a(n),r&&(r.c(),r.m(e,null))),(!l||u&1)&&ce(e,"background-image","url("+n[0]+")")},i(n){l||(Re(()=>{t||(t=Ee(e,je,{},!0)),t.run(1)}),l=!0)},o(n){t||(t=Ee(e,je,{},!1)),t.run(0),l=!1},d(n){n&&f(e),r.d(),n&&t&&t.end()}}}function tt(o,e,t){const l=ve();let{propValue:s}=e,{cloudsToBe:a}=e,{drawInstructions:r}=e;me(async()=>{let d=document.getElementById("cloudstobe");d.innerHTML=a[0]});let n=!0,u=!1,p;const m=()=>{t(3,u=!0)},h=()=>{const I=document.getElementById("upload").files[0];p=URL.createObjectURL(I),console.log("chooseImage: ",p)};let D;const y=()=>{t(2,n=!1),D="drawOnUploadImage"},k=()=>{t(2,n=!1),D="drawOnThisImage"},w=()=>{D==="drawOnThisImage"?l("startDrawing",!1):D==="drawOnUploadImage"&&l("startDrawing",p)};return o.$$set=d=>{"propValue"in d&&t(0,s=d.propValue),"cloudsToBe"in d&&t(9,a=d.cloudsToBe),"drawInstructions"in d&&t(1,r=d.drawInstructions)},[s,r,n,u,m,h,y,k,w,a]}class lt extends de{constructor(e){super(),fe(this,e,tt,et,he,{propValue:0,cloudsToBe:9,drawInstructions:1})}}function Pe(o){let e,t;return e=new lt({props:{drawInstructions:o[4],cloudsToBe:o[5],propValue:o[0]}}),e.$on("startDrawing",o[6]),{c(){pe(e.$$.fragment)},l(l){ge(e.$$.fragment,l)},m(l,s){_e(e,l,s),t=!0},p(l,s){const a={};s&16&&(a.drawInstructions=l[4]),s&32&&(a.cloudsToBe=l[5]),s&1&&(a.propValue=l[0]),e.$set(a)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){le(e.$$.fragment,l),t=!1},d(l){be(e,l)}}}function Le(o){let e,t;return e=new Ze({props:{propValue:o[1]}}),{c(){pe(e.$$.fragment)},l(l){ge(e.$$.fragment,l)},m(l,s){_e(e,l,s),t=!0},p(l,s){const a={};s&2&&(a.propValue=l[1]),e.$set(a)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){le(e.$$.fragment,l),t=!1},d(l){be(e,l)}}}function st(o){let e,t,l,s=o[0]&&o[3]&&Pe(o),a=o[2]&&Le(o);return{c(){s&&s.c(),e=j(),a&&a.c(),t=Ie()},l(r){s&&s.l(r),e=T(r),a&&a.l(r),t=Ie()},m(r,n){s&&s.m(r,n),M(r,e,n),a&&a.m(r,n),M(r,t,n),l=!0},p(r,[n]){r[0]&&r[3]?s?(s.p(r,n),n&9&&$(s,1)):(s=Pe(r),s.c(),$(s,1),s.m(e.parentNode,e)):s&&(Ve(),le(s,1,1,()=>{s=null}),De()),r[2]?a?(a.p(r,n),n&4&&$(a,1)):(a=Le(r),a.c(),$(a,1),a.m(t.parentNode,t)):a&&(Ve(),le(a,1,1,()=>{a=null}),De())},i(r){l||($(s),$(a),l=!0)},o(r){le(s),le(a),l=!1},d(r){s&&s.d(r),r&&f(e),a&&a.d(r),r&&f(t)}}}function ot(o,e,t){let l,s;ye(o,Ae,m=>t(4,l=m)),ye(o,Fe,m=>t(5,s=m));let a;me(async()=>{let h=await(await fetch("https://cloudcities.studiotomassaraceno.org/wp-json/wp/v2/media?categories=48")).json(),D=Math.floor(Math.random()*h.length);t(0,a=h[D].source_url)});let r,n=!1,u=!0;return[a,r,n,u,l,s,m=>{console.log("startDrawing: ",m.detail),m.detail?t(1,r=m.detail):(t(1,r=a),console.log("startDrawing BG: ",a)),t(3,u=!1),t(2,n=!0)}]}class it extends de{constructor(e){super(),fe(this,e,ot,st,he,{})}}export{it as default};
