import{S as ve,i as we,s as ge,e as w,c as g,a as I,d as h,b as f,g as O,K as Ke,E as ce,L as Ne,v as Ce,t as j,k as B,h as R,m as V,f as X,J as i,M as le,N as U,O as _e,w as be,x as Ie,y as ke,q as F,o as x,B as Ee,P as Qe,j as Ze,l as qe,Q as xe,R as Oe,p as ye,T as Be,n as Ve}from"../chunks/index-c93fc7ab.js";import{f as Pe,G as $e,c as et,d as tt,a as st,r as lt}from"../chunks/wpTitles-8d990611.js";import"../chunks/index-a24d6f2a.js";function ot(l){let e,t,s;return{c(){e=w("div"),this.h()},l(r){e=g(r,"DIV",{style:!0,class:!0}),I(e).forEach(h),this.h()},h(){f(e,"style",l[0]),f(e,"class","m-0")},m(r,d){O(r,e,d),t||(s=Ke(l[1].call(null,e)),t=!0)},p(r,[d]){d&1&&f(e,"style",r[0])},i:ce,o:ce,d(r){r&&h(e),t=!1,s()}}}function nt(l,e){return e.forEach(([t,s])=>l[t]=s),l}function rt(l,e,t){let{target:s=void 0}=e,{sketch:r=void 0}=e,{parentDivStyle:d="display: block;"}=e,{debug:a=!1}=e,n;const c=Ne(),u={ref(){c("ref",s)},instance(){c("instance",n)}};function o(m){return t(2,s=m),{destroy(){t(2,s=void 0)}}}return Ce(async()=>{const m=await import("../chunks/p5.min-21ab2ccd.js").then(function(T){return T.p}),{default:b}=m,D=Object.entries(m).filter(([T,p])=>p instanceof Function&&T[0]!=="_"&&T!=="default");a&&console.log("available p5 native classes",D),n=new b(T=>(T=nt(T,D),a&&console.log("p5 instance",T),window._p5Instance=T,r(T)),s),u.ref(),u.instance()}),l.$$set=m=>{"target"in m&&t(2,s=m.target),"sketch"in m&&t(3,r=m.sketch),"parentDivStyle"in m&&t(0,d=m.parentDivStyle),"debug"in m&&t(4,a=m.debug)},[d,o,s,r,a]}class it extends ve{constructor(e){super(),we(this,e,rt,ot,ge,{target:2,sketch:3,parentDivStyle:0,debug:4})}}function Le(l){let e,t,s,r,d,a,n,c,u,o,m,b,k,D,T,p,E,_,y,S,P,C,L;return{c(){e=w("div"),t=w("div"),s=w("div"),r=w("p"),d=j("width"),a=B(),n=w("div"),c=w("div"),u=B(),o=w("div"),m=B(),b=w("div"),k=B(),D=w("div"),T=w("p"),p=j("color"),E=B(),_=w("div"),y=w("input"),S=B(),P=w("div"),this.h()},l(q){e=g(q,"DIV",{class:!0});var N=I(e);t=g(N,"DIV",{class:!0});var A=I(t);s=g(A,"DIV",{class:!0});var te=I(s);r=g(te,"P",{});var M=I(r);d=R(M,"width"),M.forEach(h),a=V(te),n=g(te,"DIV",{class:!0});var $=I(n);c=g($,"DIV",{class:!0,id:!0,style:!0}),I(c).forEach(h),u=V($),o=g($,"DIV",{class:!0,id:!0,style:!0}),I(o).forEach(h),m=V($),b=g($,"DIV",{class:!0,id:!0,style:!0}),I(b).forEach(h),$.forEach(h),te.forEach(h),k=V(A),D=g(A,"DIV",{class:!0});var J=I(D);T=g(J,"P",{});var G=I(T);p=R(G,"color"),G.forEach(h),E=V(J),_=g(J,"DIV",{class:!0});var ne=I(_);y=g(ne,"INPUT",{type:!0,min:!0,max:!0,id:!0,style:!0,class:!0}),ne.forEach(h),J.forEach(h),A.forEach(h),S=V(N),P=g(N,"DIV",{class:!0}),I(P).forEach(h),N.forEach(h),this.h()},h(){f(c,"class","stroke-button svelte-1h05qwi"),f(c,"id","small-stroke"),X(c,"border",l[11]),f(o,"class","stroke-button svelte-1h05qwi"),f(o,"id","medium-stroke"),X(o,"border",l[12]),f(b,"class","stroke-button svelte-1h05qwi"),f(b,"id","big-stroke"),X(b,"border",l[13]),f(n,"class","stroke-width svelte-1h05qwi"),f(s,"class","style-section svelte-1h05qwi"),f(y,"type","range"),f(y,"min","0"),f(y,"max","255"),f(y,"id","color-slider"),X(y,"background-color","rgb("+l[0]+","+l[1]+","+l[2]),f(y,"class","svelte-1h05qwi"),f(_,"class","stroke-color svelte-1h05qwi"),f(D,"class","style-section svelte-1h05qwi"),f(t,"class","modal-center draw-settings svelte-1h05qwi"),f(P,"class","icon-button exit-button svelte-1h05qwi"),f(e,"class","container svelte-1h05qwi")},m(q,N){O(q,e,N),i(e,t),i(t,s),i(s,r),i(r,d),i(s,a),i(s,n),i(n,c),i(n,u),i(n,o),i(n,m),i(n,b),i(t,k),i(t,D),i(D,T),i(T,p),i(D,E),i(D,_),i(_,y),le(y,l[0]),i(e,S),i(e,P),C||(L=[U(c,"click",l[15]),U(o,"click",l[15]),U(b,"click",l[15]),U(y,"change",l[18]),U(y,"change",l[27]),U(y,"input",l[27]),U(P,"click",l[22]),U(P,"touchstart",l[22],{passive:!0})],C=!0)},p(q,N){N[0]&2048&&X(c,"border",q[11]),N[0]&4096&&X(o,"border",q[12]),N[0]&8192&&X(b,"border",q[13]),N[0]&7&&X(y,"background-color","rgb("+q[0]+","+q[1]+","+q[2]),N[0]&1&&le(y,q[0])},d(q){q&&h(e),C=!1,_e(L)}}}function Me(l){let e,t,s,r,d,a,n,c,u,o,m,b,k,D,T,p,E,_,y,S,P,C,L,q,N,A,te,M,$,J,G,ne,re,K,ie,he,me,oe,pe,De,z=l[7]&&He();return{c(){e=w("div"),t=w("div"),s=w("h2"),r=j("Contribute to the Cloud Cities repository"),d=B(),a=w("div"),n=w("p"),c=j("Cloud City"),u=B(),o=w("input"),m=B(),b=w("div"),k=w("p"),D=j("Location"),T=B(),p=w("input"),E=B(),_=w("div"),y=w("p"),S=j("Description"),P=B(),C=w("input"),L=B(),q=w("div"),N=w("p"),A=j("Name (optional)"),te=B(),M=w("input"),$=B(),J=w("div"),G=w("button"),ne=j("Submit"),re=B(),K=w("button"),ie=j("Download"),he=B(),z&&z.c(),me=B(),oe=w("div"),this.h()},l(W){e=g(W,"DIV",{class:!0});var Q=I(e);t=g(Q,"DIV",{class:!0});var Y=I(t);s=g(Y,"H2",{});var Te=I(s);r=R(Te,"Contribute to the Cloud Cities repository"),Te.forEach(h),d=V(Y),a=g(Y,"DIV",{class:!0});var v=I(a);n=g(v,"P",{class:!0});var H=I(n);c=R(H,"Cloud City"),H.forEach(h),u=V(v),o=g(v,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),v.forEach(h),m=V(Y),b=g(Y,"DIV",{class:!0});var ee=I(b);k=g(ee,"P",{class:!0});var se=I(k);D=R(se,"Location"),se.forEach(h),T=V(ee),p=g(ee,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),ee.forEach(h),E=V(Y),_=g(Y,"DIV",{class:!0});var ae=I(_);y=g(ae,"P",{class:!0});var fe=I(y);S=R(fe,"Description"),fe.forEach(h),P=V(ae),C=g(ae,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),ae.forEach(h),L=V(Y),q=g(Y,"DIV",{class:!0});var de=I(q);N=g(de,"P",{class:!0});var ue=I(N);A=R(ue,"Name (optional)"),ue.forEach(h),te=V(de),M=g(de,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),de.forEach(h),$=V(Y),J=g(Y,"DIV",{class:!0});var Z=I(J);G=g(Z,"BUTTON",{id:!0,class:!0});var Ue=I(G);ne=R(Ue,"Submit"),Ue.forEach(h),re=V(Z),K=g(Z,"BUTTON",{id:!0,class:!0});var Se=I(K);ie=R(Se,"Download"),Se.forEach(h),Z.forEach(h),he=V(Y),z&&z.l(Y),Y.forEach(h),me=V(Q),oe=g(Q,"DIV",{class:!0}),I(oe).forEach(h),Q.forEach(h),this.h()},h(){f(n,"class","svelte-1h05qwi"),f(o,"type","text"),f(o,"id","input-username"),f(o,"data-lpignore","true"),f(o,"class","svelte-1h05qwi"),f(a,"class","input-section svelte-1h05qwi"),f(k,"class","svelte-1h05qwi"),f(p,"type","text"),f(p,"id","input-username"),f(p,"data-lpignore","true"),f(p,"class","svelte-1h05qwi"),f(b,"class","input-section svelte-1h05qwi"),f(y,"class","svelte-1h05qwi"),f(C,"type","text"),f(C,"id","input-description"),f(C,"data-lpignore","true"),f(C,"class","svelte-1h05qwi"),f(_,"class","input-section svelte-1h05qwi"),f(N,"class","svelte-1h05qwi"),f(M,"type","text"),f(M,"id","input-name"),f(M,"data-lpignore","true"),f(M,"class","svelte-1h05qwi"),f(q,"class","input-section svelte-1h05qwi"),f(G,"id","submit-button"),f(G,"class","svelte-1h05qwi"),f(K,"id","download-button"),f(K,"class","svelte-1h05qwi"),f(J,"class","flex-row"),f(t,"class","modal-center submit-image svelte-1h05qwi"),f(oe,"class","icon-button exit-button svelte-1h05qwi"),f(e,"class","container svelte-1h05qwi")},m(W,Q){O(W,e,Q),i(e,t),i(t,s),i(s,r),i(t,d),i(t,a),i(a,n),i(n,c),i(a,u),i(a,o),le(o,l[3]),i(t,m),i(t,b),i(b,k),i(k,D),i(b,T),i(b,p),le(p,l[4]),i(t,E),i(t,_),i(_,y),i(y,S),i(_,P),i(_,C),le(C,l[5]),i(t,L),i(t,q),i(q,N),i(N,A),i(q,te),i(q,M),le(M,l[6]),i(t,$),i(t,J),i(J,G),i(G,ne),i(J,re),i(J,K),i(K,ie),i(t,he),z&&z.m(t,null),i(e,me),i(e,oe),pe||(De=[U(o,"input",l[28]),U(p,"input",l[29]),U(C,"input",l[30]),U(M,"input",l[31]),U(G,"click",l[16]),U(K,"click",l[17]),U(oe,"click",l[22]),U(oe,"touchstart",l[22],{passive:!0})],pe=!0)},p(W,Q){Q[0]&8&&o.value!==W[3]&&le(o,W[3]),Q[0]&16&&p.value!==W[4]&&le(p,W[4]),Q[0]&32&&C.value!==W[5]&&le(C,W[5]),Q[0]&64&&M.value!==W[6]&&le(M,W[6]),W[7]?z||(z=He(),z.c(),z.m(t,null)):z&&(z.d(1),z=null)},d(W){W&&h(e),z&&z.d(),pe=!1,_e(De)}}}function He(l){let e,t;return{c(){e=w("p"),t=j("We need more Information")},l(s){e=g(s,"P",{});var r=I(e);t=R(r,"We need more Information"),r.forEach(h)},m(s,r){O(s,e,r),i(e,t)},d(s){s&&h(e)}}}function ze(l){let e,t,s,r,d,a,n,c,u,o,m,b,k,D,T,p,E;return{c(){e=w("div"),t=w("div"),s=w("h2"),r=j("Thank you! Submission complete"),d=B(),a=w("p"),n=j("Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),c=B(),u=w("div"),o=w("button"),m=j("Return to drawing"),b=B(),k=w("a"),D=w("button"),T=j("Visit the repository"),this.h()},l(_){e=g(_,"DIV",{class:!0});var y=I(e);t=g(y,"DIV",{class:!0});var S=I(t);s=g(S,"H2",{});var P=I(s);r=R(P,"Thank you! Submission complete"),P.forEach(h),d=V(S),a=g(S,"P",{});var C=I(a);n=R(C,"Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),C.forEach(h),c=V(S),u=g(S,"DIV",{class:!0});var L=I(u);o=g(L,"BUTTON",{class:!0});var q=I(o);m=R(q,"Return to drawing"),q.forEach(h),b=V(L),k=g(L,"A",{href:!0,class:!0});var N=I(k);D=g(N,"BUTTON",{class:!0});var A=I(D);T=R(A,"Visit the repository"),A.forEach(h),N.forEach(h),L.forEach(h),S.forEach(h),y.forEach(h),this.h()},h(){f(o,"class","svelte-1h05qwi"),f(D,"class","svelte-1h05qwi"),f(k,"href","/"),f(k,"class","href svelte-1h05qwi"),f(u,"class","flex-row svelte-1h05qwi"),f(t,"class","modal-center svelte-1h05qwi"),f(e,"class","container svelte-1h05qwi")},m(_,y){O(_,e,y),i(e,t),i(t,s),i(s,r),i(t,d),i(t,a),i(a,n),i(t,c),i(t,u),i(u,o),i(o,m),i(u,b),i(u,k),i(k,D),i(D,T),p||(E=U(o,"click",l[24]),p=!0)},p:ce,d(_){_&&h(e),p=!1,E()}}}function We(l){let e,t,s,r,d;return{c(){e=w("div"),t=B(),s=w("div"),this.h()},l(a){e=g(a,"DIV",{class:!0,id:!0}),I(e).forEach(h),t=V(a),s=g(a,"DIV",{class:!0,id:!0}),I(s).forEach(h),this.h()},h(){f(e,"class","icon-button finished-drawing-button svelte-1h05qwi"),f(e,"id","finish-button"),f(s,"class","icon-button pallette-button svelte-1h05qwi"),f(s,"id","p-button")},m(a,n){O(a,e,n),O(a,t,n),O(a,s,n),r||(d=[U(e,"click",l[32]),U(e,"touchstart",l[33],{passive:!0}),U(e,"mouseenter",l[19]),U(e,"mouseleave",l[20]),U(s,"click",l[23]),U(s,"touchstart",l[34],{passive:!0}),U(s,"mouseenter",l[19]),U(s,"mouseleave",l[20])],r=!0)},p:ce,d(a){a&&h(e),a&&h(t),a&&h(s),r=!1,_e(d)}}}function at(l){let e,t,s,r,d,a,n,c,u,o,m,b;t=new it({props:{sketch:l[14]}});let k=l[9]&&Le(l),D=l[10]&&Me(l),T=l[8]&&ze(l),p=!l[9]&&!l[10]&&We(l);return{c(){e=w("div"),be(t.$$.fragment),s=B(),r=w("a"),d=w("div"),a=B(),k&&k.c(),n=B(),D&&D.c(),c=B(),T&&T.c(),u=B(),p&&p.c(),this.h()},l(E){e=g(E,"DIV",{id:!0});var _=I(e);Ie(t.$$.fragment,_),s=V(_),r=g(_,"A",{href:!0});var y=I(r);d=g(y,"DIV",{class:!0}),I(d).forEach(h),y.forEach(h),a=V(_),k&&k.l(_),n=V(_),D&&D.l(_),c=V(_),T&&T.l(_),u=V(_),p&&p.l(_),_.forEach(h),this.h()},h(){f(d,"class","icon-button repo-button svelte-1h05qwi"),f(r,"href","/"),f(e,"id","canvas-container")},m(E,_){O(E,e,_),ke(t,e,null),i(e,s),i(e,r),i(r,d),i(e,a),k&&k.m(e,null),i(e,n),D&&D.m(e,null),i(e,c),T&&T.m(e,null),i(e,u),p&&p.m(e,null),o=!0,m||(b=[U(d,"mouseenter",l[19]),U(d,"mouseleave",l[20]),U(d,"touchstart",l[21],{passive:!0})],m=!0)},p(E,_){E[9]?k?k.p(E,_):(k=Le(E),k.c(),k.m(e,n)):k&&(k.d(1),k=null),E[10]?D?D.p(E,_):(D=Me(E),D.c(),D.m(e,c)):D&&(D.d(1),D=null),E[8]?T?T.p(E,_):(T=ze(E),T.c(),T.m(e,u)):T&&(T.d(1),T=null),!E[9]&&!E[10]?p?p.p(E,_):(p=We(E),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},i(E){o||(F(t.$$.fragment,E),o=!0)},o(E){x(t.$$.fragment,E),o=!1},d(E){E&&h(e),Ee(t),k&&k.d(),D&&D.d(),T&&T.d(),p&&p.d(),m=!1,_e(b)}}}function ut(l,e,t){let{propValue:s}=e,{drawInstructions:r}=e,d=s,a=4,n=0,c=0,u=0,o;const m=v=>{let H;v.preload=()=>{console.log("preload"),H=v.loadImage(d)},v.setup=()=>{if(console.log("width: ",H.width),console.log("height: ",H.height),v.windowWidth>500)if(H.width<H.height){let Z=H.height/(H.width/v.windowWidth);v.createCanvas(v.windowWidth,Z)}else v.createCanvas(v.windowWidth,v.windowHeight);else v.windowWidth<500&&H.width<H.height?v.createCanvas(v.windowWidth,v.windowHeight):v.windowWidth<500&&v.createCanvas(H.width/2,v.windowHeight);v.background(H);let ue=document.getElementById("canvas-container");ue.addEventListener("touchstart",Z=>{Z.touches.length===2&&(o=!0)}),ue.addEventListener("touchmove",Z=>{Z.touches.length===2&&(o=!0)}),ue.addEventListener("touchend",Z=>{o&&(o=!1)})};let ee=0,se=0,ae=0,fe=0,de=.3;v.mousePressed=()=>{if(!(N||o||q||M))return ee=v.mouseX,se=v.mouseY,ae=v.mouseX,fe=v.mouseY,!1},v.touchMoved=()=>{if(N||o||q||M)return;let ue=v.mouseX,Z=v.mouseY;return ee+=(ue-ee)*de,se+=(Z-se)*de,v.strokeWeight(a),v.stroke(n,c,u),v.line(ee,se,ae,fe),ae=ee,fe=se,!1},v.windowResized=()=>{v.resizeCanvas(v.windowWidth,v.windowHeight),v.background(H)}};let b=document.getElementsByClassName("stroke-button");const k=v=>{v.target.id==="small-stroke"?a=2:v.target.id==="medium-stroke"?a=4:v.target.id==="big-stroke"&&(a=6),b.forEach(H=>{H!==v.target?H.style.border="none":H.style.border="solid 4px #00D1FF"})};let D,T,p,E,_,y=JSON.parse(localStorage.getItem("cloudUploads"));const S=["none"];y||localStorage.setItem("cloudUploads",JSON.stringify(S));let P=!0;const C=()=>{if(D&&p&&P){y=JSON.parse(localStorage.getItem("cloudUploads")),console.log("uploads: ",y),y.push("upload"),localStorage.setItem("cloudUploads",JSON.stringify(y)),P=!1,t(7,_=!1);let v=new FormData;v.append("title",D),v.append("location",T),v.append("description",p),v.append("name",E),v.append("userUploads",y.length),document.getElementById("defaultCanvas0").toBlob(function(ee){v.append("cloud",ee),fetch("/addPostfromServer",{method:"POST",body:v}).then(se=>{console.log("result: ",se.status)})}),t(10,N=!1),t(8,L=!0)}else if(P)t(7,_=!0);else return};let L=!1,q=!1,N=!1;const A=()=>{let v=document.createElement("a");v.download="myCanvas.png",v.href=document.getElementById("defaultCanvas0").toDataURL(),v.click()},te=v=>{t(0,n=v.srcElement.value),t(1,c=v.srcElement.value),t(2,u=v.srcElement.value)};let M=!1;const $=()=>{M=!0},J=()=>{M=!1},G=()=>{window.location.replace("/")},ne=()=>{q&&t(9,q=!1),N&&t(10,N=!1),M=!1};let re,K,ie;const he=()=>{t(9,q=!q),a===2?(t(11,re="solid 4px #00D1FF"),t(12,K="none"),t(13,ie="none")):a===4?(t(11,re="none"),t(12,K="solid 4px #00D1FF"),t(13,ie="none")):(t(11,re="none"),t(12,K="none"),t(13,ie="solid 4px #00D1FF"))},me=()=>{console.log("return to draw"),window.location.reload()};function oe(){n=Qe(this.value),t(0,n)}function pe(){D=this.value,t(3,D)}function De(){T=this.value,t(4,T)}function z(){p=this.value,t(5,p)}function W(){E=this.value,t(6,E)}const Q=()=>t(10,N=!N),Y=()=>(t(10,N=!N),console.log("touch event on pallette")),Te=()=>t(9,q=!q);return l.$$set=v=>{"propValue"in v&&t(25,s=v.propValue),"drawInstructions"in v&&t(26,r=v.drawInstructions)},[n,c,u,D,T,p,E,_,L,q,N,re,K,ie,m,k,C,A,te,$,J,G,ne,he,me,s,r,oe,pe,De,z,W,Q,Y,Te]}class ct extends ve{constructor(e){super(),we(this,e,ut,at,ge,{propValue:25,drawInstructions:26},null,[-1,-1])}}function dt(l){let e,t,s,r,d,a,n;return{c(){e=w("div"),t=w("div"),s=w("div"),r=B(),d=w("button"),this.h()},l(c){e=g(c,"DIV",{class:!0});var u=I(e);t=g(u,"DIV",{class:!0});var o=I(t);s=g(o,"DIV",{id:!0}),I(s).forEach(h),r=V(o),d=g(o,"BUTTON",{id:!0}),I(d).forEach(h),o.forEach(h),u.forEach(h),this.h()},h(){f(s,"id","drawInstructions"),f(d,"id","begin-button"),f(t,"class","start-draw-center svelte-1hjrlab"),f(e,"class","start-draw-container svelte-1hjrlab")},m(c,u){O(c,e,u),i(e,t),i(t,s),i(t,r),i(t,d),a||(n=U(d,"click",l[0]),a=!0)},p:ce,i:ce,o:ce,d(c){c&&h(e),a=!1,n()}}}function ft(l,e,t){const s=Ne();let{drawInstructions:r}=e,d;Ce(async()=>{d=document.getElementById("drawInstructions"),d.innerHTML=r[0];let n=document.getElementById("begin-button");n.innerHTML=r[1]});const a=()=>{s("closeInstructions")};return l.$$set=n=>{"drawInstructions"in n&&t(1,r=n.drawInstructions)},[a,r]}class ht extends ve{constructor(e){super(),we(this,e,ft,dt,ge,{drawInstructions:1})}}function Fe(l){let e,t,s,r,d,a,n,c,u,o,m,b,k,D,T,p=l[5]&&je(l);return{c(){e=w("div"),t=w("h2"),s=j(l[1]),r=B(),d=w("div"),a=B(),n=w("div"),c=w("button"),u=B(),o=w("button"),m=B(),b=w("button"),k=B(),p&&p.c(),this.h()},l(E){e=g(E,"DIV",{class:!0});var _=I(e);t=g(_,"H2",{class:!0});var y=I(t);s=R(y,l[1]),y.forEach(h),r=V(_),d=g(_,"DIV",{id:!0}),I(d).forEach(h),a=V(_),n=g(_,"DIV",{class:!0});var S=I(n);c=g(S,"BUTTON",{id:!0,class:!0}),I(c).forEach(h),u=V(S),o=g(S,"BUTTON",{id:!0,class:!0}),I(o).forEach(h),m=V(S),b=g(S,"BUTTON",{id:!0,class:!0}),I(b).forEach(h),S.forEach(h),k=V(_),p&&p.l(_),_.forEach(h),this.h()},h(){f(t,"class","svelte-15aiz3m"),f(d,"id","cloudstobe"),f(c,"id","draw-button"),f(c,"class","enter-button svelte-15aiz3m"),f(o,"id","remix-button"),f(o,"class","enter-button svelte-15aiz3m"),f(b,"id","upload-button"),f(b,"class","enter-button svelte-15aiz3m"),f(n,"class","button-section svelte-15aiz3m"),f(e,"class","start-draw-center svelte-15aiz3m")},m(E,_){O(E,e,_),i(e,t),i(t,s),i(e,r),i(e,d),i(e,a),i(e,n),i(n,c),i(n,u),i(n,o),i(n,m),i(n,b),i(e,k),p&&p.m(e,null),D||(T=[U(c,"click",l[10]),U(o,"click",l[12]),U(b,"click",l[7])],D=!0)},p(E,_){_&2&&Ze(s,E[1]),E[5]?p?p.p(E,_):(p=je(E),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},d(E){E&&h(e),p&&p.d(),D=!1,_e(T)}}}function je(l){let e,t,s,r,d,a,n=!l[6]&&Re(l),c=l[6]&&Ye();return{c(){e=w("input"),t=B(),n&&n.c(),s=B(),c&&c.c(),r=qe(),this.h()},l(u){e=g(u,"INPUT",{accept:!0,type:!0,id:!0,class:!0}),t=V(u),n&&n.l(u),s=V(u),c&&c.l(u),r=qe(),this.h()},h(){f(e,"accept",".png, .jpg, .jpeg"),f(e,"type","file"),f(e,"id","upload"),f(e,"class","svelte-15aiz3m")},m(u,o){O(u,e,o),O(u,t,o),n&&n.m(u,o),O(u,s,o),c&&c.m(u,o),O(u,r,o),d||(a=U(e,"change",l[8]),d=!0)},p(u,o){u[6]?n&&(n.d(1),n=null):n?n.p(u,o):(n=Re(u),n.c(),n.m(s.parentNode,s)),u[6]?c||(c=Ye(),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},d(u){u&&h(e),u&&h(t),n&&n.d(u),u&&h(s),c&&c.d(u),u&&h(r),d=!1,a()}}}function Re(l){let e,t,s,r;return{c(){e=w("button"),t=j("Start")},l(d){e=g(d,"BUTTON",{});var a=I(e);t=R(a,"Start"),a.forEach(h)},m(d,a){O(d,e,a),i(e,t),s||(r=U(e,"click",l[9]),s=!0)},p:ce,d(d){d&&h(e),s=!1,r()}}}function Ye(l){let e,t;return{c(){e=w("p"),t=j("Please choose a smaller file")},l(s){e=g(s,"P",{});var r=I(e);t=R(r,"Please choose a smaller file"),r.forEach(h)},m(s,r){O(s,e,r),i(e,t)},d(s){s&&h(e)}}}function mt(l){let e,t,s,r,d,a,n,c,u,o,m=l[3]&&!l[2]&&Fe(l);return{c(){e=w("div"),m&&m.c(),t=B(),s=w("div"),r=w("div"),d=B(),a=w("button"),this.h()},l(b){e=g(b,"DIV",{class:!0,style:!0});var k=I(e);m&&m.l(k),t=V(k),s=g(k,"DIV",{class:!0,style:!0});var D=I(s);r=g(D,"DIV",{id:!0}),I(r).forEach(h),d=V(D),a=g(D,"BUTTON",{id:!0}),I(a).forEach(h),D.forEach(h),k.forEach(h),this.h()},h(){f(r,"id","drawInstructions"),f(a,"id","begin-button"),f(s,"class","start-draw-center svelte-15aiz3m"),X(s,"visibility",l[4]),f(e,"class","start-draw-container svelte-15aiz3m"),X(e,"background-image","url("+l[0]+")"),X(e,"background-size","cover"),X(e,"background-position","center")},m(b,k){O(b,e,k),m&&m.m(e,null),i(e,t),i(e,s),i(s,r),i(s,d),i(s,a),c=!0,u||(o=U(a,"click",l[11]),u=!0)},p(b,[k]){b[3]&&!b[2]?m?m.p(b,k):(m=Fe(b),m.c(),m.m(e,t)):m&&(m.d(1),m=null),(!c||k&16)&&X(s,"visibility",b[4]),(!c||k&1)&&X(e,"background-image","url("+b[0]+")")},i(b){c||(xe(()=>{n||(n=Oe(e,Pe,{},!0)),n.run(1)}),c=!0)},o(b){n||(n=Oe(e,Pe,{},!1)),n.run(0),c=!1},d(b){b&&h(e),m&&m.d(),b&&n&&n.end(),u=!1,o()}}}function pt(l,e,t){const s=Ne();let{propValue:r}=e,{cloudsToBe:d}=e,{drawInstructions:a}=e,{title:n}=e,{straightToInstructions:c}=e,u;Ce(async()=>{let C=document.getElementById("cloudstobe");C.innerHTML=d[0];let L=document.getElementById("draw-button"),q=document.getElementById("remix-button"),N=document.getElementById("upload-button");L.innerHTML=d[1],q.innerHTML=d[2],N.innerHTML=d[3],u=document.getElementById("drawInstructions"),u.innerHTML=a[0];let A=document.getElementById("begin-button");A.innerHTML=a[1]});let o=!0,m="hidden",b=!1,k;const D=()=>{t(5,b=!0)};let T;const p=()=>{t(6,T=!1);const L=document.getElementById("upload").files[0];if(L.size>1e7){t(6,T=!0);return}console.log("Blob?: : ",L instanceof Blob),k=URL.createObjectURL(L)};let E;const _=()=>{console.log("chooseImage: ",k),t(3,o=!1),t(4,m="visible"),E="drawOnUploadImage"},y=()=>{t(3,o=!1),t(4,m="visible"),E="drawOnThisImage",console.log("instructionsText: ",u)},S=()=>{E==="drawOnThisImage"?s("startDrawing",!1):E==="drawOnUploadImage"&&s("startDrawing",k)},P=()=>{s("remixCanvas")};return l.$$set=C=>{"propValue"in C&&t(0,r=C.propValue),"cloudsToBe"in C&&t(13,d=C.cloudsToBe),"drawInstructions"in C&&t(14,a=C.drawInstructions),"title"in C&&t(1,n=C.title),"straightToInstructions"in C&&t(2,c=C.straightToInstructions)},[r,n,c,o,m,b,T,D,p,_,y,S,P,d,a]}class vt extends ve{constructor(e){super(),we(this,e,pt,mt,ge,{propValue:0,cloudsToBe:13,drawInstructions:14,title:1,straightToInstructions:2})}}function Ae(l){let e,t;return e=new vt({props:{title:l[7],drawInstructions:l[8],cloudsToBe:l[6],propValue:l[2],straightToInstructions:gt}}),e.$on("startDrawing",l[10]),e.$on("remixCanvas",l[11]),{c(){be(e.$$.fragment)},l(s){Ie(e.$$.fragment,s)},m(s,r){ke(e,s,r),t=!0},p(s,r){const d={};r&128&&(d.title=s[7]),r&256&&(d.drawInstructions=s[8]),r&64&&(d.cloudsToBe=s[6]),r&4&&(d.propValue=s[2]),e.$set(d)},i(s){t||(F(e.$$.fragment,s),t=!0)},o(s){x(e.$$.fragment,s),t=!1},d(s){Ee(e,s)}}}function Je(l){let e,t;return e=new ct({props:{propValue:l[3],drawInstructions:l[1]}}),{c(){be(e.$$.fragment)},l(s){Ie(e.$$.fragment,s)},m(s,r){ke(e,s,r),t=!0},p(s,r){const d={};r&8&&(d.propValue=s[3]),r&2&&(d.drawInstructions=s[1]),e.$set(d)},i(s){t||(F(e.$$.fragment,s),t=!0)},o(s){x(e.$$.fragment,s),t=!1},d(s){Ee(e,s)}}}function Xe(l){let e,t;return e=new $e({props:{repoImages:l[9],remix:!0}}),e.$on("drawOnImage",l[10]),{c(){be(e.$$.fragment)},l(s){Ie(e.$$.fragment,s)},m(s,r){ke(e,s,r),t=!0},p(s,r){const d={};r&512&&(d.repoImages=s[9]),e.$set(d)},i(s){t||(F(e.$$.fragment,s),t=!0)},o(s){x(e.$$.fragment,s),t=!1},d(s){Ee(e,s)}}}function Ge(l){let e,t;return e=new ht({props:{drawInstructions:l[8]}}),e.$on("closeInstructions",l[12]),{c(){be(e.$$.fragment)},l(s){Ie(e.$$.fragment,s)},m(s,r){ke(e,s,r),t=!0},p(s,r){const d={};r&256&&(d.drawInstructions=s[8]),e.$set(d)},i(s){t||(F(e.$$.fragment,s),t=!0)},o(s){x(e.$$.fragment,s),t=!1},d(s){Ee(e,s)}}}function wt(l){let e,t,s,r,d,a=l[2]&&l[5]&&l[6].length>0&&Ae(l),n=l[4]&&Je(l),c=l[0]&&Xe(l),u=l[1]&&Ge(l);return{c(){a&&a.c(),e=B(),n&&n.c(),t=B(),c&&c.c(),s=B(),u&&u.c(),r=qe()},l(o){a&&a.l(o),e=V(o),n&&n.l(o),t=V(o),c&&c.l(o),s=V(o),u&&u.l(o),r=qe()},m(o,m){a&&a.m(o,m),O(o,e,m),n&&n.m(o,m),O(o,t,m),c&&c.m(o,m),O(o,s,m),u&&u.m(o,m),O(o,r,m),d=!0},p(o,[m]){o[2]&&o[5]&&o[6].length>0?a?(a.p(o,m),m&100&&F(a,1)):(a=Ae(o),a.c(),F(a,1),a.m(e.parentNode,e)):a&&(Ve(),x(a,1,1,()=>{a=null}),ye()),o[4]?n?(n.p(o,m),m&16&&F(n,1)):(n=Je(o),n.c(),F(n,1),n.m(t.parentNode,t)):n&&(Ve(),x(n,1,1,()=>{n=null}),ye()),o[0]?c?(c.p(o,m),m&1&&F(c,1)):(c=Xe(o),c.c(),F(c,1),c.m(s.parentNode,s)):c&&(Ve(),x(c,1,1,()=>{c=null}),ye()),o[1]?u?(u.p(o,m),m&2&&F(u,1)):(u=Ge(o),u.c(),F(u,1),u.m(r.parentNode,r)):u&&(Ve(),x(u,1,1,()=>{u=null}),ye())},i(o){d||(F(a),F(n),F(c),F(u),d=!0)},o(o){x(a),x(n),x(c),x(u),d=!1},d(o){a&&a.d(o),o&&h(e),n&&n.d(o),o&&h(t),c&&c.d(o),o&&h(s),u&&u.d(o),o&&h(r)}}}let gt=!1;function _t(l,e,t){let s,r,d,a;Be(l,et,p=>t(6,s=p)),Be(l,tt,p=>t(7,r=p)),Be(l,st,p=>t(8,d=p)),Be(l,lt,p=>t(9,a=p));let n=!1,c=!1,u;Ce(async()=>{let E=await(await fetch("https://cloudcities.studiotomassaraceno.org/wp-json/wp/v2/media?categories=48&per_page=50")).json(),_=Math.floor(Math.random()*E.length);t(2,u=E[_].source_url)});let o,m=!1,b=!0;return[n,c,u,o,m,b,s,r,d,a,p=>{console.log("startDrawing: ",p.detail),p.detail?t(3,o=p.detail):(t(3,o=u),console.log("startDrawing BG: ",u)),n?(t(1,c=!0),t(0,n=!1),t(4,m=!0),t(3,o=p.detail.link)):(t(5,b=!1),t(4,m=!0))},()=>{console.log("choose canvas"),t(0,n=!0),t(5,b=!1)},()=>t(1,c=!1)]}class Et extends ve{constructor(e){super(),we(this,e,_t,wt,ge,{})}}export{Et as default};
