import{S as fe,i as de,s as he,e as w,c as k,a as E,d as c,b as u,g as L,K as Ye,E as ue,L as ve,v as Me,t as O,k as B,h as W,m as C,f as ce,J as i,M as te,N as U,O as oe,w as me,x as pe,y as ge,q as $,o as le,B as _e,P as Ae,Q as Fe,R as ke,j as Re,T as He,l as Ee,p as Ie,U as De,n as ye}from"../chunks/index-d2dfe1da.js";import{f as Ve,d as Xe,c as ze}from"../chunks/wpTexts-0961020f.js";import"../chunks/index-bde0fb83.js";function Ge(o){let e,t,l;return{c(){e=w("div"),this.h()},l(s){e=k(s,"DIV",{style:!0,class:!0}),E(e).forEach(c),this.h()},h(){u(e,"style",o[0]),u(e,"class","m-0")},m(s,a){L(s,e,a),t||(l=Ye(o[1].call(null,e)),t=!0)},p(s,[a]){a&1&&u(e,"style",s[0])},i:ue,o:ue,d(s){s&&c(e),t=!1,l()}}}function Je(o,e){return e.forEach(([t,l])=>o[t]=l),o}function Ke(o,e,t){let{target:l=void 0}=e,{sketch:s=void 0}=e,{parentDivStyle:a="display: block;"}=e,{debug:n=!1}=e,r;const f=ve(),g={ref(){f("ref",l)},instance(){f("instance",r)}};function v(m){return t(2,l=m),{destroy(){t(2,l=void 0)}}}return Me(async()=>{const m=await import("../chunks/p5.min-21ab2ccd.js").then(function(b){return b.p}),{default:y}=m,I=Object.entries(m).filter(([b,d])=>d instanceof Function&&b[0]!=="_"&&b!=="default");n&&console.log("available p5 native classes",I),r=new y(b=>(b=Je(b,I),n&&console.log("p5 instance",b),window._p5Instance=b,s(b)),l),g.ref(),g.instance()}),o.$$set=m=>{"target"in m&&t(2,l=m.target),"sketch"in m&&t(3,s=m.sketch),"parentDivStyle"in m&&t(0,a=m.parentDivStyle),"debug"in m&&t(4,n=m.debug)},[a,v,l,s,n]}class Qe extends fe{constructor(e){super(),de(this,e,Ke,Ge,he,{target:2,sketch:3,parentDivStyle:0,debug:4})}}function je(o){let e,t,l,s,a,n,r,f,g,v,m,y,V,I,b,d,_,p,D,j,q,N,H;return{c(){e=w("div"),t=w("div"),l=w("div"),s=w("p"),a=O("width"),n=B(),r=w("div"),f=w("div"),g=B(),v=w("div"),m=B(),y=w("div"),V=B(),I=w("div"),b=w("p"),d=O("color"),_=B(),p=w("div"),D=w("input"),j=B(),q=w("div"),this.h()},l(T){e=k(T,"DIV",{class:!0});var P=E(e);t=k(P,"DIV",{class:!0});var Y=E(t);l=k(Y,"DIV",{class:!0});var J=E(l);s=k(J,"P",{});var A=E(s);a=W(A,"width"),A.forEach(c),n=C(J),r=k(J,"DIV",{class:!0});var F=E(r);f=k(F,"DIV",{class:!0,id:!0}),E(f).forEach(c),g=C(F),v=k(F,"DIV",{class:!0,id:!0}),E(v).forEach(c),m=C(F),y=k(F,"DIV",{class:!0,id:!0}),E(y).forEach(c),F.forEach(c),J.forEach(c),V=C(Y),I=k(Y,"DIV",{class:!0});var K=E(I);b=k(K,"P",{});var x=E(b);d=W(x,"color"),x.forEach(c),_=C(K),p=k(K,"DIV",{class:!0});var X=E(p);D=k(X,"INPUT",{type:!0,min:!0,max:!0,id:!0,style:!0,class:!0}),X.forEach(c),K.forEach(c),Y.forEach(c),j=C(P),q=k(P,"DIV",{class:!0}),E(q).forEach(c),P.forEach(c),this.h()},h(){u(f,"class","stroke-button svelte-1fjgqt1"),u(f,"id","small-stroke"),u(v,"class","stroke-button svelte-1fjgqt1"),u(v,"id","medium-stroke"),u(y,"class","stroke-button svelte-1fjgqt1"),u(y,"id","big-stroke"),u(r,"class","stroke-width svelte-1fjgqt1"),u(l,"class","style-section svelte-1fjgqt1"),u(D,"type","range"),u(D,"min","0"),u(D,"max","255"),u(D,"id","color-slider"),ce(D,"background-color","rgb("+o[0]+","+o[1]+","+o[2]),u(D,"class","svelte-1fjgqt1"),u(p,"class","stroke-color svelte-1fjgqt1"),u(I,"class","style-section svelte-1fjgqt1"),u(t,"class","modal-center draw-settings svelte-1fjgqt1"),u(q,"class","icon-button exit-button svelte-1fjgqt1"),u(e,"class","container svelte-1fjgqt1")},m(T,P){L(T,e,P),i(e,t),i(t,l),i(l,s),i(s,a),i(l,n),i(l,r),i(r,f),i(r,g),i(r,v),i(r,m),i(r,y),i(t,V),i(t,I),i(I,b),i(b,d),i(I,_),i(I,p),i(p,D),te(D,o[0]),i(e,j),i(e,q),N||(H=[U(f,"click",o[11]),U(v,"click",o[11]),U(y,"click",o[11]),U(D,"change",o[14]),U(D,"change",o[20]),U(D,"input",o[20]),U(q,"click",o[18]),U(q,"touchstart",o[18],{passive:!0})],N=!0)},p(T,P){P[0]&7&&ce(D,"background-color","rgb("+T[0]+","+T[1]+","+T[2]),P[0]&1&&te(D,T[0])},d(T){T&&c(e),N=!1,oe(H)}}}function qe(o){let e,t,l,s,a,n,r,f,g,v,m,y,V,I,b,d,_,p,D,j,q,N,H,T,P,Y,J,A,F,K,x,X,ae,re,M=o[6]&&Te();return{c(){e=w("div"),t=w("div"),l=w("h2"),s=O("Contribute to the Cloud Cities repository"),a=B(),n=w("div"),r=w("p"),f=O("Cloud City"),g=B(),v=w("input"),m=B(),y=w("div"),V=w("p"),I=O("Description"),b=B(),d=w("input"),_=B(),p=w("div"),D=w("p"),j=O("Name (optional)"),q=B(),N=w("input"),H=B(),T=w("div"),P=w("button"),Y=O("Submit"),J=B(),A=w("button"),F=O("Download"),K=B(),M&&M.c(),x=B(),X=w("div"),this.h()},l(R){e=k(R,"DIV",{class:!0});var h=E(e);t=k(h,"DIV",{class:!0});var S=E(t);l=k(S,"H2",{});var Q=E(l);s=W(Q,"Contribute to the Cloud Cities repository"),Q.forEach(c),a=C(S),n=k(S,"DIV",{class:!0});var Z=E(n);r=k(Z,"P",{class:!0});var se=E(r);f=W(se,"Cloud City"),se.forEach(c),g=C(Z),v=k(Z,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),Z.forEach(c),m=C(S),y=k(S,"DIV",{class:!0});var ee=E(y);V=k(ee,"P",{class:!0});var ne=E(V);I=W(ne,"Description"),ne.forEach(c),b=C(ee),d=k(ee,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),ee.forEach(c),_=C(S),p=k(S,"DIV",{class:!0});var z=E(p);D=k(z,"P",{class:!0});var G=E(D);j=W(G,"Name (optional)"),G.forEach(c),q=C(z),N=k(z,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),z.forEach(c),H=C(S),T=k(S,"DIV",{class:!0});var ie=E(T);P=k(ie,"BUTTON",{id:!0,class:!0});var be=E(P);Y=W(be,"Submit"),be.forEach(c),J=C(ie),A=k(ie,"BUTTON",{id:!0,class:!0});var we=E(A);F=W(we,"Download"),we.forEach(c),ie.forEach(c),K=C(S),M&&M.l(S),S.forEach(c),x=C(h),X=k(h,"DIV",{class:!0}),E(X).forEach(c),h.forEach(c),this.h()},h(){u(r,"class","svelte-1fjgqt1"),u(v,"type","text"),u(v,"id","input-username"),u(v,"data-lpignore","true"),u(v,"class","svelte-1fjgqt1"),u(n,"class","input-section svelte-1fjgqt1"),u(V,"class","svelte-1fjgqt1"),u(d,"type","text"),u(d,"id","input-description"),u(d,"data-lpignore","true"),u(d,"class","svelte-1fjgqt1"),u(y,"class","input-section svelte-1fjgqt1"),u(D,"class","svelte-1fjgqt1"),u(N,"type","text"),u(N,"id","input-name"),u(N,"data-lpignore","true"),u(N,"class","svelte-1fjgqt1"),u(p,"class","input-section svelte-1fjgqt1"),u(P,"id","submit-button"),u(P,"class","svelte-1fjgqt1"),u(A,"id","download-button"),u(A,"class","svelte-1fjgqt1"),u(T,"class","flex-row"),u(t,"class","modal-center submit-image svelte-1fjgqt1"),u(X,"class","icon-button exit-button svelte-1fjgqt1"),u(e,"class","container svelte-1fjgqt1")},m(R,h){L(R,e,h),i(e,t),i(t,l),i(l,s),i(t,a),i(t,n),i(n,r),i(r,f),i(n,g),i(n,v),te(v,o[3]),i(t,m),i(t,y),i(y,V),i(V,I),i(y,b),i(y,d),te(d,o[4]),i(t,_),i(t,p),i(p,D),i(D,j),i(p,q),i(p,N),te(N,o[5]),i(t,H),i(t,T),i(T,P),i(P,Y),i(T,J),i(T,A),i(A,F),i(t,K),M&&M.m(t,null),i(e,x),i(e,X),ae||(re=[U(v,"input",o[21]),U(d,"input",o[22]),U(N,"input",o[23]),U(P,"click",o[12]),U(A,"click",o[13]),U(X,"click",o[18]),U(X,"touchstart",o[18],{passive:!0})],ae=!0)},p(R,h){h[0]&8&&v.value!==R[3]&&te(v,R[3]),h[0]&16&&d.value!==R[4]&&te(d,R[4]),h[0]&32&&N.value!==R[5]&&te(N,R[5]),R[6]?M||(M=Te(),M.c(),M.m(t,null)):M&&(M.d(1),M=null)},d(R){R&&c(e),M&&M.d(),ae=!1,oe(re)}}}function Te(o){let e,t;return{c(){e=w("p"),t=O("We need more Information")},l(l){e=k(l,"P",{});var s=E(e);t=W(s,"We need more Information"),s.forEach(c)},m(l,s){L(l,e,s),i(e,t)},d(l){l&&c(e)}}}function Be(o){let e,t,l,s,a,n,r,f,g,v,m,y,V,I,b,d;return{c(){e=w("div"),t=w("div"),l=w("h2"),s=O("Thank you! Submission complete"),a=B(),n=w("p"),r=O("Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),f=B(),g=w("div"),v=w("a"),m=w("button"),y=O("Return to drawing"),V=B(),I=w("a"),b=w("button"),d=O("Visit the repository"),this.h()},l(_){e=k(_,"DIV",{class:!0});var p=E(e);t=k(p,"DIV",{class:!0});var D=E(t);l=k(D,"H2",{});var j=E(l);s=W(j,"Thank you! Submission complete"),j.forEach(c),a=C(D),n=k(D,"P",{});var q=E(n);r=W(q,"Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),q.forEach(c),f=C(D),g=k(D,"DIV",{class:!0});var N=E(g);v=k(N,"A",{href:!0,class:!0});var H=E(v);m=k(H,"BUTTON",{class:!0});var T=E(m);y=W(T,"Return to drawing"),T.forEach(c),H.forEach(c),V=C(N),I=k(N,"A",{href:!0,class:!0});var P=E(I);b=k(P,"BUTTON",{class:!0});var Y=E(b);d=W(Y,"Visit the repository"),Y.forEach(c),P.forEach(c),N.forEach(c),D.forEach(c),p.forEach(c),this.h()},h(){u(m,"class","svelte-1fjgqt1"),u(v,"href","/draw"),u(v,"class","href svelte-1fjgqt1"),u(b,"class","svelte-1fjgqt1"),u(I,"href","/"),u(I,"class","hred svelte-1fjgqt1"),u(g,"class","flex-row svelte-1fjgqt1"),u(t,"class","modal-center svelte-1fjgqt1"),u(e,"class","container svelte-1fjgqt1")},m(_,p){L(_,e,p),i(e,t),i(t,l),i(l,s),i(t,a),i(t,n),i(n,r),i(t,f),i(t,g),i(g,v),i(v,m),i(m,y),i(g,V),i(g,I),i(I,b),i(b,d)},d(_){_&&c(e)}}}function Ce(o){let e,t,l,s,a;return{c(){e=w("div"),t=B(),l=w("div"),this.h()},l(n){e=k(n,"DIV",{class:!0,id:!0}),E(e).forEach(c),t=C(n),l=k(n,"DIV",{class:!0,id:!0}),E(l).forEach(c),this.h()},h(){u(e,"class","icon-button finished-drawing-button svelte-1fjgqt1"),u(e,"id","finish-button"),u(l,"class","icon-button pallette-button svelte-1fjgqt1"),u(l,"id","p-button")},m(n,r){L(n,e,r),L(n,t,r),L(n,l,r),s||(a=[U(e,"click",o[24]),U(e,"touchstart",o[25],{passive:!0}),U(e,"mouseenter",o[15]),U(e,"mouseleave",o[16]),U(l,"click",o[26]),U(l,"touchstart",o[27],{passive:!0}),U(l,"mouseenter",o[15]),U(l,"mouseleave",o[16])],s=!0)},p:ue,d(n){n&&c(e),n&&c(t),n&&c(l),s=!1,oe(a)}}}function Ze(o){let e,t,l,s,a,n,r,f,g,v,m,y;t=new Qe({props:{sketch:o[10]}});let V=o[8]&&je(o),I=o[9]&&qe(o),b=o[7]&&Be(),d=!o[8]&&!o[9]&&Ce(o);return{c(){e=w("div"),me(t.$$.fragment),l=B(),s=w("a"),a=w("div"),n=B(),V&&V.c(),r=B(),I&&I.c(),f=B(),b&&b.c(),g=B(),d&&d.c(),this.h()},l(_){e=k(_,"DIV",{id:!0});var p=E(e);pe(t.$$.fragment,p),l=C(p),s=k(p,"A",{href:!0});var D=E(s);a=k(D,"DIV",{class:!0}),E(a).forEach(c),D.forEach(c),n=C(p),V&&V.l(p),r=C(p),I&&I.l(p),f=C(p),b&&b.l(p),g=C(p),d&&d.l(p),p.forEach(c),this.h()},h(){u(a,"class","icon-button repo-button svelte-1fjgqt1"),u(s,"href","/"),u(e,"id","canvas-container")},m(_,p){L(_,e,p),ge(t,e,null),i(e,l),i(e,s),i(s,a),i(e,n),V&&V.m(e,null),i(e,r),I&&I.m(e,null),i(e,f),b&&b.m(e,null),i(e,g),d&&d.m(e,null),v=!0,m||(y=[U(a,"mouseenter",o[15]),U(a,"mouseleave",o[16]),U(a,"touchstart",o[17],{passive:!0})],m=!0)},p(_,p){_[8]?V?V.p(_,p):(V=je(_),V.c(),V.m(e,r)):V&&(V.d(1),V=null),_[9]?I?I.p(_,p):(I=qe(_),I.c(),I.m(e,f)):I&&(I.d(1),I=null),_[7]?b||(b=Be(),b.c(),b.m(e,g)):b&&(b.d(1),b=null),!_[8]&&!_[9]?d?d.p(_,p):(d=Ce(_),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i(_){v||($(t.$$.fragment,_),v=!0)},o(_){le(t.$$.fragment,_),v=!1},d(_){_&&c(e),_e(t),V&&V.d(),I&&I.d(),b&&b.d(),d&&d.d(),m=!1,oe(y)}}}function $e(o,e,t){ve();let{propValue:l}=e,s=l,a=3,n=0,r=0,f=0,g;const v=h=>{let S;h.preload=()=>{console.log("preload"),S=h.loadImage(s)},h.setup=()=>{console.log("setup: ",S.width),h.windowWidth>500||h.windowWidth<500&&S.width<S.height?h.createCanvas(h.windowWidth,h.windowHeight):h.windowWidth<500&&h.createCanvas(S.width/2,h.windowHeight),h.background(S);let z=document.getElementById("canvas-container");z.addEventListener("touchstart",G=>{G.touches.length===2&&(g=!0)}),z.addEventListener("touchmove",G=>{G.touches.length===2&&(g=!0)}),z.addEventListener("touchend",G=>{g&&(g=!1)})};let Q=0,Z=0,se=0,ee=0,ne=.3;h.mousePressed=()=>{if(!(q||g||j||T))return Q=h.mouseX,Z=h.mouseY,se=h.mouseX,ee=h.mouseY,!1},h.touchMoved=()=>{if(q||g||j||T)return;let z=h.mouseX,G=h.mouseY;return Q+=(z-Q)*ne,Z+=(G-Z)*ne,h.strokeWeight(a),h.stroke(n,r,f),h.line(Q,Z,se,ee),se=Q,ee=Z,!1},h.windowResized=()=>{h.select("#defaultCanvas0"),h.resizeCanvas(h.windowWidth,h.windowHeight);let z=document.getElementById("defaultCanvas0").toDataURL(),G=h.loadImage(z);console.log("img: ",G),h.image(G)}};let m=document.getElementsByClassName("stroke-button");const y=h=>{h.target.id==="small-stroke"?a=2:h.target.id==="medium-stroke"?a=4:h.target.id==="big-stroke"&&(a=6),m.forEach(S=>{S!==h.target?S.style.border="none":S.style.border="solid 4px #00D1FF"})};let V,I,b,d,_=!0;const p=()=>{if(V&&I&&_){_=!1,t(6,d=!1);let h=new FormData;h.append("title",V),h.append("description",I),h.append("name",b),document.getElementById("defaultCanvas0").toBlob(function(Q){h.append("file",Q),fetch("/addPostfromServer",{method:"POST",body:h})}),t(9,q=!1),t(7,D=!0)}else if(_)t(6,d=!0);else return};let D=!1,j=!1,q=!1;const N=()=>{let h=document.createElement("a");h.download="myCanvas.png",h.href=document.getElementById("defaultCanvas0").toDataURL(),h.click()},H=h=>{t(0,n=h.srcElement.value),t(1,r=h.srcElement.value),t(2,f=h.srcElement.value)};let T=!1;const P=()=>{T=!0,console.log("overbutton: ",T)},Y=()=>{T=!1,console.log("overbutton: ",T)},J=()=>{window.location.replace("/")},A=()=>{console.log("finishedDrawing: ",q),j&&t(8,j=!1),q&&t(9,q=!1),T=!1};function F(){n=Ae(this.value),t(0,n)}function K(){V=this.value,t(3,V)}function x(){I=this.value,t(4,I)}function X(){b=this.value,t(5,b)}const ae=()=>t(9,q=!q),re=()=>(t(9,q=!q),console.log("touch event on pallette")),M=()=>(t(8,j=!j),console.log("click event on pallette")),R=()=>(t(8,j=!j),console.log("touch event on pallette"));return o.$$set=h=>{"propValue"in h&&t(19,l=h.propValue)},[n,r,f,V,I,b,d,D,j,q,v,y,p,N,H,P,Y,J,A,l,F,K,x,X,ae,re,M,R]}class xe extends fe{constructor(e){super(),de(this,e,$e,Ze,he,{propValue:19},null,[-1,-1])}}function Ue(o,e,t){const l=o.slice();return l[14]=e[t],l[16]=t,l}function Ne(o,e,t){const l=o.slice();return l[14]=e[t],l[16]=t,l}function et(o){let e,t,l,s,a,n,r=o[2],f=[];for(let g=0;g<r.length;g+=1)f[g]=Se(Ue(o,r,g));return{c(){e=w("div");for(let g=0;g<f.length;g+=1)f[g].c();t=B(),l=w("button"),s=O("Start"),this.h()},l(g){e=k(g,"DIV",{class:!0});var v=E(e);for(let y=0;y<f.length;y+=1)f[y].l(v);t=C(v),l=k(v,"BUTTON",{});var m=E(l);s=W(m,"Start"),m.forEach(c),v.forEach(c),this.h()},h(){u(e,"class","start-draw-center svelte-8vvvra")},m(g,v){L(g,e,v);for(let m=0;m<f.length;m+=1)f[m].m(e,null);i(e,t),i(e,l),i(l,s),a||(n=U(l,"click",o[9]),a=!0)},p(g,v){if(v&4){r=g[2];let m;for(m=0;m<r.length;m+=1){const y=Ue(g,r,m);f[m]?f[m].p(y,v):(f[m]=Se(y),f[m].c(),f[m].m(e,t))}for(;m<f.length;m+=1)f[m].d(1);f.length=r.length}},d(g){g&&c(e),He(f,g),a=!1,n()}}}function tt(o){let e,t,l,s,a,n,r,f,g,v,m,y,V,I,b=o[1],d=[];for(let p=0;p<b.length;p+=1)d[p]=Pe(Ne(o,b,p));let _=o[4]&&Oe(o);return{c(){e=w("div"),t=w("h2"),l=O("Clouds to be..."),s=B();for(let p=0;p<d.length;p+=1)d[p].c();a=B(),n=w("div"),r=w("button"),f=O("Draw on this Canvas"),g=B(),v=w("button"),m=O("Upload your own Canvas"),y=B(),_&&_.c(),this.h()},l(p){e=k(p,"DIV",{class:!0});var D=E(e);t=k(D,"H2",{class:!0});var j=E(t);l=W(j,"Clouds to be..."),j.forEach(c),s=C(D);for(let T=0;T<d.length;T+=1)d[T].l(D);a=C(D),n=k(D,"DIV",{class:!0});var q=E(n);r=k(q,"BUTTON",{class:!0});var N=E(r);f=W(N,"Draw on this Canvas"),N.forEach(c),g=C(q),v=k(q,"BUTTON",{class:!0});var H=E(v);m=W(H,"Upload your own Canvas"),H.forEach(c),q.forEach(c),y=C(D),_&&_.l(D),D.forEach(c),this.h()},h(){u(t,"class","svelte-8vvvra"),u(r,"class","enter-button svelte-8vvvra"),u(v,"class","enter-button svelte-8vvvra"),u(n,"class","button-section svelte-8vvvra"),u(e,"class","start-draw-center svelte-8vvvra")},m(p,D){L(p,e,D),i(e,t),i(t,l),i(e,s);for(let j=0;j<d.length;j+=1)d[j].m(e,null);i(e,a),i(e,n),i(n,r),i(r,f),i(n,g),i(n,v),i(v,m),i(e,y),_&&_.m(e,null),V||(I=[U(r,"click",o[8]),U(v,"click",o[5])],V=!0)},p(p,D){if(D&2){b=p[1];let j;for(j=0;j<b.length;j+=1){const q=Ne(p,b,j);d[j]?d[j].p(q,D):(d[j]=Pe(q),d[j].c(),d[j].m(e,a))}for(;j<d.length;j+=1)d[j].d(1);d.length=b.length}p[4]?_?_.p(p,D):(_=Oe(p),_.c(),_.m(e,null)):_&&(_.d(1),_=null)},d(p){p&&c(e),He(d,p),_&&_.d(),V=!1,oe(I)}}}function Se(o){let e,t=o[14]+"",l;return{c(){e=w("p"),l=O(t)},l(s){e=k(s,"P",{});var a=E(e);l=W(a,t),a.forEach(c)},m(s,a){L(s,e,a),i(e,l)},p(s,a){a&4&&t!==(t=s[14]+"")&&Re(l,t)},d(s){s&&c(e)}}}function Pe(o){let e,t=o[14]+"",l;return{c(){e=w("p"),l=O(t)},l(s){e=k(s,"P",{});var a=E(e);l=W(a,t),a.forEach(c)},m(s,a){L(s,e,a),i(e,l)},p(s,a){a&2&&t!==(t=s[14]+"")&&Re(l,t)},d(s){s&&c(e)}}}function Oe(o){let e,t,l,s,a,n;return{c(){e=w("input"),t=B(),l=w("button"),s=O("Start"),this.h()},l(r){e=k(r,"INPUT",{accept:!0,type:!0,id:!0}),t=C(r),l=k(r,"BUTTON",{});var f=E(l);s=W(f,"Start"),f.forEach(c),this.h()},h(){u(e,"accept",".png, .jpg, .jpeg"),u(e,"type","file"),u(e,"id","upload")},m(r,f){L(r,e,f),L(r,t,f),L(r,l,f),i(l,s),a||(n=[U(e,"change",o[6]),U(l,"click",o[7])],a=!0)},p:ue,d(r){r&&c(e),r&&c(t),r&&c(l),a=!1,oe(n)}}}function lt(o){let e,t,l;function s(r,f){return r[3]?tt:et}let a=s(o),n=a(o);return{c(){e=w("div"),n.c(),this.h()},l(r){e=k(r,"DIV",{class:!0,style:!0});var f=E(e);n.l(f),f.forEach(c),this.h()},h(){u(e,"class","start-draw-container svelte-8vvvra"),ce(e,"background-image","url("+o[0]+")")},m(r,f){L(r,e,f),n.m(e,null),l=!0},p(r,[f]){a===(a=s(r))&&n?n.p(r,f):(n.d(1),n=a(r),n&&(n.c(),n.m(e,null))),(!l||f&1)&&ce(e,"background-image","url("+r[0]+")")},i(r){l||(Fe(()=>{t||(t=ke(e,Ve,{},!0)),t.run(1)}),l=!0)},o(r){t||(t=ke(e,Ve,{},!1)),t.run(0),l=!1},d(r){r&&c(e),n.d(),r&&t&&t.end()}}}function st(o,e,t){const l=ve();let{propValue:s}=e,{cloudsToBe:a}=e,{drawInstructions:n}=e;console.log("draw instruction: ",n);let r=!0,f=!1,g;const v=()=>{t(4,f=!0)},m=()=>{const _=document.getElementById("upload").files[0];g=URL.createObjectURL(_),console.log("chooseImage: ",g)};let y;const V=()=>{t(3,r=!1),y="drawOnUploadImage"},I=()=>{t(3,r=!1),y="drawOnThisImage"},b=()=>{y==="drawOnThisImage"?l("startDrawing",!1):y==="drawOnUploadImage"&&l("startDrawing",g)};return o.$$set=d=>{"propValue"in d&&t(0,s=d.propValue),"cloudsToBe"in d&&t(1,a=d.cloudsToBe),"drawInstructions"in d&&t(2,n=d.drawInstructions)},[s,a,n,r,f,v,m,V,I,b]}class ot extends fe{constructor(e){super(),de(this,e,st,lt,he,{propValue:0,cloudsToBe:1,drawInstructions:2})}}function We(o){let e,t;return e=new ot({props:{drawInstructions:o[4],cloudsToBe:o[5],propValue:o[0]}}),e.$on("startDrawing",o[6]),{c(){me(e.$$.fragment)},l(l){pe(e.$$.fragment,l)},m(l,s){ge(e,l,s),t=!0},p(l,s){const a={};s&16&&(a.drawInstructions=l[4]),s&32&&(a.cloudsToBe=l[5]),s&1&&(a.propValue=l[0]),e.$set(a)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){le(e.$$.fragment,l),t=!1},d(l){_e(e,l)}}}function Le(o){let e,t;return e=new xe({props:{propValue:o[1]}}),{c(){me(e.$$.fragment)},l(l){pe(e.$$.fragment,l)},m(l,s){ge(e,l,s),t=!0},p(l,s){const a={};s&2&&(a.propValue=l[1]),e.$set(a)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){le(e.$$.fragment,l),t=!1},d(l){_e(e,l)}}}function at(o){let e,t,l,s=o[0]&&o[3]&&We(o),a=o[2]&&Le(o);return{c(){s&&s.c(),e=B(),a&&a.c(),t=Ee()},l(n){s&&s.l(n),e=C(n),a&&a.l(n),t=Ee()},m(n,r){s&&s.m(n,r),L(n,e,r),a&&a.m(n,r),L(n,t,r),l=!0},p(n,[r]){n[0]&&n[3]?s?(s.p(n,r),r&9&&$(s,1)):(s=We(n),s.c(),$(s,1),s.m(e.parentNode,e)):s&&(ye(),le(s,1,1,()=>{s=null}),Ie()),n[2]?a?(a.p(n,r),r&4&&$(a,1)):(a=Le(n),a.c(),$(a,1),a.m(t.parentNode,t)):a&&(ye(),le(a,1,1,()=>{a=null}),Ie())},i(n){l||($(s),$(a),l=!0)},o(n){le(s),le(a),l=!1},d(n){s&&s.d(n),n&&c(e),a&&a.d(n),n&&c(t)}}}function nt(o,e,t){let l,s;De(o,Xe,v=>t(4,l=v)),De(o,ze,v=>t(5,s=v));let a;Me(async()=>{let m=await(await fetch("https://cloudcities.studiotomassaraceno.org/wp-json/wp/v2/media?categories=48")).json(),y=Math.floor(Math.random()*m.length);t(0,a=m[y].source_url)});let n,r=!1,f=!0;return[a,n,r,f,l,s,v=>{console.log("startDrawing: ",v.detail),v.detail?t(1,n=v.detail):(t(1,n=a),console.log("startDrawing BG: ",a)),t(3,f=!1),t(2,r=!0)}]}class ct extends fe{constructor(e){super(),de(this,e,nt,at,he,{})}}export{ct as default};
