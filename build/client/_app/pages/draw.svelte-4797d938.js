import{S as ve,i as _e,s as ge,e as g,c as b,a as I,d as h,b as m,g as O,K as at,E as ae,L as ze,v as Le,t as j,k as B,h as R,m as y,f as K,J as i,M as ie,N as C,O as be,P as Ge,w as we,x as Ie,y as ke,q as A,o as Z,B as Ee,Q as ut,j as ct,l as Pe,R as dt,T as Je,p as Se,U as pe,n as Oe}from"../chunks/index-b4ba22ca.js";import{f as Xe,G as ft,c as mt,d as ht,a as pt,b as vt,r as _t}from"../chunks/wpTitles-0aa30866.js";import"../chunks/index-e1a0e36b.js";function gt(s){let e,t,l;return{c(){e=g("div"),this.h()},l(o){e=b(o,"DIV",{style:!0,class:!0}),I(e).forEach(h),this.h()},h(){m(e,"style",s[0]),m(e,"class","m-0")},m(o,d){O(o,e,d),t||(l=at(s[1].call(null,e)),t=!0)},p(o,[d]){d&1&&m(e,"style",o[0])},i:ae,o:ae,d(o){o&&h(e),t=!1,l()}}}function bt(s,e){return e.forEach(([t,l])=>s[t]=l),s}function wt(s,e,t){let{target:l=void 0}=e,{sketch:o=void 0}=e,{parentDivStyle:d="display: block;"}=e,{debug:a=!1}=e,r;const u=ze(),c={ref(){u("ref",l)},instance(){u("instance",r)}};function n(f){return t(2,l=f),{destroy(){t(2,l=void 0)}}}return Le(async()=>{const f=await import("../chunks/p5.min-21ab2ccd.js").then(function(D){return D.p}),{default:E}=f,k=Object.entries(f).filter(([D,T])=>T instanceof Function&&D[0]!=="_"&&D!=="default");a&&console.log("available p5 native classes",k),r=new E(D=>(D=bt(D,k),a&&console.log("p5 instance",D),window._p5Instance=D,o(D)),l),c.ref(),c.instance()}),s.$$set=f=>{"target"in f&&t(2,l=f.target),"sketch"in f&&t(3,o=f.sketch),"parentDivStyle"in f&&t(0,d=f.parentDivStyle),"debug"in f&&t(4,a=f.debug)},[d,n,l,o,a]}class It extends ve{constructor(e){super(),_e(this,e,wt,gt,ge,{target:2,sketch:3,parentDivStyle:0,debug:4})}}function Ke(s){let e,t,l,o,d,a,r,u,c,n,f,E,w,k,D,T,v,_,q,U,P,N,H;return{c(){e=g("div"),t=g("div"),l=g("div"),o=g("p"),d=j("width"),a=B(),r=g("div"),u=g("div"),c=B(),n=g("div"),f=B(),E=g("div"),w=B(),k=g("div"),D=g("p"),T=j("color"),v=B(),_=g("div"),q=g("input"),U=B(),P=g("div"),this.h()},l(M){e=b(M,"DIV",{class:!0});var V=I(e);t=b(V,"DIV",{class:!0});var S=I(t);l=b(S,"DIV",{class:!0});var x=I(l);o=b(x,"P",{});var ue=I(o);d=R(ue,"width"),ue.forEach(h),a=y(x),r=b(x,"DIV",{class:!0});var Y=I(r);u=b(Y,"DIV",{class:!0,id:!0,style:!0}),I(u).forEach(h),c=y(Y),n=b(Y,"DIV",{class:!0,id:!0,style:!0}),I(n).forEach(h),f=y(Y),E=b(Y,"DIV",{class:!0,id:!0,style:!0}),I(E).forEach(h),Y.forEach(h),x.forEach(h),w=y(S),k=b(S,"DIV",{class:!0});var le=I(k);D=b(le,"P",{});var Q=I(D);T=R(Q,"color"),Q.forEach(h),v=y(le),_=b(le,"DIV",{class:!0});var J=I(_);q=b(J,"INPUT",{type:!0,min:!0,max:!0,id:!0,style:!0,class:!0}),J.forEach(h),le.forEach(h),S.forEach(h),U=y(V),P=b(V,"DIV",{class:!0}),I(P).forEach(h),V.forEach(h),this.h()},h(){m(u,"class","stroke-button svelte-161oqli"),m(u,"id","small-stroke"),K(u,"border",s[10]),m(n,"class","stroke-button svelte-161oqli"),m(n,"id","medium-stroke"),K(n,"border",s[11]),m(E,"class","stroke-button svelte-161oqli"),m(E,"id","big-stroke"),K(E,"border",s[12]),m(r,"class","stroke-width svelte-161oqli"),m(l,"class","style-section svelte-161oqli"),m(q,"type","range"),m(q,"min","0"),m(q,"max","255"),m(q,"id","color-slider"),K(q,"background-color","rgb("+s[0]+","+s[1]+","+s[2]),m(q,"class","svelte-161oqli"),m(_,"class","stroke-color svelte-161oqli"),m(k,"class","style-section svelte-161oqli"),m(t,"class","modal-center draw-settings svelte-161oqli"),m(P,"class","icon-button exit-button svelte-161oqli"),m(e,"class","container svelte-161oqli")},m(M,V){O(M,e,V),i(e,t),i(t,l),i(l,o),i(o,d),i(l,a),i(l,r),i(r,u),i(r,c),i(r,n),i(r,f),i(r,E),i(t,w),i(t,k),i(k,D),i(D,T),i(k,v),i(k,_),i(_,q),ie(q,s[0]),i(e,U),i(e,P),N||(H=[C(u,"click",s[15]),C(n,"click",s[15]),C(E,"click",s[15]),C(q,"change",s[18]),C(q,"change",s[28]),C(q,"input",s[28]),C(P,"click",s[22]),C(P,"touchstart",s[22],{passive:!0})],N=!0)},p(M,V){V[0]&1024&&K(u,"border",M[10]),V[0]&2048&&K(n,"border",M[11]),V[0]&4096&&K(E,"border",M[12]),V[0]&7&&K(q,"background-color","rgb("+M[0]+","+M[1]+","+M[2]),V[0]&1&&ie(q,M[0])},d(M){M&&h(e),N=!1,be(H)}}}function Qe(s){let e,t,l,o,d,a,r,u=s[13][0]+"",c,n,f,E,w,k,D=s[13][1]+"",T,v,_,q,U,P,N=s[13][2]+"",H,M,V,S,x,ue=s[13][3]+"",Y,le,Q,J,Te=s[13][4]+"",re,ne,$,De,fe,ee,Be=s[13][5]+"",me,oe,ye,he,se,Ve=s[13][6]+"",p,L,te,X,ce,de,F=s[6]&&Ze();return{c(){e=g("div"),t=g("div"),l=g("h2"),o=j("Contribute to the Cloud Cities repository"),d=B(),a=g("div"),r=g("p"),c=j(u),n=B(),f=g("input"),E=B(),w=g("div"),k=g("p"),T=j(D),v=B(),_=g("input"),q=B(),U=g("div"),P=g("p"),H=j(N),M=B(),V=g("input"),S=B(),x=g("p"),Y=j(ue),le=B(),Q=g("div"),J=g("button"),re=j(Te),ne=B(),$=g("img"),fe=B(),ee=g("button"),me=j(Be),oe=g("img"),he=B(),se=g("button"),p=j(Ve),L=B(),F&&F.c(),te=B(),X=g("div"),this.h()},l(z){e=b(z,"DIV",{class:!0});var W=I(e);t=b(W,"DIV",{class:!0});var G=I(t);l=b(G,"H2",{});var We=I(l);o=R(We,"Contribute to the Cloud Cities repository"),We.forEach(h),d=y(G),a=b(G,"DIV",{class:!0});var qe=I(a);r=b(qe,"P",{class:!0});var Fe=I(r);c=R(Fe,u),Fe.forEach(h),n=y(qe),f=b(qe,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),qe.forEach(h),E=y(G),w=b(G,"DIV",{class:!0});var Ue=I(w);k=b(Ue,"P",{class:!0});var je=I(k);T=R(je,D),je.forEach(h),v=y(Ue),_=b(Ue,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),Ue.forEach(h),q=y(G),U=b(G,"DIV",{class:!0});var Ce=I(U);P=b(Ce,"P",{class:!0});var Re=I(P);H=R(Re,N),Re.forEach(h),M=y(Ce),V=b(Ce,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),Ce.forEach(h),S=y(G),x=b(G,"P",{});var Ye=I(x);Y=R(Ye,ue),Ye.forEach(h),le=y(G),Q=b(G,"DIV",{class:!0});var Ne=I(Q);J=b(Ne,"BUTTON",{id:!0,class:!0});var Me=I(J);re=R(Me,Te),ne=y(Me),$=b(Me,"IMG",{src:!0,alt:!0,class:!0}),Me.forEach(h),fe=y(Ne),ee=b(Ne,"BUTTON",{id:!0,class:!0});var He=I(ee);me=R(He,Be),oe=b(He,"IMG",{src:!0,alt:!0,class:!0}),He.forEach(h),Ne.forEach(h),he=y(G),se=b(G,"BUTTON",{id:!0,class:!0});var Ae=I(se);p=R(Ae,Ve),Ae.forEach(h),L=y(G),F&&F.l(G),G.forEach(h),te=y(W),X=b(W,"DIV",{class:!0}),I(X).forEach(h),W.forEach(h),this.h()},h(){m(r,"class","svelte-161oqli"),m(f,"type","text"),m(f,"id","input-username"),m(f,"data-lpignore","true"),m(f,"class","svelte-161oqli"),m(a,"class","input-section svelte-161oqli"),m(k,"class","svelte-161oqli"),m(_,"type","text"),m(_,"id","input-username"),m(_,"data-lpignore","true"),m(_,"class","svelte-161oqli"),m(w,"class","input-section svelte-161oqli"),m(P,"class","svelte-161oqli"),m(V,"type","text"),m(V,"id","input-name"),m(V,"data-lpignore","true"),m(V,"class","svelte-161oqli"),m(U,"class","input-section svelte-161oqli"),Ge($.src,De="./cloud_submit.svg")||m($,"src",De),m($,"alt","submit"),m($,"class","svelte-161oqli"),m(J,"id","submit-button"),m(J,"class","svelte-161oqli"),Ge(oe.src,ye="./cloud_download.svg")||m(oe,"src",ye),m(oe,"alt","download"),m(oe,"class","svelte-161oqli"),m(ee,"id","download-button"),m(ee,"class","svelte-161oqli"),m(Q,"class","flex-row"),m(se,"id","cancel-button"),m(se,"class","svelte-161oqli"),m(t,"class","modal-center submit-image svelte-161oqli"),m(X,"class","icon-button exit-button svelte-161oqli"),m(e,"class","container svelte-161oqli")},m(z,W){O(z,e,W),i(e,t),i(t,l),i(l,o),i(t,d),i(t,a),i(a,r),i(r,c),i(a,n),i(a,f),ie(f,s[3]),i(t,E),i(t,w),i(w,k),i(k,T),i(w,v),i(w,_),ie(_,s[4]),i(t,q),i(t,U),i(U,P),i(P,H),i(U,M),i(U,V),ie(V,s[5]),i(t,S),i(t,x),i(x,Y),i(t,le),i(t,Q),i(Q,J),i(J,re),i(J,ne),i(J,$),i(Q,fe),i(Q,ee),i(ee,me),i(ee,oe),i(t,he),i(t,se),i(se,p),i(t,L),F&&F.m(t,null),i(e,te),i(e,X),ce||(de=[C(f,"input",s[29]),C(_,"input",s[30]),C(V,"input",s[31]),C(J,"click",s[16]),C(ee,"click",s[17]),C(se,"click",s[25]),C(X,"click",s[22]),C(X,"touchstart",s[22],{passive:!0})],ce=!0)},p(z,W){W[0]&8&&f.value!==z[3]&&ie(f,z[3]),W[0]&16&&_.value!==z[4]&&ie(_,z[4]),W[0]&32&&V.value!==z[5]&&ie(V,z[5]),z[6]?F||(F=Ze(),F.c(),F.m(t,null)):F&&(F.d(1),F=null)},d(z){z&&h(e),F&&F.d(),ce=!1,be(de)}}}function Ze(s){let e,t;return{c(){e=g("p"),t=j("We need more Information")},l(l){e=b(l,"P",{});var o=I(e);t=R(o,"We need more Information"),o.forEach(h)},m(l,o){O(l,e,o),i(e,t)},d(l){l&&h(e)}}}function xe(s){let e,t,l,o,d,a,r,u,c,n,f,E,w,k,D,T,v;return{c(){e=g("div"),t=g("div"),l=g("h2"),o=j("Thank you! Submission complete"),d=B(),a=g("p"),r=j("Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),u=B(),c=g("div"),n=g("button"),f=j("Return to drawing"),E=B(),w=g("a"),k=g("button"),D=j("Visit the repository"),this.h()},l(_){e=b(_,"DIV",{class:!0});var q=I(e);t=b(q,"DIV",{class:!0});var U=I(t);l=b(U,"H2",{});var P=I(l);o=R(P,"Thank you! Submission complete"),P.forEach(h),d=y(U),a=b(U,"P",{});var N=I(a);r=R(N,"Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),N.forEach(h),u=y(U),c=b(U,"DIV",{class:!0});var H=I(c);n=b(H,"BUTTON",{class:!0});var M=I(n);f=R(M,"Return to drawing"),M.forEach(h),E=y(H),w=b(H,"A",{href:!0,class:!0});var V=I(w);k=b(V,"BUTTON",{class:!0});var S=I(k);D=R(S,"Visit the repository"),S.forEach(h),V.forEach(h),H.forEach(h),U.forEach(h),q.forEach(h),this.h()},h(){m(n,"class","svelte-161oqli"),m(k,"class","svelte-161oqli"),m(w,"href","/"),m(w,"class","href svelte-161oqli"),m(c,"class","flex-row svelte-161oqli"),m(t,"class","modal-center svelte-161oqli"),m(e,"class","container svelte-161oqli")},m(_,q){O(_,e,q),i(e,t),i(t,l),i(l,o),i(t,d),i(t,a),i(a,r),i(t,u),i(t,c),i(c,n),i(n,f),i(c,E),i(c,w),i(w,k),i(k,D),T||(v=C(n,"click",s[24]),T=!0)},p:ae,d(_){_&&h(e),T=!1,v()}}}function $e(s){let e,t,l,o,d;return{c(){e=g("div"),t=B(),l=g("div"),this.h()},l(a){e=b(a,"DIV",{class:!0,id:!0}),I(e).forEach(h),t=y(a),l=b(a,"DIV",{class:!0,id:!0}),I(l).forEach(h),this.h()},h(){m(e,"class","icon-button finished-drawing-button svelte-161oqli"),m(e,"id","finish-button"),m(l,"class","icon-button pallette-button svelte-161oqli"),m(l,"id","p-button")},m(a,r){O(a,e,r),O(a,t,r),O(a,l,r),o||(d=[C(e,"click",s[32]),C(e,"touchstart",s[33],{passive:!0}),C(e,"mouseenter",s[19]),C(e,"mouseleave",s[20]),C(l,"click",s[23]),C(l,"touchstart",s[34],{passive:!0}),C(l,"mouseenter",s[19]),C(l,"mouseleave",s[20])],o=!0)},p:ae,d(a){a&&h(e),a&&h(t),a&&h(l),o=!1,be(d)}}}function kt(s){let e,t,l,o,d,a,r,u,c,n,f,E;t=new It({props:{sketch:s[14]}});let w=s[8]&&Ke(s),k=s[9]&&Qe(s),D=s[7]&&xe(s),T=!s[8]&&!s[9]&&$e(s);return{c(){e=g("div"),we(t.$$.fragment),l=B(),o=g("a"),d=g("div"),a=B(),w&&w.c(),r=B(),k&&k.c(),u=B(),D&&D.c(),c=B(),T&&T.c(),this.h()},l(v){e=b(v,"DIV",{id:!0});var _=I(e);Ie(t.$$.fragment,_),l=y(_),o=b(_,"A",{href:!0});var q=I(o);d=b(q,"DIV",{class:!0}),I(d).forEach(h),q.forEach(h),a=y(_),w&&w.l(_),r=y(_),k&&k.l(_),u=y(_),D&&D.l(_),c=y(_),T&&T.l(_),_.forEach(h),this.h()},h(){m(d,"class","icon-button repo-button svelte-161oqli"),m(o,"href","/"),m(e,"id","canvas-container")},m(v,_){O(v,e,_),ke(t,e,null),i(e,l),i(e,o),i(o,d),i(e,a),w&&w.m(e,null),i(e,r),k&&k.m(e,null),i(e,u),D&&D.m(e,null),i(e,c),T&&T.m(e,null),n=!0,f||(E=[C(d,"mouseenter",s[19]),C(d,"mouseleave",s[20]),C(d,"touchstart",s[21],{passive:!0})],f=!0)},p(v,_){v[8]?w?w.p(v,_):(w=Ke(v),w.c(),w.m(e,r)):w&&(w.d(1),w=null),v[9]?k?k.p(v,_):(k=Qe(v),k.c(),k.m(e,u)):k&&(k.d(1),k=null),v[7]?D?D.p(v,_):(D=xe(v),D.c(),D.m(e,c)):D&&(D.d(1),D=null),!v[8]&&!v[9]?T?T.p(v,_):(T=$e(v),T.c(),T.m(e,null)):T&&(T.d(1),T=null)},i(v){n||(A(t.$$.fragment,v),n=!0)},o(v){Z(t.$$.fragment,v),n=!1},d(v){v&&h(e),Ee(t),w&&w.d(),k&&k.d(),D&&D.d(),T&&T.d(),f=!1,be(E)}}}function Et(s,e,t){let{propValue:l}=e,{contributeModal:o}=e,d=l;console.log("contribute modal: ",o);let a=o.map(p=>p.includes("<span>")?p.split("<span>").pop().split("<")[0]:p.includes("<p>")?p.split("<p>").pop().split("<")[0]:p.split('">').pop().split("<")[0]);console.log("contributeText: ",a);let r=4,u=0,c=0,n=0,f;const E=p=>{let L;p.preload=()=>{console.log("preload"),L=p.loadImage(d)},p.setup=()=>{if(console.log("width: ",L.width),console.log("height: ",L.height),p.windowWidth>500)if(L.width<L.height){let W=L.height/(L.width/p.windowWidth);p.createCanvas(p.windowWidth,W)}else p.createCanvas(p.windowWidth,p.windowHeight);else p.windowWidth<500&&L.width<L.height?p.createCanvas(p.windowWidth,p.windowHeight):p.windowWidth<500&&p.createCanvas(L.width/2,p.windowHeight);p.background(L);let z=document.getElementById("canvas-container");z.addEventListener("touchstart",W=>{W.touches.length===2&&(f=!0)}),z.addEventListener("touchmove",W=>{W.touches.length===2&&(f=!0)}),z.addEventListener("touchend",W=>{f&&(f=!1)})};let te=0,X=0,ce=0,de=0,F=.3;p.mousePressed=()=>{if(!(S||f||V||Y))return te=p.mouseX,X=p.mouseY,ce=p.mouseX,de=p.mouseY,!1},p.touchMoved=()=>{if(S||f||V||Y)return;let z=p.mouseX,W=p.mouseY;return te+=(z-te)*F,X+=(W-X)*F,p.strokeWeight(r),p.stroke(u,c,n),p.line(te,X,ce,de),ce=te,de=X,!1},p.windowResized=()=>{p.resizeCanvas(p.windowWidth,p.windowHeight),p.background(L)}};let w=document.getElementsByClassName("stroke-button");const k=p=>{p.target.id==="small-stroke"?r=2:p.target.id==="medium-stroke"?r=4:p.target.id==="big-stroke"&&(r=6),w.forEach(L=>{L!==p.target?L.style.border="none":L.style.border="solid 4px #00D1FF"})};let D,T,v,_,q,U=JSON.parse(localStorage.getItem("cloudUploads"));const P=["none"];U||localStorage.setItem("cloudUploads",JSON.stringify(P));let N=!0;const H=()=>{if(D&&v&&N){U=JSON.parse(localStorage.getItem("cloudUploads")),console.log("uploads: ",U),U.push("upload"),localStorage.setItem("cloudUploads",JSON.stringify(U)),N=!1,t(6,q=!1);let p=new FormData;p.append("title",D),p.append("location",T),p.append("description",v),p.append("name",_),p.append("userUploads",U.length),document.getElementById("defaultCanvas0").toBlob(function(te){p.append("cloud",te),fetch("/addPostfromServer",{method:"POST",body:p}).then(X=>{console.log("result: ",X.status)})}),t(9,S=!1),t(7,M=!0)}else if(N)t(6,q=!0);else return};let M=!1,V=!1,S=!1;const x=()=>{let p=document.createElement("a");p.download="myCanvas.png",p.href=document.getElementById("defaultCanvas0").toDataURL(),p.click()},ue=p=>{t(0,u=p.srcElement.value),t(1,c=p.srcElement.value),t(2,n=p.srcElement.value)};let Y=!1;const le=()=>{Y=!0},Q=()=>{Y=!1},J=()=>{window.location.replace("/")},Te=()=>{V&&t(8,V=!1),S&&t(9,S=!1),Y=!1};let re,ne,$;const De=()=>{t(8,V=!V),r===2?(t(10,re="solid 4px #00D1FF"),t(11,ne="none"),t(12,$="none")):r===4?(t(10,re="none"),t(11,ne="solid 4px #00D1FF"),t(12,$="none")):(t(10,re="none"),t(11,ne="none"),t(12,$="solid 4px #00D1FF"))},fe=()=>{console.log("return to draw"),window.location.reload()},ee=()=>{t(9,S=!1),Y=!1};function Be(){u=ut(this.value),t(0,u)}function me(){D=this.value,t(3,D)}function oe(){T=this.value,t(4,T)}function ye(){_=this.value,t(5,_)}const he=()=>t(9,S=!S),se=()=>(t(9,S=!S),console.log("touch event on pallette")),Ve=()=>t(8,V=!V);return s.$$set=p=>{"propValue"in p&&t(26,l=p.propValue),"contributeModal"in p&&t(27,o=p.contributeModal)},[u,c,n,D,T,_,q,M,V,S,re,ne,$,a,E,k,H,x,ue,le,Q,J,Te,De,fe,ee,l,o,Be,me,oe,ye,he,se,Ve]}class Tt extends ve{constructor(e){super(),_e(this,e,Et,kt,ge,{propValue:26,contributeModal:27},null,[-1,-1])}}function Dt(s){let e,t,l,o,d,a,r;return{c(){e=g("div"),t=g("div"),l=g("div"),o=B(),d=g("button"),this.h()},l(u){e=b(u,"DIV",{class:!0});var c=I(e);t=b(c,"DIV",{class:!0});var n=I(t);l=b(n,"DIV",{id:!0}),I(l).forEach(h),o=y(n),d=b(n,"BUTTON",{id:!0}),I(d).forEach(h),n.forEach(h),c.forEach(h),this.h()},h(){m(l,"id","drawInstructions"),m(d,"id","begin-button"),m(t,"class","start-draw-center svelte-mdkjls"),m(e,"class","start-draw-container svelte-mdkjls")},m(u,c){O(u,e,c),i(e,t),i(t,l),i(t,o),i(t,d),a||(r=C(d,"click",s[0]),a=!0)},p:ae,i:ae,o:ae,d(u){u&&h(e),a=!1,r()}}}function Bt(s,e,t){const l=ze();let{drawInstructions:o}=e,d;Le(async()=>{d=document.getElementById("drawInstructions"),d.innerHTML=o[0];let r=document.getElementById("begin-button");r.innerHTML=o[1]});const a=()=>{l("closeInstructions")};return s.$$set=r=>{"drawInstructions"in r&&t(1,o=r.drawInstructions)},[a,o]}class yt extends ve{constructor(e){super(),_e(this,e,Bt,Dt,ge,{drawInstructions:1})}}function et(s){let e,t,l,o,d,a,r,u,c,n,f,E,w,k,D,T=s[5]&&tt(s);return{c(){e=g("div"),t=g("h2"),l=j(s[1]),o=B(),d=g("div"),a=B(),r=g("div"),u=g("button"),c=B(),n=g("button"),f=B(),E=g("button"),w=B(),T&&T.c(),this.h()},l(v){e=b(v,"DIV",{class:!0});var _=I(e);t=b(_,"H2",{class:!0});var q=I(t);l=R(q,s[1]),q.forEach(h),o=y(_),d=b(_,"DIV",{id:!0}),I(d).forEach(h),a=y(_),r=b(_,"DIV",{class:!0});var U=I(r);u=b(U,"BUTTON",{id:!0,class:!0}),I(u).forEach(h),c=y(U),n=b(U,"BUTTON",{id:!0,class:!0}),I(n).forEach(h),f=y(U),E=b(U,"BUTTON",{id:!0,class:!0}),I(E).forEach(h),U.forEach(h),w=y(_),T&&T.l(_),_.forEach(h),this.h()},h(){m(t,"class","svelte-15aiz3m"),m(d,"id","cloudstobe"),m(u,"id","draw-button"),m(u,"class","enter-button svelte-15aiz3m"),m(n,"id","remix-button"),m(n,"class","enter-button svelte-15aiz3m"),m(E,"id","upload-button"),m(E,"class","enter-button svelte-15aiz3m"),m(r,"class","button-section svelte-15aiz3m"),m(e,"class","start-draw-center svelte-15aiz3m")},m(v,_){O(v,e,_),i(e,t),i(t,l),i(e,o),i(e,d),i(e,a),i(e,r),i(r,u),i(r,c),i(r,n),i(r,f),i(r,E),i(e,w),T&&T.m(e,null),k||(D=[C(u,"click",s[10]),C(n,"click",s[12]),C(E,"click",s[7])],k=!0)},p(v,_){_&2&&ct(l,v[1]),v[5]?T?T.p(v,_):(T=tt(v),T.c(),T.m(e,null)):T&&(T.d(1),T=null)},d(v){v&&h(e),T&&T.d(),k=!1,be(D)}}}function tt(s){let e,t,l,o,d,a,r=!s[6]&&lt(s),u=s[6]&&st();return{c(){e=g("input"),t=B(),r&&r.c(),l=B(),u&&u.c(),o=Pe(),this.h()},l(c){e=b(c,"INPUT",{accept:!0,type:!0,id:!0,class:!0}),t=y(c),r&&r.l(c),l=y(c),u&&u.l(c),o=Pe(),this.h()},h(){m(e,"accept",".png, .jpg, .jpeg"),m(e,"type","file"),m(e,"id","upload"),m(e,"class","svelte-15aiz3m")},m(c,n){O(c,e,n),O(c,t,n),r&&r.m(c,n),O(c,l,n),u&&u.m(c,n),O(c,o,n),d||(a=C(e,"change",s[8]),d=!0)},p(c,n){c[6]?r&&(r.d(1),r=null):r?r.p(c,n):(r=lt(c),r.c(),r.m(l.parentNode,l)),c[6]?u||(u=st(),u.c(),u.m(o.parentNode,o)):u&&(u.d(1),u=null)},d(c){c&&h(e),c&&h(t),r&&r.d(c),c&&h(l),u&&u.d(c),c&&h(o),d=!1,a()}}}function lt(s){let e,t,l,o;return{c(){e=g("button"),t=j("Start")},l(d){e=b(d,"BUTTON",{});var a=I(e);t=R(a,"Start"),a.forEach(h)},m(d,a){O(d,e,a),i(e,t),l||(o=C(e,"click",s[9]),l=!0)},p:ae,d(d){d&&h(e),l=!1,o()}}}function st(s){let e,t;return{c(){e=g("p"),t=j("Please choose a smaller file")},l(l){e=b(l,"P",{});var o=I(e);t=R(o,"Please choose a smaller file"),o.forEach(h)},m(l,o){O(l,e,o),i(e,t)},d(l){l&&h(e)}}}function Vt(s){let e,t,l,o,d,a,r,u,c,n,f=s[3]&&!s[2]&&et(s);return{c(){e=g("div"),f&&f.c(),t=B(),l=g("div"),o=g("div"),d=B(),a=g("button"),this.h()},l(E){e=b(E,"DIV",{class:!0,style:!0});var w=I(e);f&&f.l(w),t=y(w),l=b(w,"DIV",{class:!0,style:!0});var k=I(l);o=b(k,"DIV",{id:!0}),I(o).forEach(h),d=y(k),a=b(k,"BUTTON",{id:!0}),I(a).forEach(h),k.forEach(h),w.forEach(h),this.h()},h(){m(o,"id","drawInstructions"),m(a,"id","begin-button"),m(l,"class","start-draw-center svelte-15aiz3m"),K(l,"visibility",s[4]),m(e,"class","start-draw-container svelte-15aiz3m"),K(e,"background-image","url("+s[0]+")"),K(e,"background-size","cover"),K(e,"background-position","center")},m(E,w){O(E,e,w),f&&f.m(e,null),i(e,t),i(e,l),i(l,o),i(l,d),i(l,a),u=!0,c||(n=C(a,"click",s[11]),c=!0)},p(E,[w]){E[3]&&!E[2]?f?f.p(E,w):(f=et(E),f.c(),f.m(e,t)):f&&(f.d(1),f=null),(!u||w&16)&&K(l,"visibility",E[4]),(!u||w&1)&&K(e,"background-image","url("+E[0]+")")},i(E){u||(dt(()=>{r||(r=Je(e,Xe,{},!0)),r.run(1)}),u=!0)},o(E){r||(r=Je(e,Xe,{},!1)),r.run(0),u=!1},d(E){E&&h(e),f&&f.d(),E&&r&&r.end(),c=!1,n()}}}function qt(s,e,t){const l=ze();let{propValue:o}=e,{cloudsToBe:d}=e,{drawInstructions:a}=e,{title:r}=e,{straightToInstructions:u}=e,c;Le(async()=>{let N=document.getElementById("cloudstobe");N.innerHTML=d[0];let H=document.getElementById("draw-button"),M=document.getElementById("remix-button"),V=document.getElementById("upload-button");H.innerHTML=d[1],M.innerHTML=d[2],V.innerHTML=d[3],c=document.getElementById("drawInstructions"),c.innerHTML=a[0];let S=document.getElementById("begin-button");S.innerHTML=a[1]});let n=!0,f="hidden",E=!1,w;const k=()=>{t(5,E=!0)};let D;const T=()=>{t(6,D=!1);const H=document.getElementById("upload").files[0];if(H.size>1e7){t(6,D=!0);return}console.log("Blob?: : ",H instanceof Blob),w=URL.createObjectURL(H)};let v;const _=()=>{console.log("chooseImage: ",w),t(3,n=!1),t(4,f="visible"),v="drawOnUploadImage"},q=()=>{t(3,n=!1),t(4,f="visible"),v="drawOnThisImage",console.log("instructionsText: ",c)},U=()=>{v==="drawOnThisImage"?l("startDrawing",!1):v==="drawOnUploadImage"&&l("startDrawing",w)},P=()=>{l("remixCanvas")};return s.$$set=N=>{"propValue"in N&&t(0,o=N.propValue),"cloudsToBe"in N&&t(13,d=N.cloudsToBe),"drawInstructions"in N&&t(14,a=N.drawInstructions),"title"in N&&t(1,r=N.title),"straightToInstructions"in N&&t(2,u=N.straightToInstructions)},[o,r,u,n,f,E,D,k,T,_,q,U,P,d,a]}class Ut extends ve{constructor(e){super(),_e(this,e,qt,Vt,ge,{propValue:0,cloudsToBe:13,drawInstructions:14,title:1,straightToInstructions:2})}}function ot(s){let e,t;return e=new Ut({props:{title:s[7],drawInstructions:s[8],cloudsToBe:s[6],propValue:s[2],straightToInstructions:Nt}}),e.$on("startDrawing",s[11]),e.$on("remixCanvas",s[12]),{c(){we(e.$$.fragment)},l(l){Ie(e.$$.fragment,l)},m(l,o){ke(e,l,o),t=!0},p(l,o){const d={};o&128&&(d.title=l[7]),o&256&&(d.drawInstructions=l[8]),o&64&&(d.cloudsToBe=l[6]),o&4&&(d.propValue=l[2]),e.$set(d)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){Ee(e,l)}}}function rt(s){let e,t;return e=new Tt({props:{propValue:s[3],drawInstructions:s[1],contributeModal:s[9]}}),{c(){we(e.$$.fragment)},l(l){Ie(e.$$.fragment,l)},m(l,o){ke(e,l,o),t=!0},p(l,o){const d={};o&8&&(d.propValue=l[3]),o&2&&(d.drawInstructions=l[1]),o&512&&(d.contributeModal=l[9]),e.$set(d)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){Ee(e,l)}}}function nt(s){let e,t;return e=new ft({props:{repoImages:s[10],remix:!0}}),e.$on("drawOnImage",s[11]),{c(){we(e.$$.fragment)},l(l){Ie(e.$$.fragment,l)},m(l,o){ke(e,l,o),t=!0},p(l,o){const d={};o&1024&&(d.repoImages=l[10]),e.$set(d)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){Ee(e,l)}}}function it(s){let e,t;return e=new yt({props:{drawInstructions:s[8]}}),e.$on("closeInstructions",s[13]),{c(){we(e.$$.fragment)},l(l){Ie(e.$$.fragment,l)},m(l,o){ke(e,l,o),t=!0},p(l,o){const d={};o&256&&(d.drawInstructions=l[8]),e.$set(d)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){Ee(e,l)}}}function Ct(s){let e,t,l,o,d,a=s[2]&&s[5]&&s[6].length>0&&ot(s),r=s[4]&&rt(s),u=s[0]&&nt(s),c=s[1]&&it(s);return{c(){a&&a.c(),e=B(),r&&r.c(),t=B(),u&&u.c(),l=B(),c&&c.c(),o=Pe()},l(n){a&&a.l(n),e=y(n),r&&r.l(n),t=y(n),u&&u.l(n),l=y(n),c&&c.l(n),o=Pe()},m(n,f){a&&a.m(n,f),O(n,e,f),r&&r.m(n,f),O(n,t,f),u&&u.m(n,f),O(n,l,f),c&&c.m(n,f),O(n,o,f),d=!0},p(n,[f]){n[2]&&n[5]&&n[6].length>0?a?(a.p(n,f),f&100&&A(a,1)):(a=ot(n),a.c(),A(a,1),a.m(e.parentNode,e)):a&&(Oe(),Z(a,1,1,()=>{a=null}),Se()),n[4]?r?(r.p(n,f),f&16&&A(r,1)):(r=rt(n),r.c(),A(r,1),r.m(t.parentNode,t)):r&&(Oe(),Z(r,1,1,()=>{r=null}),Se()),n[0]?u?(u.p(n,f),f&1&&A(u,1)):(u=nt(n),u.c(),A(u,1),u.m(l.parentNode,l)):u&&(Oe(),Z(u,1,1,()=>{u=null}),Se()),n[1]?c?(c.p(n,f),f&2&&A(c,1)):(c=it(n),c.c(),A(c,1),c.m(o.parentNode,o)):c&&(Oe(),Z(c,1,1,()=>{c=null}),Se())},i(n){d||(A(a),A(r),A(u),A(c),d=!0)},o(n){Z(a),Z(r),Z(u),Z(c),d=!1},d(n){a&&a.d(n),n&&h(e),r&&r.d(n),n&&h(t),u&&u.d(n),n&&h(l),c&&c.d(n),n&&h(o)}}}let Nt=!1;function Mt(s,e,t){let l,o,d,a,r;pe(s,mt,v=>t(6,l=v)),pe(s,ht,v=>t(7,o=v)),pe(s,pt,v=>t(8,d=v)),pe(s,vt,v=>t(9,a=v)),pe(s,_t,v=>t(10,r=v));let u=!1,c=!1,n;Le(async()=>{let _=await(await fetch("https://cloudcities.studiotomassaraceno.org/wp-json/wp/v2/media?categories=48&per_page=50")).json(),q=Math.floor(Math.random()*_.length);t(2,n=_[q].source_url)});let f,E=!1,w=!0;return[u,c,n,f,E,w,l,o,d,a,r,v=>{console.log("startDrawing: ",v.detail),v.detail?t(3,f=v.detail):(t(3,f=n),console.log("startDrawing BG: ",n)),u?(t(1,c=!0),t(0,u=!1),t(4,E=!0),t(3,f=v.detail.link)):(t(5,w=!1),t(4,E=!0))},()=>{console.log("choose canvas"),t(0,u=!0),t(5,w=!1)},()=>t(1,c=!1)]}class Lt extends ve{constructor(e){super(),_e(this,e,Mt,Ct,ge,{})}}export{Lt as default};
