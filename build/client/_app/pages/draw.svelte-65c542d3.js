import{S as He,i as Se,s as We,e as p,c as w,a as g,d as h,b as r,g as j,K as mt,E as be,L as Ke,v as Xe,t as z,k as V,h as A,m as C,J as i,M as D,N as _e,f as G,O as we,P as Qe,Q as Ze,w as Te,x as ye,y as De,q as J,o as $,B as Be,R as vt,j as pt,l as Ge,T as wt,U as xe,p as qe,V as Me,n as Je}from"../chunks/index-37d50d90.js";import{f as $e,O as bt,G as _t,c as gt,d as It,a as kt,b as Et,r as Tt}from"../chunks/wpTitles-3fdcc8f0.js";import"../chunks/index-d2201ef8.js";function yt(s){let e,t,l;return{c(){e=p("div"),this.h()},l(n){e=w(n,"DIV",{style:!0,class:!0}),g(e).forEach(h),this.h()},h(){r(e,"style",s[0]),r(e,"class","m-0")},m(n,o){j(n,e,o),t||(l=mt(s[1].call(null,e)),t=!0)},p(n,[o]){o&1&&r(e,"style",n[0])},i:be,o:be,d(n){n&&h(e),t=!1,l()}}}function Dt(s,e){return e.forEach(([t,l])=>s[t]=l),s}function Bt(s,e,t){let{target:l=void 0}=e,{sketch:n=void 0}=e,{parentDivStyle:o="display: block;"}=e,{debug:d=!1}=e,u;const c=Ke(),f={ref(){c("ref",l)},instance(){c("instance",u)}};function a(v){return t(2,l=v),{destroy(){t(2,l=void 0)}}}return Xe(async()=>{const v=await import("../chunks/p5.min-21ab2ccd.js").then(function(N){return N.p}),{default:I}=v,O=Object.entries(v).filter(([N,B])=>B instanceof Function&&N[0]!=="_"&&N!=="default");d&&console.log("available p5 native classes",O),u=new I(N=>(N=Dt(N,O),d&&console.log("p5 instance",N),window._p5Instance=N,n(N)),l),f.ref(),f.instance()}),s.$$set=v=>{"target"in v&&t(2,l=v.target),"sketch"in v&&t(3,n=v.sketch),"parentDivStyle"in v&&t(0,o=v.parentDivStyle),"debug"in v&&t(4,d=v.debug)},[o,a,l,n,d]}class Vt extends He{constructor(e){super(),Se(this,e,Bt,yt,We,{target:2,sketch:3,parentDivStyle:0,debug:4})}}function et(s){let e,t,l,n,o,d,u,c,f;return{c(){e=p("div"),t=p("div"),l=p("h2"),n=z(`For this image we encourge putting your phone in landscape mode. Please turn your phone
					90\xB0 and press continue.`),o=V(),d=p("button"),u=z("Continue"),this.h()},l(a){e=w(a,"DIV",{id:!0,class:!0});var v=g(e);t=w(v,"DIV",{id:!0,class:!0});var I=g(t);l=w(I,"H2",{});var U=g(l);n=A(U,`For this image we encourge putting your phone in landscape mode. Please turn your phone
					90\xB0 and press continue.`),U.forEach(h),o=C(I),d=w(I,"BUTTON",{class:!0});var O=g(d);u=A(O,"Continue"),O.forEach(h),I.forEach(h),v.forEach(h),this.h()},h(){r(d,"class","svelte-w50i1a"),r(t,"id","center"),r(t,"class","svelte-w50i1a"),r(e,"id","landscapemodal"),r(e,"class","svelte-w50i1a")},m(a,v){j(a,e,v),i(e,t),i(t,l),i(l,n),i(t,o),i(t,d),i(d,u),c||(f=[D(d,"click",s[38]),D(d,"touchstart",s[39],{passive:!0})],c=!0)},p:be,d(a){a&&h(e),c=!1,_e(f)}}}function tt(s){let e,t,l,n,o,d,u,c,f,a,v,I,U,O,N,B,P,b,M,k,_,y,T,E,H,Q,X,le;return{c(){e=p("div"),t=p("div"),l=p("div"),n=p("p"),o=z("size"),d=V(),u=p("div"),c=p("div"),f=V(),a=p("div"),v=V(),I=p("div"),U=V(),O=p("div"),N=V(),B=p("div"),P=p("p"),b=z("color"),M=V(),k=p("div"),_=p("input"),y=V(),T=p("button"),E=z("Done"),H=V(),Q=p("div"),this.h()},l(L){e=w(L,"DIV",{class:!0,id:!0});var S=g(e);t=w(S,"DIV",{class:!0,id:!0});var R=g(t);l=w(R,"DIV",{class:!0});var ie=g(l);n=w(ie,"P",{class:!0});var ee=g(n);o=A(ee,"size"),ee.forEach(h),d=C(ie),u=w(ie,"DIV",{class:!0});var F=g(u);c=w(F,"DIV",{class:!0,id:!0,style:!0}),g(c).forEach(h),f=C(F),a=w(F,"DIV",{class:!0,id:!0,style:!0}),g(a).forEach(h),v=C(F),I=w(F,"DIV",{class:!0,id:!0,style:!0}),g(I).forEach(h),U=C(F),O=w(F,"DIV",{class:!0,id:!0,style:!0}),g(O).forEach(h),F.forEach(h),ie.forEach(h),N=C(R),B=w(R,"DIV",{class:!0});var ae=g(B);P=w(ae,"P",{class:!0});var fe=g(P);b=A(fe,"color"),fe.forEach(h),M=C(ae),k=w(ae,"DIV",{class:!0});var he=g(k);_=w(he,"INPUT",{type:!0,min:!0,max:!0,id:!0,style:!0,class:!0}),he.forEach(h),ae.forEach(h),y=C(R),T=w(R,"BUTTON",{id:!0,class:!0});var Y=g(T);E=A(Y,"Done"),Y.forEach(h),R.forEach(h),H=C(S),Q=w(S,"DIV",{class:!0}),g(Q).forEach(h),S.forEach(h),this.h()},h(){r(n,"class","svelte-w50i1a"),r(c,"class","stroke-button svelte-w50i1a"),r(c,"id","tiny-stroke"),G(c,"border",s[13]),r(a,"class","stroke-button svelte-w50i1a"),r(a,"id","small-stroke"),G(a,"border",s[14]),r(I,"class","stroke-button svelte-w50i1a"),r(I,"id","medium-stroke"),G(I,"border",s[15]),r(O,"class","stroke-button svelte-w50i1a"),r(O,"id","big-stroke"),G(O,"border",s[16]),r(u,"class","stroke-width svelte-w50i1a"),r(l,"class","style-section svelte-w50i1a"),r(P,"class","svelte-w50i1a"),r(_,"type","range"),r(_,"min","0"),r(_,"max","255"),r(_,"id","color-slider"),G(_,"background-color","rgb("+s[0]+","+s[1]+","+s[2]),r(_,"class","svelte-w50i1a"),r(k,"class","stroke-color svelte-w50i1a"),r(B,"class","style-section svelte-w50i1a"),r(T,"id","pallette-done"),r(T,"class","svelte-w50i1a"),r(t,"class","modal-info draw-settings svelte-w50i1a"),r(t,"id","pallette"),r(Q,"class","icon-button exit-button svelte-w50i1a"),r(e,"class","container svelte-w50i1a"),r(e,"id","pallette-container")},m(L,S){j(L,e,S),i(e,t),i(t,l),i(l,n),i(n,o),i(l,d),i(l,u),i(u,c),i(u,f),i(u,a),i(u,v),i(u,I),i(u,U),i(u,O),i(t,N),i(t,B),i(B,P),i(P,b),i(B,M),i(B,k),i(k,_),we(_,s[0]),i(t,y),i(t,T),i(T,E),i(e,H),i(e,Q),X||(le=[D(c,"click",s[21]),D(a,"click",s[21]),D(I,"click",s[21]),D(O,"click",s[21]),D(_,"change",s[24]),D(_,"change",s[40]),D(_,"input",s[40]),D(T,"click",s[28]),D(T,"touchstart",s[28],{passive:!0}),D(T,"mouseenter",s[41]),D(T,"mouseleave",s[42]),D(t,"mouseenter",s[43]),D(t,"mouseleave",s[44]),D(Q,"click",s[28]),D(Q,"touchstart",s[28],{passive:!0}),D(e,"click",s[28])],X=!0)},p(L,S){S[0]&8192&&G(c,"border",L[13]),S[0]&16384&&G(a,"border",L[14]),S[0]&32768&&G(I,"border",L[15]),S[0]&65536&&G(O,"border",L[16]),S[0]&7&&G(_,"background-color","rgb("+L[0]+","+L[1]+","+L[2]),S[0]&1&&we(_,L[0])},d(L){L&&h(e),X=!1,_e(le)}}}function st(s){let e,t,l,n,o,d,u,c=s[17][0]+"",f,a,v,I,U,O,N=s[17][1]+"",B,P,b,M,k,_,y=s[17][2]+"",T,E,H,Q,X,le,L,S,R,ie,ee,F,ae=s[17][4]+"",fe,he,Y,Le,ue,Z,me=s[17][5]+"",ce,de,Fe,Ve,oe,je=s[17][6]+"",Ce,Ue,Ne,ze,K=s[8]&&lt();return{c(){e=p("div"),t=p("div"),l=p("h2"),n=z("Contribute to the Cloud Cities repository"),o=V(),d=p("div"),u=p("p"),f=z(c),a=V(),v=p("input"),I=V(),U=p("div"),O=p("p"),B=z(N),P=V(),b=p("input"),M=V(),k=p("div"),_=p("p"),T=z(y),E=V(),H=p("input"),Q=V(),X=p("p"),le=z(s[18]),L=p("span"),S=p("p"),R=z(s[19]),ie=V(),ee=p("div"),F=p("button"),fe=z(ae),he=V(),Y=p("img"),ue=V(),Z=p("button"),ce=z(me),de=p("img"),Ve=V(),oe=p("button"),Ce=z(je),Ue=V(),K&&K.c(),this.h()},l(x){e=w(x,"DIV",{class:!0});var ne=g(e);t=w(ne,"DIV",{class:!0});var q=g(t);l=w(q,"H2",{});var Ae=g(l);n=A(Ae,"Contribute to the Cloud Cities repository"),Ae.forEach(h),o=C(q),d=w(q,"DIV",{class:!0});var Ie=g(d);u=w(Ie,"P",{class:!0});var Re=g(u);f=A(Re,c),Re.forEach(h),a=C(Ie),v=w(Ie,"INPUT",{type:!0,id:!0,"data-lpignore":!0,maxlength:!0,class:!0}),Ie.forEach(h),I=C(q),U=w(q,"DIV",{class:!0});var ke=g(U);O=w(ke,"P",{class:!0});var Ye=g(O);B=A(Ye,N),Ye.forEach(h),P=C(ke),b=w(ke,"INPUT",{type:!0,id:!0,"data-lpignore":!0,maxlength:!0,class:!0}),ke.forEach(h),M=C(q),k=w(q,"DIV",{class:!0});var m=g(k);_=w(m,"P",{class:!0});var W=g(_);T=A(W,y),W.forEach(h),E=C(m),H=w(m,"INPUT",{type:!0,id:!0,"data-lpignore":!0,maxlength:!0,class:!0}),m.forEach(h),Q=C(q),X=w(q,"P",{class:!0});var te=g(X);le=A(te,s[18]),L=w(te,"SPAN",{style:!0});var se=g(L);S=w(se,"P",{});var ve=g(S);R=A(ve,s[19]),ve.forEach(h),se.forEach(h),te.forEach(h),ie=C(q),ee=w(q,"DIV",{class:!0});var re=g(ee);F=w(re,"BUTTON",{id:!0,class:!0});var pe=g(F);fe=A(pe,ae),he=C(pe),Y=w(pe,"IMG",{src:!0,alt:!0,class:!0}),pe.forEach(h),ue=C(re),Z=w(re,"BUTTON",{id:!0,class:!0});var ge=g(Z);ce=A(ge,me),de=w(ge,"IMG",{src:!0,alt:!0,class:!0}),ge.forEach(h),re.forEach(h),Ve=C(q),oe=w(q,"BUTTON",{id:!0,class:!0});var Oe=g(oe);Ce=A(Oe,je),Oe.forEach(h),Ue=C(q),K&&K.l(q),q.forEach(h),ne.forEach(h),this.h()},h(){r(u,"class","svelte-w50i1a"),r(v,"type","text"),r(v,"id","input-title"),r(v,"data-lpignore","true"),r(v,"maxlength","50"),r(v,"class","svelte-w50i1a"),r(d,"class","input-section svelte-w50i1a"),r(O,"class","svelte-w50i1a"),r(b,"type","text"),r(b,"id","input-location"),r(b,"data-lpignore","true"),r(b,"maxlength","30"),r(b,"class","svelte-w50i1a"),r(U,"class","input-section svelte-w50i1a"),r(_,"class","svelte-w50i1a"),r(H,"type","text"),r(H,"id","input-name"),r(H,"data-lpignore","true"),r(H,"maxlength","30"),r(H,"class","svelte-w50i1a"),r(k,"class","input-section svelte-w50i1a"),G(L,"text-decoration","underline"),G(L,"cursor","pointer"),r(X,"class","svelte-w50i1a"),Qe(Y.src,Le="./cloud_submit.svg")||r(Y,"src",Le),r(Y,"alt","submit"),r(Y,"class","svelte-w50i1a"),r(F,"id","submit-button"),r(F,"class","svelte-w50i1a"),Qe(de.src,Fe="./cloud_download.svg")||r(de,"src",Fe),r(de,"alt","download"),r(de,"class","svelte-w50i1a"),r(Z,"id","download-button"),r(Z,"class","svelte-w50i1a"),r(ee,"class","flex-row"),r(oe,"id","cancel-button"),r(oe,"class","svelte-w50i1a"),r(t,"class","modal-info submit-image svelte-w50i1a"),r(e,"class","container svelte-w50i1a")},m(x,ne){j(x,e,ne),i(e,t),i(t,l),i(l,n),i(t,o),i(t,d),i(d,u),i(u,f),i(d,a),i(d,v),we(v,s[7]),i(t,I),i(t,U),i(U,O),i(O,B),i(U,P),i(U,b),we(b,s[6]),i(t,M),i(t,k),i(k,_),i(_,T),i(k,E),i(k,H),we(H,s[5]),i(t,Q),i(t,X),i(X,le),i(X,L),i(L,S),i(S,R),i(t,ie),i(t,ee),i(ee,F),i(F,fe),i(F,he),i(F,Y),i(ee,ue),i(ee,Z),i(Z,ce),i(Z,de),i(t,Ve),i(t,oe),i(oe,Ce),i(t,Ue),K&&K.m(t,null),Ne||(ze=[D(v,"input",s[45]),D(b,"input",s[46]),D(H,"input",s[47]),D(L,"click",s[33]),D(F,"click",s[22]),D(Z,"click",s[23]),D(oe,"click",s[31])],Ne=!0)},p(x,ne){ne[0]&128&&v.value!==x[7]&&we(v,x[7]),ne[0]&64&&b.value!==x[6]&&we(b,x[6]),ne[0]&32&&H.value!==x[5]&&we(H,x[5]),x[8]?K||(K=lt(),K.c(),K.m(t,null)):K&&(K.d(1),K=null)},d(x){x&&h(e),K&&K.d(),Ne=!1,_e(ze)}}}function lt(s){let e,t;return{c(){e=p("p"),t=z(`We are missing information to complete your Cloud Cities submission. Please tell us more
						about your drawing! Please note: Location and Name are optional.`),this.h()},l(l){e=w(l,"P",{class:!0});var n=g(e);t=A(n,`We are missing information to complete your Cloud Cities submission. Please tell us more
						about your drawing! Please note: Location and Name are optional.`),n.forEach(h),this.h()},h(){r(e,"class","svelte-w50i1a")},m(l,n){j(l,e,n),i(e,t)},d(l){l&&h(e)}}}function it(s){let e,t,l,n,o,d,u,c,f,a,v,I,U,O,N,B;return{c(){e=p("div"),t=p("div"),l=p("h2"),n=z("Thank you! Submission complete"),o=V(),d=p("p"),u=z("Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),c=V(),f=p("div"),a=p("button"),v=z("Return to drawing"),I=V(),U=p("button"),O=z("Visit the repository"),this.h()},l(P){e=w(P,"DIV",{class:!0});var b=g(e);t=w(b,"DIV",{class:!0});var M=g(t);l=w(M,"H2",{});var k=g(l);n=A(k,"Thank you! Submission complete"),k.forEach(h),o=C(M),d=w(M,"P",{class:!0});var _=g(d);u=A(_,"Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),_.forEach(h),c=C(M),f=w(M,"DIV",{class:!0});var y=g(f);a=w(y,"BUTTON",{class:!0});var T=g(a);v=A(T,"Return to drawing"),T.forEach(h),I=C(y),U=w(y,"BUTTON",{class:!0});var E=g(U);O=A(E,"Visit the repository"),E.forEach(h),y.forEach(h),M.forEach(h),b.forEach(h),this.h()},h(){r(d,"class","svelte-w50i1a"),r(a,"class","svelte-w50i1a"),r(U,"class","svelte-w50i1a"),r(f,"class","flex-row"),r(t,"class","modal-info svelte-w50i1a"),r(e,"class","container svelte-w50i1a")},m(P,b){j(P,e,b),i(e,t),i(t,l),i(l,n),i(t,o),i(t,d),i(d,u),i(t,c),i(t,f),i(f,a),i(a,v),i(f,I),i(f,U),i(U,O),N||(B=[D(a,"click",s[30]),D(a,"touchstart",s[30],{passive:!0}),D(U,"click",s[27]),D(U,"touchstart",s[27],{passive:!0})],N=!0)},p:be,d(P){P&&h(e),N=!1,_e(B)}}}function ot(s){let e,t,l,n,o,d,u;return{c(){e=p("div"),t=V(),l=p("div"),n=V(),o=p("div"),this.h()},l(c){e=w(c,"DIV",{class:!0,id:!0}),g(e).forEach(h),t=C(c),l=w(c,"DIV",{class:!0,id:!0}),g(l).forEach(h),n=C(c),o=w(c,"DIV",{class:!0,id:!0}),g(o).forEach(h),this.h()},h(){r(e,"class","icon-button finished-drawing-button svelte-w50i1a"),r(e,"id","finish-button"),r(l,"class","icon-button pallette-button svelte-w50i1a"),r(l,"id","p-button"),r(o,"class","icon-button redo-button svelte-w50i1a"),r(o,"id","r-button")},m(c,f){j(c,e,f),j(c,t,f),j(c,l,f),j(c,n,f),j(c,o,f),d||(u=[D(e,"click",s[48]),D(e,"touchstart",s[49],{passive:!0}),D(e,"mouseenter",s[25]),D(e,"mouseleave",s[26]),D(l,"click",s[29]),D(l,"touchstart",s[50],{passive:!0}),D(l,"mouseenter",s[25]),D(l,"mouseleave",s[26]),D(o,"mouseenter",s[25]),D(o,"mouseleave",s[26]),D(o,"click",function(){Ze(s[3])&&s[3].apply(this,arguments)}),D(o,"touchstart",function(){Ze(s[3])&&s[3].apply(this,arguments)})],d=!0)},p(c,f){s=c},d(c){c&&h(e),c&&h(t),c&&h(l),c&&h(n),c&&h(o),d=!1,_e(u)}}}function Ct(s){let e,t,l,n,o,d,u,c,f,a,v,I,U,O,N,B,P,b=s[4]&&et(s);l=new Vt({props:{sketch:s[20]}});let M=s[10]&&tt(s),k=s[11]&&st(s),_=s[9]&&it(s),y=!s[10]&&!s[11]&&ot(s);return{c(){e=p("div"),b&&b.c(),t=V(),Te(l.$$.fragment),n=V(),o=p("h2"),d=z("Cloud Cities"),u=V(),c=p("div"),f=V(),a=p("div"),v=V(),M&&M.c(),I=V(),k&&k.c(),U=V(),_&&_.c(),O=V(),y&&y.c(),this.h()},l(T){e=w(T,"DIV",{id:!0,class:!0});var E=g(e);b&&b.l(E),t=C(E),ye(l.$$.fragment,E),n=C(E),o=w(E,"H2",{id:!0,class:!0});var H=g(o);d=A(H,"Cloud Cities"),H.forEach(h),u=C(E),c=w(E,"DIV",{class:!0}),g(c).forEach(h),f=C(E),a=w(E,"DIV",{class:!0}),g(a).forEach(h),v=C(E),M&&M.l(E),I=C(E),k&&k.l(E),U=C(E),_&&_.l(E),O=C(E),y&&y.l(E),E.forEach(h),this.h()},h(){r(o,"id","title"),r(o,"class","svelte-w50i1a"),r(c,"class","icon-button about-button svelte-w50i1a"),r(a,"class","icon-button repo-button svelte-w50i1a"),r(e,"id","canvas-container"),r(e,"class","svelte-w50i1a")},m(T,E){j(T,e,E),b&&b.m(e,null),i(e,t),De(l,e,null),i(e,n),i(e,o),i(o,d),i(e,u),i(e,c),i(e,f),i(e,a),i(e,v),M&&M.m(e,null),i(e,I),k&&k.m(e,null),i(e,U),_&&_.m(e,null),i(e,O),y&&y.m(e,null),N=!0,B||(P=[D(c,"click",s[32]),D(a,"mouseenter",s[25]),D(a,"mouseleave",s[26]),D(a,"touchstart",s[27],{passive:!0}),D(a,"click",s[27])],B=!0)},p(T,E){T[4]?b?b.p(T,E):(b=et(T),b.c(),b.m(e,t)):b&&(b.d(1),b=null),T[10]?M?M.p(T,E):(M=tt(T),M.c(),M.m(e,I)):M&&(M.d(1),M=null),T[11]?k?k.p(T,E):(k=st(T),k.c(),k.m(e,U)):k&&(k.d(1),k=null),T[9]?_?_.p(T,E):(_=it(T),_.c(),_.m(e,O)):_&&(_.d(1),_=null),!T[10]&&!T[11]?y?y.p(T,E):(y=ot(T),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},i(T){N||(J(l.$$.fragment,T),N=!0)},o(T){$(l.$$.fragment,T),N=!1},d(T){T&&h(e),b&&b.d(),Be(l),M&&M.d(),k&&k.d(),_&&_.d(),y&&y.d(),B=!1,_e(P)}}}function Ut(s,e,t){let{propValue:l}=e,{contributeModal:n}=e,{drawInstructions:o}=e,{mobile:d}=e,u=l,c=n.map(m=>m.includes("<span>")?m.split("<span>").pop().split("<")[0]:m.includes("<p>")?m.split("<p>").pop().split("<")[0]:m.split('">').pop().split("<")[0]);n[3].split('href="').pop().split('"')[0];let f=n[3].split("<span>").pop().split("<")[0],a=n[3].split('style="text-decoration: underline;">').pop().split("<")[0],v=10,I=0,U=0,O=0,N,B,P;const b=m=>{let W;m.preload=()=>{W=m.loadImage(u)};let te,se;m.setup=()=>{W.width>W.height&&d&&t(4,P=!0),se=W.height/(W.width/m.windowWidth),te=W.width/(W.height/m.windowHeight),m.windowWidth>500?se<m.windowHeight?m.createCanvas(te,m.windowHeight):m.createCanvas(m.windowWidth,se):m.windowWidth<500&&W.width<W.height?m.createCanvas(m.windowWidth,m.windowHeight):m.windowWidth<500&&m.createCanvas(te,m.windowHeight),m.background(W);let Pe=document.getElementById("canvas-container");Pe.addEventListener("touchstart",Ee=>{Ee.touches.length===2&&(N=!0)}),Pe.addEventListener("touchmove",Ee=>{Ee.touches.length===2&&(N=!0)}),Pe.addEventListener("touchend",Ee=>{N&&(N=!1)}),t(3,B=()=>{m.clear(),m.background(W)})};let ve=0,re=0,pe=0,ge=0,Oe=.3;m.mousePressed=()=>{if(!(R||N||S||F||o))return ve=m.mouseX,re=m.mouseY,pe=m.mouseX,ge=m.mouseY,!1},m.touchMoved=()=>{if(R||N||S||F||o)return;let Pe=m.mouseX,Ee=m.mouseY;return ve+=(Pe-ve)*Oe,re+=(Ee-re)*Oe,m.strokeWeight(v),m.stroke(I,U,O),m.line(ve,re,pe,ge),pe=ve,ge=re,!1},m.windowResized=()=>{m.windowWidth>=500&&m.windowHeight>500?(se=W.height/(W.width/m.windowWidth),te=W.width/(W.height/m.windowHeight),m.height<=m.windowHeight&&m.windowWidth<m.width?m.resizeCanvas(te,m.windowHeight):m.resizeCanvas(m.windowWidth,se)):m.windowHeight<500?se<m.windowHeight?m.createCanvas(te,m.windowHeight):m.createCanvas(m.windowWidth,se):m.windowWidth<500&&m.resizeCanvas(te,m.windowHeight),m.background(W)}};let M=document.getElementsByClassName("stroke-button");const k=m=>{m.target.id==="tiny-stroke"?v=5:m.target.id==="small-stroke"?v=10:m.target.id==="medium-stroke"?v=20:m.target.id==="big-stroke"&&(v=30),M.forEach(W=>{W!==m.target?W.style.border="none":W.style.border="solid 4px #00D1FF"})};let _,y,T,E,H=JSON.parse(localStorage.getItem("cloudUploads"));const Q=["none"];localStorage.setItem("cloudUploads",JSON.stringify(Q));let X=!0;const le=()=>{if(!(_&&_.length>50||y&&y.length>30||T&&T.length>30))if(_&&X){H=JSON.parse(localStorage.getItem("cloudUploads")),H.push("upload"),localStorage.setItem("cloudUploads",JSON.stringify(H)),X=!1,t(8,E=!1);let m=new FormData;m.append("title",_),m.append("location",y),m.append("name",T),m.append("userUploads",H.length),document.getElementById("defaultCanvas0").toBlob(function(te){m.append("cloud",te),fetch("/addPostfromServer",{method:"POST",body:m}).then(se=>{console.log("result: ",se.status)})}),t(11,R=!1),N=!0,t(9,L=!0)}else if(X)t(8,E=!0);else return};let L=!1,S=!1,R=!1;const ie=()=>{let m=document.createElement("a"),W;_?W=_.split(" ").join("-"):W="myCloudCity",m.download=`${W}.png`,m.href=document.getElementById("defaultCanvas0").toDataURL(),m.click()},ee=m=>{t(0,I=m.srcElement.value),t(1,U=m.srcElement.value),t(2,O=m.srcElement.value)};let F=!1;const ae=()=>{F=!0},fe=()=>{F=!1},he=()=>{window.location.replace("/")};let Y=!1;const Le=()=>{Y||(S&&t(10,S=!1),R&&t(11,R=!1),F=!1)};let ue,Z,me,ce;const de=()=>{t(10,S=!S),v===5?(t(13,ue="solid 4px #00D1FF"),t(14,Z="none"),t(15,me="none"),t(16,ce="none")):v===10?(t(14,Z="solid 4px #00D1FF"),t(15,me="none"),t(16,ce="none"),t(13,ue="none")):v===20?(t(14,Z="none"),t(15,me="solid 4px #00D1FF"),t(16,ce="none"),t(13,ue="none")):(t(14,Z="none"),t(15,me="none"),t(13,ue="none"),t(16,ce="solid 4px #00D1FF"))},Fe=()=>{N=!1,window.location.reload()},Ve=()=>{t(11,R=!1),F=!1},oe=()=>{window.open("https://cloudcities.studiotomassaraceno.org","_self")},je=()=>{window.open("https://cloudcities.studiotomassaraceno.org/terms/","_blank").focus()},Ce=()=>t(4,P=!1),Ue=()=>t(4,P=!1);function Ne(){I=vt(this.value),t(0,I)}const ze=()=>t(12,Y=!Y),K=()=>t(12,Y=!Y),x=()=>t(12,Y=!Y),ne=()=>t(12,Y=!Y);function q(){T=this.value,t(7,T)}function Ae(){y=this.value,t(6,y)}function Ie(){_=this.value,t(5,_)}const Re=()=>t(11,R=!R),ke=()=>t(11,R=!R),Ye=()=>t(10,S=!S);return s.$$set=m=>{"propValue"in m&&t(34,l=m.propValue),"contributeModal"in m&&t(35,n=m.contributeModal),"drawInstructions"in m&&t(36,o=m.drawInstructions),"mobile"in m&&t(37,d=m.mobile)},[I,U,O,B,P,_,y,T,E,L,S,R,Y,ue,Z,me,ce,c,f,a,b,k,le,ie,ee,ae,fe,he,Le,de,Fe,Ve,oe,je,l,n,o,d,Ce,Ue,Ne,ze,K,x,ne,q,Ae,Ie,Re,ke,Ye]}class Nt extends He{constructor(e){super(),Se(this,e,Ut,Ct,We,{propValue:34,contributeModal:35,drawInstructions:36,mobile:37},null,[-1,-1])}}function Ot(s){let e,t,l,n,o,d,u,c,f;return{c(){e=p("div"),t=p("div"),l=V(),n=p("div"),o=p("div"),d=V(),u=p("button"),this.h()},l(a){e=w(a,"DIV",{class:!0});var v=g(e);t=w(v,"DIV",{class:!0}),g(t).forEach(h),l=C(v),n=w(v,"DIV",{class:!0});var I=g(n);o=w(I,"DIV",{id:!0}),g(o).forEach(h),d=C(I),u=w(I,"BUTTON",{id:!0}),g(u).forEach(h),I.forEach(h),v.forEach(h),this.h()},h(){r(t,"class","modal-container"),r(o,"id","drawInstructions"),r(u,"id","begin-button"),r(n,"class","start-draw-center svelte-37vuvu"),r(e,"class","start-draw-container svelte-37vuvu")},m(a,v){j(a,e,v),i(e,t),i(e,l),i(e,n),i(n,o),i(n,d),i(n,u),c||(f=D(u,"click",s[0]),c=!0)},p:be,i:be,o:be,d(a){a&&h(e),c=!1,f()}}}function Pt(s,e,t){const l=Ke();let{drawInstructions:n}=e,o;Xe(async()=>{o=document.getElementById("drawInstructions"),o.innerHTML=n[0];let u=document.getElementById("begin-button");u.innerHTML=n[1]});const d=()=>{l("closeInstructions")};return s.$$set=u=>{"drawInstructions"in u&&t(1,n=u.drawInstructions)},[d,n]}class Mt extends He{constructor(e){super(),Se(this,e,Pt,Ot,We,{drawInstructions:1})}}function nt(s){let e,t,l,n,o,d,u,c,f,a,v,I,U,O,N,B=s[5]&&rt(s);return{c(){e=p("div"),t=p("h2"),l=z(s[1]),n=V(),o=p("div"),d=V(),u=p("div"),c=p("button"),f=V(),a=p("button"),v=V(),I=p("button"),U=V(),B&&B.c(),this.h()},l(P){e=w(P,"DIV",{class:!0});var b=g(e);t=w(b,"H2",{class:!0});var M=g(t);l=A(M,s[1]),M.forEach(h),n=C(b),o=w(b,"DIV",{id:!0,class:!0}),g(o).forEach(h),d=C(b),u=w(b,"DIV",{class:!0});var k=g(u);c=w(k,"BUTTON",{id:!0,class:!0}),g(c).forEach(h),f=C(k),a=w(k,"BUTTON",{id:!0,class:!0}),g(a).forEach(h),v=C(k),I=w(k,"BUTTON",{id:!0,class:!0}),g(I).forEach(h),k.forEach(h),U=C(b),B&&B.l(b),b.forEach(h),this.h()},h(){r(t,"class","svelte-ilts8r"),r(o,"id","cloudstobe"),r(o,"class","svelte-ilts8r"),r(c,"id","draw-button"),r(c,"class","enter-button svelte-ilts8r"),r(a,"id","remix-button"),r(a,"class","enter-button svelte-ilts8r"),r(I,"id","upload-button"),r(I,"class","enter-button svelte-ilts8r"),r(u,"class","button-section svelte-ilts8r"),r(e,"class","modal-info svelte-ilts8r")},m(P,b){j(P,e,b),i(e,t),i(t,l),i(e,n),i(e,o),i(e,d),i(e,u),i(u,c),i(u,f),i(u,a),i(u,v),i(u,I),i(e,U),B&&B.m(e,null),O||(N=[D(c,"click",s[10]),D(a,"click",s[12]),D(I,"click",s[7])],O=!0)},p(P,b){b&2&&pt(l,P[1]),P[5]?B?B.p(P,b):(B=rt(P),B.c(),B.m(e,null)):B&&(B.d(1),B=null)},d(P){P&&h(e),B&&B.d(),O=!1,_e(N)}}}function rt(s){let e,t,l,n,o,d,u=!s[6]&&at(s),c=s[6]&&ut();return{c(){e=p("input"),t=V(),u&&u.c(),l=V(),c&&c.c(),n=Ge(),this.h()},l(f){e=w(f,"INPUT",{accept:!0,type:!0,id:!0,class:!0}),t=C(f),u&&u.l(f),l=C(f),c&&c.l(f),n=Ge(),this.h()},h(){r(e,"accept",".png, .jpg, .jpeg"),r(e,"type","file"),r(e,"id","upload"),r(e,"class","svelte-ilts8r")},m(f,a){j(f,e,a),j(f,t,a),u&&u.m(f,a),j(f,l,a),c&&c.m(f,a),j(f,n,a),o||(d=D(e,"change",s[8]),o=!0)},p(f,a){f[6]?u&&(u.d(1),u=null):u?u.p(f,a):(u=at(f),u.c(),u.m(l.parentNode,l)),f[6]?c||(c=ut(),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null)},d(f){f&&h(e),f&&h(t),u&&u.d(f),f&&h(l),c&&c.d(f),f&&h(n),o=!1,d()}}}function at(s){let e,t,l,n;return{c(){e=p("button"),t=z("Upload"),this.h()},l(o){e=w(o,"BUTTON",{id:!0,class:!0});var d=g(e);t=A(d,"Upload"),d.forEach(h),this.h()},h(){r(e,"id","drawOnUpload-button"),r(e,"class","svelte-ilts8r")},m(o,d){j(o,e,d),i(e,t),l||(n=D(e,"click",s[9]),l=!0)},p:be,d(o){o&&h(e),l=!1,n()}}}function ut(s){let e,t;return{c(){e=p("p"),t=z("Please choose a smaller file"),this.h()},l(l){e=w(l,"P",{class:!0});var n=g(e);t=A(n,"Please choose a smaller file"),n.forEach(h),this.h()},h(){r(e,"class","svelte-ilts8r")},m(l,n){j(l,e,n),i(e,t)},d(l){l&&h(e)}}}function Ht(s){let e,t,l,n,o,d,u,c,f,a,v,I,U,O,N,B,P,b,M,k=s[3]&&!s[2]&&nt(s);return{c(){e=p("div"),t=p("div"),l=V(),n=p("div"),o=V(),d=p("h2"),u=z("Cloud Cities"),c=V(),f=p("div"),a=V(),k&&k.c(),v=V(),I=p("div"),U=p("div"),O=V(),N=p("button"),this.h()},l(_){e=w(_,"DIV",{class:!0,style:!0});var y=g(e);t=w(y,"DIV",{class:!0}),g(t).forEach(h),l=C(y),n=w(y,"DIV",{class:!0}),g(n).forEach(h),o=C(y),d=w(y,"H2",{id:!0,class:!0});var T=g(d);u=A(T,"Cloud Cities"),T.forEach(h),c=C(y),f=w(y,"DIV",{class:!0}),g(f).forEach(h),a=C(y),k&&k.l(y),v=C(y),I=w(y,"DIV",{class:!0,style:!0});var E=g(I);U=w(E,"DIV",{id:!0}),g(U).forEach(h),O=C(E),N=w(E,"BUTTON",{id:!0,class:!0}),g(N).forEach(h),E.forEach(h),y.forEach(h),this.h()},h(){r(t,"class","icon-button repo-button svelte-ilts8r"),r(n,"class","modal-container"),r(d,"id","title"),r(d,"class","svelte-ilts8r"),r(f,"class","icon-button about-button"),r(U,"id","drawInstructions"),r(N,"id","begin-button"),r(N,"class","svelte-ilts8r"),r(I,"class","modal-info svelte-ilts8r"),G(I,"visibility",s[4]),r(e,"class","modal-container"),G(e,"background-image","url("+s[0]+")"),G(e,"background-size","cover"),G(e,"background-position","center")},m(_,y){j(_,e,y),i(e,t),i(e,l),i(e,n),i(e,o),i(e,d),i(d,u),i(e,c),i(e,f),i(e,a),k&&k.m(e,null),i(e,v),i(e,I),i(I,U),i(I,O),i(I,N),P=!0,b||(M=[D(t,"touchstart",s[13],{passive:!0}),D(t,"click",s[13]),D(f,"click",s[14]),D(N,"click",s[11])],b=!0)},p(_,[y]){_[3]&&!_[2]?k?k.p(_,y):(k=nt(_),k.c(),k.m(e,v)):k&&(k.d(1),k=null),(!P||y&16)&&G(I,"visibility",_[4]),(!P||y&1)&&G(e,"background-image","url("+_[0]+")")},i(_){P||(wt(()=>{B||(B=xe(e,$e,{},!0)),B.run(1)}),P=!0)},o(_){B||(B=xe(e,$e,{},!1)),B.run(0),P=!1},d(_){_&&h(e),k&&k.d(),_&&B&&B.end(),b=!1,_e(M)}}}function St(s,e,t){const l=Ke();let{propValue:n}=e,{cloudsToBe:o}=e,{drawInstructions:d}=e,{title:u}=e,{straightToInstructions:c}=e,f;Xe(async()=>{let E=document.getElementById("cloudstobe");E.innerHTML=o[0];let H=document.getElementById("draw-button"),Q=document.getElementById("remix-button"),X=document.getElementById("upload-button");H.innerHTML=o[1],Q.innerHTML=o[2],X.innerHTML=o[3],f=document.getElementById("drawInstructions"),f.innerHTML=d[0];let le=document.getElementById("begin-button");le.innerHTML=d[1]});let a=!0,v="hidden",I=!1,U;const O=()=>{t(5,I=!0)};let N;const B=()=>{t(6,N=!1);const H=document.getElementById("upload").files[0];if(H.size>1e7){t(6,N=!0);return}U=URL.createObjectURL(H)};let P;const b=()=>{t(3,a=!1),t(4,v="visible"),P="drawOnUploadImage"},M=()=>{t(3,a=!1),t(4,v="visible"),P="drawOnThisImage"},k=()=>{P==="drawOnThisImage"?l("startDrawing",!1):P==="drawOnUploadImage"&&l("startDrawing",U)},_=()=>{l("remixCanvas")},y=()=>{window.location.replace("/")},T=()=>{window.open("https://cloudcities.studiotomassaraceno.org","_self")};return s.$$set=E=>{"propValue"in E&&t(0,n=E.propValue),"cloudsToBe"in E&&t(15,o=E.cloudsToBe),"drawInstructions"in E&&t(16,d=E.drawInstructions),"title"in E&&t(1,u=E.title),"straightToInstructions"in E&&t(2,c=E.straightToInstructions)},[n,u,c,a,v,I,N,O,B,b,M,k,_,y,T,o,d]}class Wt extends He{constructor(e){super(),Se(this,e,St,Ht,We,{propValue:0,cloudsToBe:15,drawInstructions:16,title:1,straightToInstructions:2})}}function ct(s){let e,t;return e=new Wt({props:{title:s[8],drawInstructions:s[9],cloudsToBe:s[7],propValue:s[2],background:s[4],straightToInstructions:Ft}}),e.$on("startDrawing",s[12]),e.$on("remixCanvas",s[13]),{c(){Te(e.$$.fragment)},l(l){ye(e.$$.fragment,l)},m(l,n){De(e,l,n),t=!0},p(l,n){const o={};n&256&&(o.title=l[8]),n&512&&(o.drawInstructions=l[9]),n&128&&(o.cloudsToBe=l[7]),n&4&&(o.propValue=l[2]),n&16&&(o.background=l[4]),e.$set(o)},i(l){t||(J(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){Be(e,l)}}}function dt(s){let e,t;return e=new Nt({props:{propValue:s[4],drawInstructions:s[1],contributeModal:s[10],mobile:s[3]}}),{c(){Te(e.$$.fragment)},l(l){ye(e.$$.fragment,l)},m(l,n){De(e,l,n),t=!0},p(l,n){const o={};n&16&&(o.propValue=l[4]),n&2&&(o.drawInstructions=l[1]),n&1024&&(o.contributeModal=l[10]),n&8&&(o.mobile=l[3]),e.$set(o)},i(l){t||(J(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){Be(e,l)}}}function ft(s){let e,t,l,n;return e=new bt({props:{openComponent:"remix",image:!1}}),l=new _t({props:{repoImages:s[11],remix:!0}}),l.$on("drawOnImage",s[12]),{c(){Te(e.$$.fragment),t=V(),Te(l.$$.fragment)},l(o){ye(e.$$.fragment,o),t=C(o),ye(l.$$.fragment,o)},m(o,d){De(e,o,d),j(o,t,d),De(l,o,d),n=!0},p(o,d){const u={};d&2048&&(u.repoImages=o[11]),l.$set(u)},i(o){n||(J(e.$$.fragment,o),J(l.$$.fragment,o),n=!0)},o(o){$(e.$$.fragment,o),$(l.$$.fragment,o),n=!1},d(o){Be(e,o),o&&h(t),Be(l,o)}}}function ht(s){let e,t;return e=new Mt({props:{drawInstructions:s[9]}}),e.$on("closeInstructions",s[14]),{c(){Te(e.$$.fragment)},l(l){ye(e.$$.fragment,l)},m(l,n){De(e,l,n),t=!0},p(l,n){const o={};n&512&&(o.drawInstructions=l[9]),e.$set(o)},i(l){t||(J(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){Be(e,l)}}}function Lt(s){let e,t,l,n,o,d=s[2]&&s[6]&&s[7].length>0&&ct(s),u=s[5]&&dt(s),c=s[0]&&ft(s),f=s[1]&&ht(s);return{c(){d&&d.c(),e=V(),u&&u.c(),t=V(),c&&c.c(),l=V(),f&&f.c(),n=Ge()},l(a){d&&d.l(a),e=C(a),u&&u.l(a),t=C(a),c&&c.l(a),l=C(a),f&&f.l(a),n=Ge()},m(a,v){d&&d.m(a,v),j(a,e,v),u&&u.m(a,v),j(a,t,v),c&&c.m(a,v),j(a,l,v),f&&f.m(a,v),j(a,n,v),o=!0},p(a,[v]){a[2]&&a[6]&&a[7].length>0?d?(d.p(a,v),v&196&&J(d,1)):(d=ct(a),d.c(),J(d,1),d.m(e.parentNode,e)):d&&(Je(),$(d,1,1,()=>{d=null}),qe()),a[5]?u?(u.p(a,v),v&32&&J(u,1)):(u=dt(a),u.c(),J(u,1),u.m(t.parentNode,t)):u&&(Je(),$(u,1,1,()=>{u=null}),qe()),a[0]?c?(c.p(a,v),v&1&&J(c,1)):(c=ft(a),c.c(),J(c,1),c.m(l.parentNode,l)):c&&(Je(),$(c,1,1,()=>{c=null}),qe()),a[1]?f?(f.p(a,v),v&2&&J(f,1)):(f=ht(a),f.c(),J(f,1),f.m(n.parentNode,n)):f&&(Je(),$(f,1,1,()=>{f=null}),qe())},i(a){o||(J(d),J(u),J(c),J(f),o=!0)},o(a){$(d),$(u),$(c),$(f),o=!1},d(a){d&&d.d(a),a&&h(e),u&&u.d(a),a&&h(t),c&&c.d(a),a&&h(l),f&&f.d(a),a&&h(n)}}}let Ft=!1;function jt(s,e,t){let l,n,o,d,u;Me(s,gt,b=>t(7,l=b)),Me(s,It,b=>t(8,n=b)),Me(s,kt,b=>t(9,o=b)),Me(s,Et,b=>t(10,d=b)),Me(s,Tt,b=>t(11,u=b));let c=!1,f=!1,a,v;Xe(async()=>{let b=window.screen.width<window.outerWidth?window.screen.width:window.outerWidth;t(3,v=b<500);let k=await(await fetch("https://cloudcities.studiotomassaraceno.org/wp-json/wp/v2/media?categories=48&per_page=50")).json(),_=Math.floor(Math.random()*k.length);t(2,a=k[_].source_url)});let I,U=!1,O=!0;return[c,f,a,v,I,U,O,l,n,o,d,u,b=>{b.detail?t(4,I=b.detail):t(4,I=a),c?(t(1,f=!0),t(0,c=!1),t(5,U=!0),t(4,I=b.detail.link)):(t(6,O=!1),t(5,U=!0))},()=>{t(0,c=!0),t(6,O=!1)},()=>t(1,f=!1)]}class Yt extends He{constructor(e){super(),Se(this,e,jt,Lt,We,{})}}export{Yt as default};
