import{S as be,i as ge,s as _e,e as g,c as _,a as k,d as h,b as d,g as M,K as at,E as ce,L as We,v as Le,t as Y,k as y,h as q,m as B,f as x,J as i,M as ue,N as z,O as we,P as Ge,w as Ie,x as ke,y as Ee,q as X,o as ee,B as Te,Q as ut,j as ct,l as Se,R as dt,T as Je,p as Oe,U as pe,n as Pe}from"../chunks/index-b4ba22ca.js";import{f as Xe,G as ft,c as mt,d as ht,a as vt,b as pt,r as bt}from"../chunks/wpTitles-5bf1f57d.js";import"../chunks/index-e1a0e36b.js";function gt(l){let e,t,s;return{c(){e=g("div"),this.h()},l(o){e=_(o,"DIV",{style:!0,class:!0}),k(e).forEach(h),this.h()},h(){d(e,"style",l[0]),d(e,"class","m-0")},m(o,u){M(o,e,u),t||(s=at(l[1].call(null,e)),t=!0)},p(o,[u]){u&1&&d(e,"style",o[0])},i:ce,o:ce,d(o){o&&h(e),t=!1,s()}}}function _t(l,e){return e.forEach(([t,s])=>l[t]=s),l}function wt(l,e,t){let{target:s=void 0}=e,{sketch:o=void 0}=e,{parentDivStyle:u="display: block;"}=e,{debug:m=!1}=e,a;const r=We(),c={ref(){r("ref",s)},instance(){r("instance",a)}};function n(f){return t(2,s=f),{destroy(){t(2,s=void 0)}}}return Le(async()=>{const f=await import("../chunks/p5.min-21ab2ccd.js").then(function(D){return D.p}),{default:w}=f,E=Object.entries(f).filter(([D,T])=>T instanceof Function&&D[0]!=="_"&&D!=="default");m&&console.log("available p5 native classes",E),a=new w(D=>(D=_t(D,E),m&&console.log("p5 instance",D),window._p5Instance=D,o(D)),s),c.ref(),c.instance()}),l.$$set=f=>{"target"in f&&t(2,s=f.target),"sketch"in f&&t(3,o=f.sketch),"parentDivStyle"in f&&t(0,u=f.parentDivStyle),"debug"in f&&t(4,m=f.debug)},[u,n,s,o,m]}class It extends be{constructor(e){super(),ge(this,e,wt,gt,_e,{target:2,sketch:3,parentDivStyle:0,debug:4})}}function Ke(l){let e,t,s,o,u,m,a,r,c,n,f,w,I,E,D,T,p,b,V,U,O,N,W,F,C,P;return{c(){e=g("div"),t=g("div"),s=g("div"),o=g("p"),u=Y("width"),m=y(),a=g("div"),r=g("div"),c=y(),n=g("div"),f=y(),w=g("div"),I=y(),E=g("div"),D=g("p"),T=Y("color"),p=y(),b=g("div"),V=g("input"),U=y(),O=g("button"),N=Y("Done"),W=y(),F=g("div"),this.h()},l(H){e=_(H,"DIV",{class:!0});var G=k(e);t=_(G,"DIV",{class:!0});var J=k(t);s=_(J,"DIV",{class:!0});var re=k(s);o=_(re,"P",{});var $=k(o);u=q($,"width"),$.forEach(h),m=B(re),a=_(re,"DIV",{class:!0});var j=k(a);r=_(j,"DIV",{class:!0,id:!0,style:!0}),k(r).forEach(h),c=B(j),n=_(j,"DIV",{class:!0,id:!0,style:!0}),k(n).forEach(h),f=B(j),w=_(j,"DIV",{class:!0,id:!0,style:!0}),k(w).forEach(h),j.forEach(h),re.forEach(h),I=B(J),E=_(J,"DIV",{class:!0});var ie=k(E);D=_(ie,"P",{});var te=k(D);T=q(te,"color"),te.forEach(h),p=B(ie),b=_(ie,"DIV",{class:!0});var se=k(b);V=_(se,"INPUT",{type:!0,min:!0,max:!0,id:!0,style:!0,class:!0}),se.forEach(h),ie.forEach(h),U=B(J),O=_(J,"BUTTON",{id:!0,class:!0});var K=k(O);N=q(K,"Done"),K.forEach(h),J.forEach(h),W=B(G),F=_(G,"DIV",{class:!0}),k(F).forEach(h),G.forEach(h),this.h()},h(){d(r,"class","stroke-button svelte-zisa4o"),d(r,"id","small-stroke"),x(r,"border",l[10]),d(n,"class","stroke-button svelte-zisa4o"),d(n,"id","medium-stroke"),x(n,"border",l[11]),d(w,"class","stroke-button svelte-zisa4o"),d(w,"id","big-stroke"),x(w,"border",l[12]),d(a,"class","stroke-width svelte-zisa4o"),d(s,"class","style-section svelte-zisa4o"),d(V,"type","range"),d(V,"min","0"),d(V,"max","255"),d(V,"id","color-slider"),x(V,"background-color","rgb("+l[0]+","+l[1]+","+l[2]),d(V,"class","svelte-zisa4o"),d(b,"class","stroke-color svelte-zisa4o"),d(E,"class","style-section svelte-zisa4o"),d(O,"id","pallette-done"),d(O,"class","svelte-zisa4o"),d(t,"class","modal-center draw-settings svelte-zisa4o"),d(F,"class","icon-button exit-button svelte-zisa4o"),d(e,"class","container svelte-zisa4o")},m(H,G){M(H,e,G),i(e,t),i(t,s),i(s,o),i(o,u),i(s,m),i(s,a),i(a,r),i(a,c),i(a,n),i(a,f),i(a,w),i(t,I),i(t,E),i(E,D),i(D,T),i(E,p),i(E,b),i(b,V),ue(V,l[0]),i(t,U),i(t,O),i(O,N),i(e,W),i(e,F),C||(P=[z(r,"click",l[15]),z(n,"click",l[15]),z(w,"click",l[15]),z(V,"change",l[18]),z(V,"change",l[29]),z(V,"input",l[29]),z(O,"click",l[22]),z(O,"touchstart",l[22],{passive:!0}),z(F,"click",l[22]),z(F,"touchstart",l[22],{passive:!0})],C=!0)},p(H,G){G[0]&1024&&x(r,"border",H[10]),G[0]&2048&&x(n,"border",H[11]),G[0]&4096&&x(w,"border",H[12]),G[0]&7&&x(V,"background-color","rgb("+H[0]+","+H[1]+","+H[2]),G[0]&1&&ue(V,H[0])},d(H){H&&h(e),C=!1,we(P)}}}function Qe(l){let e,t,s,o,u,m,a,r=l[13][0]+"",c,n,f,w,I,E,D=l[13][1]+"",T,p,b,V,U,O,N=l[13][2]+"",W,F,C,P,H,G=l[13][3]+"",J,re,$,j,ie=l[13][4]+"",te,se,K,De,me,le,ye=l[13][5]+"",he,ae,Be,ve,ne,ze=l[13][6]+"",v,S,oe,Q,de,fe,A=l[6]&&Ze();return{c(){e=g("div"),t=g("div"),s=g("h2"),o=Y("Contribute to the Cloud Cities repository"),u=y(),m=g("div"),a=g("p"),c=Y(r),n=y(),f=g("input"),w=y(),I=g("div"),E=g("p"),T=Y(D),p=y(),b=g("input"),V=y(),U=g("div"),O=g("p"),W=Y(N),F=y(),C=g("input"),P=y(),H=g("p"),J=Y(G),re=y(),$=g("div"),j=g("button"),te=Y(ie),se=y(),K=g("img"),me=y(),le=g("button"),he=Y(ye),ae=g("img"),ve=y(),ne=g("button"),v=Y(ze),S=y(),A&&A.c(),oe=y(),Q=g("div"),this.h()},l(R){e=_(R,"DIV",{class:!0});var Z=k(e);t=_(Z,"DIV",{class:!0});var L=k(t);s=_(L,"H2",{});var Fe=k(s);o=q(Fe,"Contribute to the Cloud Cities repository"),Fe.forEach(h),u=B(L),m=_(L,"DIV",{class:!0});var Ve=k(m);a=_(Ve,"P",{class:!0});var je=k(a);c=q(je,r),je.forEach(h),n=B(Ve),f=_(Ve,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),Ve.forEach(h),w=B(L),I=_(L,"DIV",{class:!0});var Ue=k(I);E=_(Ue,"P",{class:!0});var Re=k(E);T=q(Re,D),Re.forEach(h),p=B(Ue),b=_(Ue,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),Ue.forEach(h),V=B(L),U=_(L,"DIV",{class:!0});var Ce=k(U);O=_(Ce,"P",{class:!0});var Ye=k(O);W=q(Ye,N),Ye.forEach(h),F=B(Ce),C=_(Ce,"INPUT",{type:!0,id:!0,"data-lpignore":!0,class:!0}),Ce.forEach(h),P=B(L),H=_(L,"P",{});var qe=k(H);J=q(qe,G),qe.forEach(h),re=B(L),$=_(L,"DIV",{class:!0});var Ne=k($);j=_(Ne,"BUTTON",{id:!0,class:!0});var Me=k(j);te=q(Me,ie),se=B(Me),K=_(Me,"IMG",{src:!0,alt:!0,class:!0}),Me.forEach(h),me=B(Ne),le=_(Ne,"BUTTON",{id:!0,class:!0});var He=k(le);he=q(He,ye),ae=_(He,"IMG",{src:!0,alt:!0,class:!0}),He.forEach(h),Ne.forEach(h),ve=B(L),ne=_(L,"BUTTON",{id:!0,class:!0});var Ae=k(ne);v=q(Ae,ze),Ae.forEach(h),S=B(L),A&&A.l(L),L.forEach(h),oe=B(Z),Q=_(Z,"DIV",{class:!0}),k(Q).forEach(h),Z.forEach(h),this.h()},h(){d(a,"class","svelte-zisa4o"),d(f,"type","text"),d(f,"id","input-title"),d(f,"data-lpignore","true"),d(f,"class","svelte-zisa4o"),d(m,"class","input-section svelte-zisa4o"),d(E,"class","svelte-zisa4o"),d(b,"type","text"),d(b,"id","input-location"),d(b,"data-lpignore","true"),d(b,"class","svelte-zisa4o"),d(I,"class","input-section svelte-zisa4o"),d(O,"class","svelte-zisa4o"),d(C,"type","text"),d(C,"id","input-name"),d(C,"data-lpignore","true"),d(C,"class","svelte-zisa4o"),d(U,"class","input-section svelte-zisa4o"),Ge(K.src,De="./cloud_submit.svg")||d(K,"src",De),d(K,"alt","submit"),d(K,"class","svelte-zisa4o"),d(j,"id","submit-button"),d(j,"class","svelte-zisa4o"),Ge(ae.src,Be="./cloud_download.svg")||d(ae,"src",Be),d(ae,"alt","download"),d(ae,"class","svelte-zisa4o"),d(le,"id","download-button"),d(le,"class","svelte-zisa4o"),d($,"class","flex-row"),d(ne,"id","cancel-button"),d(ne,"class","svelte-zisa4o"),d(t,"class","modal-center submit-image svelte-zisa4o"),d(Q,"class","icon-button exit-button svelte-zisa4o"),d(e,"class","container svelte-zisa4o")},m(R,Z){M(R,e,Z),i(e,t),i(t,s),i(s,o),i(t,u),i(t,m),i(m,a),i(a,c),i(m,n),i(m,f),ue(f,l[3]),i(t,w),i(t,I),i(I,E),i(E,T),i(I,p),i(I,b),ue(b,l[4]),i(t,V),i(t,U),i(U,O),i(O,W),i(U,F),i(U,C),ue(C,l[5]),i(t,P),i(t,H),i(H,J),i(t,re),i(t,$),i($,j),i(j,te),i(j,se),i(j,K),i($,me),i($,le),i(le,he),i(le,ae),i(t,ve),i(t,ne),i(ne,v),i(t,S),A&&A.m(t,null),i(e,oe),i(e,Q),de||(fe=[z(f,"input",l[30]),z(b,"input",l[31]),z(C,"input",l[32]),z(j,"click",l[16]),z(le,"click",l[17]),z(ne,"click",l[25]),z(Q,"click",l[22]),z(Q,"touchstart",l[22],{passive:!0})],de=!0)},p(R,Z){Z[0]&8&&f.value!==R[3]&&ue(f,R[3]),Z[0]&16&&b.value!==R[4]&&ue(b,R[4]),Z[0]&32&&C.value!==R[5]&&ue(C,R[5]),R[6]?A||(A=Ze(),A.c(),A.m(t,null)):A&&(A.d(1),A=null)},d(R){R&&h(e),A&&A.d(),de=!1,we(fe)}}}function Ze(l){let e,t;return{c(){e=g("p"),t=Y(`We are missing information to complete your Cloud Cities submission. Please tell us more
						about your drawing! Please note: Location and Name are optional.`)},l(s){e=_(s,"P",{});var o=k(e);t=q(o,`We are missing information to complete your Cloud Cities submission. Please tell us more
						about your drawing! Please note: Location and Name are optional.`),o.forEach(h)},m(s,o){M(s,e,o),i(e,t)},d(s){s&&h(e)}}}function xe(l){let e,t,s,o,u,m,a,r,c,n,f,w,I,E,D,T,p;return{c(){e=g("div"),t=g("div"),s=g("h2"),o=Y("Thank you! Submission complete"),u=y(),m=g("p"),a=Y("Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),r=y(),c=g("div"),n=g("button"),f=Y("Return to drawing"),w=y(),I=g("a"),E=g("button"),D=Y("Visit the repository"),this.h()},l(b){e=_(b,"DIV",{class:!0});var V=k(e);t=_(V,"DIV",{class:!0});var U=k(t);s=_(U,"H2",{});var O=k(s);o=q(O,"Thank you! Submission complete"),O.forEach(h),u=B(U),m=_(U,"P",{});var N=k(m);a=q(N,"Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),N.forEach(h),r=B(U),c=_(U,"DIV",{class:!0});var W=k(c);n=_(W,"BUTTON",{class:!0});var F=k(n);f=q(F,"Return to drawing"),F.forEach(h),w=B(W),I=_(W,"A",{href:!0,class:!0});var C=k(I);E=_(C,"BUTTON",{class:!0});var P=k(E);D=q(P,"Visit the repository"),P.forEach(h),C.forEach(h),W.forEach(h),U.forEach(h),V.forEach(h),this.h()},h(){d(n,"class","svelte-zisa4o"),d(E,"class","svelte-zisa4o"),d(I,"href","/"),d(I,"class","href svelte-zisa4o"),d(c,"class","flex-row svelte-zisa4o"),d(t,"class","modal-center svelte-zisa4o"),d(e,"class","container svelte-zisa4o")},m(b,V){M(b,e,V),i(e,t),i(t,s),i(s,o),i(t,u),i(t,m),i(m,a),i(t,r),i(t,c),i(c,n),i(n,f),i(c,w),i(c,I),i(I,E),i(E,D),T||(p=z(n,"click",l[24]),T=!0)},p:ce,d(b){b&&h(e),T=!1,p()}}}function $e(l){let e,t,s,o,u,m,a;return{c(){e=g("div"),t=y(),s=g("div"),o=y(),u=g("div"),this.h()},l(r){e=_(r,"DIV",{class:!0,id:!0}),k(e).forEach(h),t=B(r),s=_(r,"DIV",{class:!0,id:!0}),k(s).forEach(h),o=B(r),u=_(r,"DIV",{class:!0,id:!0}),k(u).forEach(h),this.h()},h(){d(e,"class","icon-button finished-drawing-button svelte-zisa4o"),d(e,"id","finish-button"),d(s,"class","icon-button pallette-button svelte-zisa4o"),d(s,"id","p-button"),d(u,"class","icon-button redo-button svelte-zisa4o"),d(u,"id","r-button")},m(r,c){M(r,e,c),M(r,t,c),M(r,s,c),M(r,o,c),M(r,u,c),m||(a=[z(e,"click",l[33]),z(e,"touchstart",l[34],{passive:!0}),z(e,"mouseenter",l[19]),z(e,"mouseleave",l[20]),z(s,"click",l[23]),z(s,"touchstart",l[35],{passive:!0}),z(s,"mouseenter",l[19]),z(s,"mouseleave",l[20]),z(u,"mouseenter",l[19]),z(u,"mouseleave",l[20])],m=!0)},p:ce,d(r){r&&h(e),r&&h(t),r&&h(s),r&&h(o),r&&h(u),m=!1,we(a)}}}function kt(l){let e,t,s,o,u,m,a,r,c,n,f,w;t=new It({props:{sketch:l[14]}});let I=l[8]&&Ke(l),E=l[9]&&Qe(l),D=l[7]&&xe(l),T=!l[8]&&!l[9]&&$e(l);return{c(){e=g("div"),Ie(t.$$.fragment),s=y(),o=g("a"),u=g("div"),m=y(),I&&I.c(),a=y(),E&&E.c(),r=y(),D&&D.c(),c=y(),T&&T.c(),this.h()},l(p){e=_(p,"DIV",{id:!0});var b=k(e);ke(t.$$.fragment,b),s=B(b),o=_(b,"A",{href:!0});var V=k(o);u=_(V,"DIV",{class:!0}),k(u).forEach(h),V.forEach(h),m=B(b),I&&I.l(b),a=B(b),E&&E.l(b),r=B(b),D&&D.l(b),c=B(b),T&&T.l(b),b.forEach(h),this.h()},h(){d(u,"class","icon-button repo-button svelte-zisa4o"),d(o,"href","/"),d(e,"id","canvas-container")},m(p,b){M(p,e,b),Ee(t,e,null),i(e,s),i(e,o),i(o,u),i(e,m),I&&I.m(e,null),i(e,a),E&&E.m(e,null),i(e,r),D&&D.m(e,null),i(e,c),T&&T.m(e,null),n=!0,f||(w=[z(u,"mouseenter",l[19]),z(u,"mouseleave",l[20]),z(u,"touchstart",l[21],{passive:!0})],f=!0)},p(p,b){p[8]?I?I.p(p,b):(I=Ke(p),I.c(),I.m(e,a)):I&&(I.d(1),I=null),p[9]?E?E.p(p,b):(E=Qe(p),E.c(),E.m(e,r)):E&&(E.d(1),E=null),p[7]?D?D.p(p,b):(D=xe(p),D.c(),D.m(e,c)):D&&(D.d(1),D=null),!p[8]&&!p[9]?T?T.p(p,b):(T=$e(p),T.c(),T.m(e,null)):T&&(T.d(1),T=null)},i(p){n||(X(t.$$.fragment,p),n=!0)},o(p){ee(t.$$.fragment,p),n=!1},d(p){p&&h(e),Te(t),I&&I.d(),E&&E.d(),D&&D.d(),T&&T.d(),f=!1,we(w)}}}function Et(l,e,t){let{propValue:s}=e,{contributeModal:o}=e,{drawInstructions:u}=e,m=s;console.log("contribute modal: ",o);let a=o.map(v=>v.includes("<span>")?v.split("<span>").pop().split("<")[0]:v.includes("<p>")?v.split("<p>").pop().split("<")[0]:v.split('">').pop().split("<")[0]);console.log("contributeText: ",a);let r=4,c=0,n=0,f=0,w;console.log("drawInstructions: ",u),u&&(w=!0);const I=v=>{let S;v.preload=()=>{w=!1,console.log("preload"),S=v.loadImage(m)},v.setup=()=>{if(console.log("width: ",S.width),console.log("height: ",S.height),v.windowWidth>500)if(S.width<S.height){let L=S.height/(S.width/v.windowWidth);v.createCanvas(v.windowWidth,L)}else v.createCanvas(v.windowWidth,v.windowHeight);else v.windowWidth<500&&S.width<S.height?v.createCanvas(v.windowWidth,v.windowHeight):v.windowWidth<500&&v.createCanvas(S.width/2,v.windowHeight);v.background(S);let R=document.getElementById("canvas-container");R.addEventListener("touchstart",L=>{L.touches.length===2&&(w=!0)}),R.addEventListener("touchmove",L=>{L.touches.length===2&&(w=!0)}),R.addEventListener("touchend",L=>{w&&(w=!1)});let Z=document.getElementById("r-button");Z.addEventListener("click",function(){v.clear(),v.background(S)}),Z.addEventListener("touchstart",function(){v.clear(),v.background(S)})};let oe=0,Q=0,de=0,fe=0,A=.3;v.mousePressed=()=>{if(!(P||w||C||J))return oe=v.mouseX,Q=v.mouseY,de=v.mouseX,fe=v.mouseY,!1},v.touchMoved=()=>{if(P||w||C||J)return;let R=v.mouseX,Z=v.mouseY;return oe+=(R-oe)*A,Q+=(Z-Q)*A,v.strokeWeight(r),v.stroke(c,n,f),v.line(oe,Q,de,fe),de=oe,fe=Q,!1},v.windowResized=()=>{v.resizeCanvas(v.windowWidth,v.windowHeight),v.background(S)}};let E=document.getElementsByClassName("stroke-button");const D=v=>{v.target.id==="small-stroke"?r=2:v.target.id==="medium-stroke"?r=4:v.target.id==="big-stroke"&&(r=6),E.forEach(S=>{S!==v.target?S.style.border="none":S.style.border="solid 4px #00D1FF"})};let T,p,b,V,U=JSON.parse(localStorage.getItem("cloudUploads"));const O=["none"];U||localStorage.setItem("cloudUploads",JSON.stringify(O));let N=!0;const W=()=>{if(T&&N){U=JSON.parse(localStorage.getItem("cloudUploads")),console.log("uploads: ",U),U.push("upload"),localStorage.setItem("cloudUploads",JSON.stringify(U)),N=!1,t(6,V=!1);let v=new FormData;v.append("title",T),v.append("location",p),v.append("name",b),v.append("userUploads",U.length),document.getElementById("defaultCanvas0").toBlob(function(oe){v.append("cloud",oe),fetch("/addPostfromServer",{method:"POST",body:v}).then(Q=>{console.log("result: ",Q.status)})}),t(9,P=!1),w=!0,t(7,F=!0)}else if(N)t(6,V=!0);else return};let F=!1,C=!1,P=!1;const H=()=>{let v=document.createElement("a");v.download="myCanvas.png",v.href=document.getElementById("defaultCanvas0").toDataURL(),v.click()},G=v=>{t(0,c=v.srcElement.value),t(1,n=v.srcElement.value),t(2,f=v.srcElement.value)};let J=!1;const re=()=>{J=!0},$=()=>{J=!1},j=()=>{window.location.replace("/")},ie=()=>{C&&t(8,C=!1),P&&t(9,P=!1),J=!1};let te,se,K;const De=()=>{t(8,C=!C),r===2?(t(10,te="solid 4px #00D1FF"),t(11,se="none"),t(12,K="none")):r===4?(t(10,te="none"),t(11,se="solid 4px #00D1FF"),t(12,K="none")):(t(10,te="none"),t(11,se="none"),t(12,K="solid 4px #00D1FF"))},me=()=>{w=!1,window.location.reload()},le=()=>{t(9,P=!1),J=!1};function ye(){c=ut(this.value),t(0,c)}function he(){T=this.value,t(3,T)}function ae(){p=this.value,t(4,p)}function Be(){b=this.value,t(5,b)}const ve=()=>t(9,P=!P),ne=()=>(t(9,P=!P),console.log("touch event on pallette")),ze=()=>t(8,C=!C);return l.$$set=v=>{"propValue"in v&&t(26,s=v.propValue),"contributeModal"in v&&t(27,o=v.contributeModal),"drawInstructions"in v&&t(28,u=v.drawInstructions)},[c,n,f,T,p,b,V,F,C,P,te,se,K,a,I,D,W,H,G,re,$,j,ie,De,me,le,s,o,u,ye,he,ae,Be,ve,ne,ze]}class Tt extends be{constructor(e){super(),ge(this,e,Et,kt,_e,{propValue:26,contributeModal:27,drawInstructions:28},null,[-1,-1])}}function Dt(l){let e,t,s,o,u,m,a;return{c(){e=g("div"),t=g("div"),s=g("div"),o=y(),u=g("button"),this.h()},l(r){e=_(r,"DIV",{class:!0});var c=k(e);t=_(c,"DIV",{class:!0});var n=k(t);s=_(n,"DIV",{id:!0}),k(s).forEach(h),o=B(n),u=_(n,"BUTTON",{id:!0}),k(u).forEach(h),n.forEach(h),c.forEach(h),this.h()},h(){d(s,"id","drawInstructions"),d(u,"id","begin-button"),d(t,"class","start-draw-center svelte-mdkjls"),d(e,"class","start-draw-container svelte-mdkjls")},m(r,c){M(r,e,c),i(e,t),i(t,s),i(t,o),i(t,u),m||(a=z(u,"click",l[0]),m=!0)},p:ce,i:ce,o:ce,d(r){r&&h(e),m=!1,a()}}}function yt(l,e,t){const s=We();let{drawInstructions:o}=e,u;Le(async()=>{u=document.getElementById("drawInstructions"),u.innerHTML=o[0];let a=document.getElementById("begin-button");a.innerHTML=o[1]});const m=()=>{s("closeInstructions")};return l.$$set=a=>{"drawInstructions"in a&&t(1,o=a.drawInstructions)},[m,o]}class Bt extends be{constructor(e){super(),ge(this,e,yt,Dt,_e,{drawInstructions:1})}}function et(l){let e,t,s,o,u,m,a,r,c,n,f,w,I,E,D,T=l[5]&&tt(l);return{c(){e=g("div"),t=g("h2"),s=Y(l[1]),o=y(),u=g("div"),m=y(),a=g("div"),r=g("button"),c=y(),n=g("button"),f=y(),w=g("button"),I=y(),T&&T.c(),this.h()},l(p){e=_(p,"DIV",{class:!0});var b=k(e);t=_(b,"H2",{class:!0});var V=k(t);s=q(V,l[1]),V.forEach(h),o=B(b),u=_(b,"DIV",{id:!0}),k(u).forEach(h),m=B(b),a=_(b,"DIV",{class:!0});var U=k(a);r=_(U,"BUTTON",{id:!0,class:!0}),k(r).forEach(h),c=B(U),n=_(U,"BUTTON",{id:!0,class:!0}),k(n).forEach(h),f=B(U),w=_(U,"BUTTON",{id:!0,class:!0}),k(w).forEach(h),U.forEach(h),I=B(b),T&&T.l(b),b.forEach(h),this.h()},h(){d(t,"class","svelte-1odwexz"),d(u,"id","cloudstobe"),d(r,"id","draw-button"),d(r,"class","enter-button svelte-1odwexz"),d(n,"id","remix-button"),d(n,"class","enter-button svelte-1odwexz"),d(w,"id","upload-button"),d(w,"class","enter-button svelte-1odwexz"),d(a,"class","button-section svelte-1odwexz"),d(e,"class","start-draw-center svelte-1odwexz")},m(p,b){M(p,e,b),i(e,t),i(t,s),i(e,o),i(e,u),i(e,m),i(e,a),i(a,r),i(a,c),i(a,n),i(a,f),i(a,w),i(e,I),T&&T.m(e,null),E||(D=[z(r,"click",l[10]),z(n,"click",l[12]),z(w,"click",l[7])],E=!0)},p(p,b){b&2&&ct(s,p[1]),p[5]?T?T.p(p,b):(T=tt(p),T.c(),T.m(e,null)):T&&(T.d(1),T=null)},d(p){p&&h(e),T&&T.d(),E=!1,we(D)}}}function tt(l){let e,t,s,o,u,m,a=!l[6]&&st(l),r=l[6]&&lt();return{c(){e=g("input"),t=y(),a&&a.c(),s=y(),r&&r.c(),o=Se(),this.h()},l(c){e=_(c,"INPUT",{accept:!0,type:!0,id:!0,class:!0}),t=B(c),a&&a.l(c),s=B(c),r&&r.l(c),o=Se(),this.h()},h(){d(e,"accept",".png, .jpg, .jpeg"),d(e,"type","file"),d(e,"id","upload"),d(e,"class","svelte-1odwexz")},m(c,n){M(c,e,n),M(c,t,n),a&&a.m(c,n),M(c,s,n),r&&r.m(c,n),M(c,o,n),u||(m=z(e,"change",l[8]),u=!0)},p(c,n){c[6]?a&&(a.d(1),a=null):a?a.p(c,n):(a=st(c),a.c(),a.m(s.parentNode,s)),c[6]?r||(r=lt(),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(c){c&&h(e),c&&h(t),a&&a.d(c),c&&h(s),r&&r.d(c),c&&h(o),u=!1,m()}}}function st(l){let e,t,s,o;return{c(){e=g("button"),t=Y("Upload"),this.h()},l(u){e=_(u,"BUTTON",{id:!0,class:!0});var m=k(e);t=q(m,"Upload"),m.forEach(h),this.h()},h(){d(e,"id","drawOnUpload-button"),d(e,"class","svelte-1odwexz")},m(u,m){M(u,e,m),i(e,t),s||(o=z(e,"click",l[9]),s=!0)},p:ce,d(u){u&&h(e),s=!1,o()}}}function lt(l){let e,t;return{c(){e=g("p"),t=Y("Please choose a smaller file")},l(s){e=_(s,"P",{});var o=k(e);t=q(o,"Please choose a smaller file"),o.forEach(h)},m(s,o){M(s,e,o),i(e,t)},d(s){s&&h(e)}}}function zt(l){let e,t,s,o,u,m,a,r,c,n,f=l[3]&&!l[2]&&et(l);return{c(){e=g("div"),f&&f.c(),t=y(),s=g("div"),o=g("div"),u=y(),m=g("button"),this.h()},l(w){e=_(w,"DIV",{class:!0,style:!0});var I=k(e);f&&f.l(I),t=B(I),s=_(I,"DIV",{class:!0,style:!0});var E=k(s);o=_(E,"DIV",{id:!0}),k(o).forEach(h),u=B(E),m=_(E,"BUTTON",{id:!0}),k(m).forEach(h),E.forEach(h),I.forEach(h),this.h()},h(){d(o,"id","drawInstructions"),d(m,"id","begin-button"),d(s,"class","start-draw-center svelte-1odwexz"),x(s,"visibility",l[4]),d(e,"class","start-draw-container svelte-1odwexz"),x(e,"background-image","url("+l[0]+")"),x(e,"background-size","cover"),x(e,"background-position","center")},m(w,I){M(w,e,I),f&&f.m(e,null),i(e,t),i(e,s),i(s,o),i(s,u),i(s,m),r=!0,c||(n=z(m,"click",l[11]),c=!0)},p(w,[I]){w[3]&&!w[2]?f?f.p(w,I):(f=et(w),f.c(),f.m(e,t)):f&&(f.d(1),f=null),(!r||I&16)&&x(s,"visibility",w[4]),(!r||I&1)&&x(e,"background-image","url("+w[0]+")")},i(w){r||(dt(()=>{a||(a=Je(e,Xe,{},!0)),a.run(1)}),r=!0)},o(w){a||(a=Je(e,Xe,{},!1)),a.run(0),r=!1},d(w){w&&h(e),f&&f.d(),w&&a&&a.end(),c=!1,n()}}}function Vt(l,e,t){const s=We();let{propValue:o}=e,{cloudsToBe:u}=e,{drawInstructions:m}=e,{title:a}=e,{straightToInstructions:r}=e,c;Le(async()=>{let N=document.getElementById("cloudstobe");N.innerHTML=u[0];let W=document.getElementById("draw-button"),F=document.getElementById("remix-button"),C=document.getElementById("upload-button");W.innerHTML=u[1],F.innerHTML=u[2],C.innerHTML=u[3],c=document.getElementById("drawInstructions"),c.innerHTML=m[0];let P=document.getElementById("begin-button");P.innerHTML=m[1]});let n=!0,f="hidden",w=!1,I;const E=()=>{t(5,w=!0)};let D;const T=()=>{t(6,D=!1);const W=document.getElementById("upload").files[0];if(W.size>1e7){t(6,D=!0);return}console.log("Blob?: : ",W instanceof Blob),I=URL.createObjectURL(W)};let p;const b=()=>{console.log("chooseImage: ",I),t(3,n=!1),t(4,f="visible"),p="drawOnUploadImage"},V=()=>{t(3,n=!1),t(4,f="visible"),p="drawOnThisImage",console.log("instructionsText: ",c)},U=()=>{p==="drawOnThisImage"?s("startDrawing",!1):p==="drawOnUploadImage"&&s("startDrawing",I)},O=()=>{s("remixCanvas")};return l.$$set=N=>{"propValue"in N&&t(0,o=N.propValue),"cloudsToBe"in N&&t(13,u=N.cloudsToBe),"drawInstructions"in N&&t(14,m=N.drawInstructions),"title"in N&&t(1,a=N.title),"straightToInstructions"in N&&t(2,r=N.straightToInstructions)},[o,a,r,n,f,w,D,E,T,b,V,U,O,u,m]}class Ut extends be{constructor(e){super(),ge(this,e,Vt,zt,_e,{propValue:0,cloudsToBe:13,drawInstructions:14,title:1,straightToInstructions:2})}}function ot(l){let e,t;return e=new Ut({props:{title:l[7],drawInstructions:l[8],cloudsToBe:l[6],propValue:l[2],straightToInstructions:Nt}}),e.$on("startDrawing",l[11]),e.$on("remixCanvas",l[12]),{c(){Ie(e.$$.fragment)},l(s){ke(e.$$.fragment,s)},m(s,o){Ee(e,s,o),t=!0},p(s,o){const u={};o&128&&(u.title=s[7]),o&256&&(u.drawInstructions=s[8]),o&64&&(u.cloudsToBe=s[6]),o&4&&(u.propValue=s[2]),e.$set(u)},i(s){t||(X(e.$$.fragment,s),t=!0)},o(s){ee(e.$$.fragment,s),t=!1},d(s){Te(e,s)}}}function rt(l){let e,t;return e=new Tt({props:{propValue:l[3],drawInstructions:l[1],contributeModal:l[9]}}),{c(){Ie(e.$$.fragment)},l(s){ke(e.$$.fragment,s)},m(s,o){Ee(e,s,o),t=!0},p(s,o){const u={};o&8&&(u.propValue=s[3]),o&2&&(u.drawInstructions=s[1]),o&512&&(u.contributeModal=s[9]),e.$set(u)},i(s){t||(X(e.$$.fragment,s),t=!0)},o(s){ee(e.$$.fragment,s),t=!1},d(s){Te(e,s)}}}function nt(l){let e,t;return e=new ft({props:{repoImages:l[10],remix:!0}}),e.$on("drawOnImage",l[11]),{c(){Ie(e.$$.fragment)},l(s){ke(e.$$.fragment,s)},m(s,o){Ee(e,s,o),t=!0},p(s,o){const u={};o&1024&&(u.repoImages=s[10]),e.$set(u)},i(s){t||(X(e.$$.fragment,s),t=!0)},o(s){ee(e.$$.fragment,s),t=!1},d(s){Te(e,s)}}}function it(l){let e,t;return e=new Bt({props:{drawInstructions:l[8]}}),e.$on("closeInstructions",l[13]),{c(){Ie(e.$$.fragment)},l(s){ke(e.$$.fragment,s)},m(s,o){Ee(e,s,o),t=!0},p(s,o){const u={};o&256&&(u.drawInstructions=s[8]),e.$set(u)},i(s){t||(X(e.$$.fragment,s),t=!0)},o(s){ee(e.$$.fragment,s),t=!1},d(s){Te(e,s)}}}function Ct(l){let e,t,s,o,u,m=l[2]&&l[5]&&l[6].length>0&&ot(l),a=l[4]&&rt(l),r=l[0]&&nt(l),c=l[1]&&it(l);return{c(){m&&m.c(),e=y(),a&&a.c(),t=y(),r&&r.c(),s=y(),c&&c.c(),o=Se()},l(n){m&&m.l(n),e=B(n),a&&a.l(n),t=B(n),r&&r.l(n),s=B(n),c&&c.l(n),o=Se()},m(n,f){m&&m.m(n,f),M(n,e,f),a&&a.m(n,f),M(n,t,f),r&&r.m(n,f),M(n,s,f),c&&c.m(n,f),M(n,o,f),u=!0},p(n,[f]){n[2]&&n[5]&&n[6].length>0?m?(m.p(n,f),f&100&&X(m,1)):(m=ot(n),m.c(),X(m,1),m.m(e.parentNode,e)):m&&(Pe(),ee(m,1,1,()=>{m=null}),Oe()),n[4]?a?(a.p(n,f),f&16&&X(a,1)):(a=rt(n),a.c(),X(a,1),a.m(t.parentNode,t)):a&&(Pe(),ee(a,1,1,()=>{a=null}),Oe()),n[0]?r?(r.p(n,f),f&1&&X(r,1)):(r=nt(n),r.c(),X(r,1),r.m(s.parentNode,s)):r&&(Pe(),ee(r,1,1,()=>{r=null}),Oe()),n[1]?c?(c.p(n,f),f&2&&X(c,1)):(c=it(n),c.c(),X(c,1),c.m(o.parentNode,o)):c&&(Pe(),ee(c,1,1,()=>{c=null}),Oe())},i(n){u||(X(m),X(a),X(r),X(c),u=!0)},o(n){ee(m),ee(a),ee(r),ee(c),u=!1},d(n){m&&m.d(n),n&&h(e),a&&a.d(n),n&&h(t),r&&r.d(n),n&&h(s),c&&c.d(n),n&&h(o)}}}let Nt=!1;function Mt(l,e,t){let s,o,u,m,a;pe(l,mt,p=>t(6,s=p)),pe(l,ht,p=>t(7,o=p)),pe(l,vt,p=>t(8,u=p)),pe(l,pt,p=>t(9,m=p)),pe(l,bt,p=>t(10,a=p));let r=!1,c=!1,n;Le(async()=>{let b=await(await fetch("https://cloudcities.studiotomassaraceno.org/wp-json/wp/v2/media?categories=48&per_page=50")).json(),V=Math.floor(Math.random()*b.length);t(2,n=b[V].source_url)});let f,w=!1,I=!0;return[r,c,n,f,w,I,s,o,u,m,a,p=>{console.log("startDrawing: ",p.detail),p.detail?t(3,f=p.detail):(t(3,f=n),console.log("startDrawing BG: ",n)),r?(t(1,c=!0),t(0,r=!1),t(4,w=!0),t(3,f=p.detail.link)):(t(5,I=!1),t(4,w=!0))},()=>{console.log("choose canvas"),t(0,r=!0),t(5,I=!1)},()=>t(1,c=!1)]}class Lt extends be{constructor(e){super(),ge(this,e,Mt,Ct,_e,{})}}export{Lt as default};
