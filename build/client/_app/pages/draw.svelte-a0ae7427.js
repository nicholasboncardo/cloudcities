import{S as Oe,i as He,s as Pe,e as g,c as b,a as _,d as m,b as r,g as L,K as mt,E as me,L as Je,v as Ye,t as F,k as B,h as j,m as V,J as o,M as H,N as be,f as K,O as he,P as Qe,Q as Ze,w as we,x as ke,y as Ie,q as G,o as x,B as Ee,R as vt,j as pt,l as Re,T as gt,U as xe,p as je,V as Ne,n as Ae}from"../chunks/index-37d50d90.js";import{f as $e,O as bt,G as _t,c as wt,d as kt,a as It,b as Et,r as Tt}from"../chunks/wpTitles-bbb4604d.js";import"../chunks/index-d2201ef8.js";function yt(l){let e,t,s;return{c(){e=g("div"),this.h()},l(i){e=b(i,"DIV",{style:!0,class:!0}),_(e).forEach(m),this.h()},h(){r(e,"style",l[0]),r(e,"class","m-0")},m(i,n){L(i,e,n),t||(s=mt(l[1].call(null,e)),t=!0)},p(i,[n]){n&1&&r(e,"style",i[0])},i:me,o:me,d(i){i&&m(e),t=!1,s()}}}function Dt(l,e){return e.forEach(([t,s])=>l[t]=s),l}function Bt(l,e,t){let{target:s=void 0}=e,{sketch:i=void 0}=e,{parentDivStyle:n="display: block;"}=e,{debug:d=!1}=e,c;const u=Je(),h={ref(){u("ref",s)},instance(){u("instance",c)}};function a(v){return t(2,s=v),{destroy(){t(2,s=void 0)}}}return Ye(async()=>{const v=await import("../chunks/p5.min-21ab2ccd.js").then(function(y){return y.p}),{default:w}=v,C=Object.entries(v).filter(([y,O])=>O instanceof Function&&y[0]!=="_"&&y!=="default");d&&console.log("available p5 native classes",C),c=new w(y=>(y=Dt(y,C),d&&console.log("p5 instance",y),window._p5Instance=y,i(y)),s),h.ref(),h.instance()}),l.$$set=v=>{"target"in v&&t(2,s=v.target),"sketch"in v&&t(3,i=v.sketch),"parentDivStyle"in v&&t(0,n=v.parentDivStyle),"debug"in v&&t(4,d=v.debug)},[n,a,s,i,d]}class Vt extends Oe{constructor(e){super(),He(this,e,Bt,yt,Pe,{target:2,sketch:3,parentDivStyle:0,debug:4})}}function et(l){let e,t,s,i,n,d,c,u,h;return{c(){e=g("div"),t=g("div"),s=g("h2"),i=F(`For this image we encourge putting you in landscape mode. Please turn your phone 90\xB0 and
					press continue`),n=B(),d=g("button"),c=F("Ok"),this.h()},l(a){e=b(a,"DIV",{id:!0,class:!0});var v=_(e);t=b(v,"DIV",{id:!0,class:!0});var w=_(t);s=b(w,"H2",{});var U=_(s);i=j(U,`For this image we encourge putting you in landscape mode. Please turn your phone 90\xB0 and
					press continue`),U.forEach(m),n=V(w),d=b(w,"BUTTON",{class:!0});var C=_(d);c=j(C,"Ok"),C.forEach(m),w.forEach(m),v.forEach(m),this.h()},h(){r(d,"class","svelte-x9hekn"),r(t,"id","center"),r(t,"class","svelte-x9hekn"),r(e,"id","landscapemodal"),r(e,"class","svelte-x9hekn")},m(a,v){L(a,e,v),o(e,t),o(t,s),o(s,i),o(t,n),o(t,d),o(d,c),u||(h=[H(d,"click",l[36]),H(d,"touchstart",l[37],{passive:!0})],u=!0)},p:me,d(a){a&&m(e),u=!1,be(h)}}}function tt(l){let e,t,s,i,n,d,c,u,h,a,v,w,U,C,y,O,P,p,D,I,k,T,N,E,S,$;return{c(){e=g("div"),t=g("div"),s=g("div"),i=g("p"),n=F("size"),d=B(),c=g("div"),u=g("div"),h=B(),a=g("div"),v=B(),w=g("div"),U=B(),C=g("div"),y=g("p"),O=F("color"),P=B(),p=g("div"),D=g("input"),I=B(),k=g("button"),T=F("Done"),N=B(),E=g("div"),this.h()},l(W){e=b(W,"DIV",{class:!0});var A=_(e);t=b(A,"DIV",{class:!0});var q=_(t);s=b(q,"DIV",{class:!0});var R=_(s);i=b(R,"P",{class:!0});var J=_(i);n=j(J,"size"),J.forEach(m),d=V(R),c=b(R,"DIV",{class:!0});var ee=_(c);u=b(ee,"DIV",{class:!0,id:!0,style:!0}),_(u).forEach(m),h=V(ee),a=b(ee,"DIV",{class:!0,id:!0,style:!0}),_(a).forEach(m),v=V(ee),w=b(ee,"DIV",{class:!0,id:!0,style:!0}),_(w).forEach(m),ee.forEach(m),R.forEach(m),U=V(q),C=b(q,"DIV",{class:!0});var Q=_(C);y=b(Q,"P",{class:!0});var Y=_(y);O=j(Y,"color"),Y.forEach(m),P=V(Q),p=b(Q,"DIV",{class:!0});var ve=_(p);D=b(ve,"INPUT",{type:!0,min:!0,max:!0,id:!0,style:!0,class:!0}),ve.forEach(m),Q.forEach(m),I=V(q),k=b(q,"BUTTON",{id:!0,class:!0});var ae=_(k);T=j(ae,"Done"),ae.forEach(m),q.forEach(m),N=V(A),E=b(A,"DIV",{class:!0}),_(E).forEach(m),A.forEach(m),this.h()},h(){r(i,"class","svelte-x9hekn"),r(u,"class","stroke-button svelte-x9hekn"),r(u,"id","small-stroke"),K(u,"border",l[12]),r(a,"class","stroke-button svelte-x9hekn"),r(a,"id","medium-stroke"),K(a,"border",l[13]),r(w,"class","stroke-button svelte-x9hekn"),r(w,"id","big-stroke"),K(w,"border",l[14]),r(c,"class","stroke-width svelte-x9hekn"),r(s,"class","style-section svelte-x9hekn"),r(y,"class","svelte-x9hekn"),r(D,"type","range"),r(D,"min","0"),r(D,"max","255"),r(D,"id","color-slider"),K(D,"background-color","rgb("+l[0]+","+l[1]+","+l[2]),r(D,"class","svelte-x9hekn"),r(p,"class","stroke-color svelte-x9hekn"),r(C,"class","style-section svelte-x9hekn"),r(k,"id","pallette-done"),r(k,"class","svelte-x9hekn"),r(t,"class","modal-info draw-settings svelte-x9hekn"),r(E,"class","icon-button exit-button svelte-x9hekn"),r(e,"class","container svelte-x9hekn")},m(W,A){L(W,e,A),o(e,t),o(t,s),o(s,i),o(i,n),o(s,d),o(s,c),o(c,u),o(c,h),o(c,a),o(c,v),o(c,w),o(t,U),o(t,C),o(C,y),o(y,O),o(C,P),o(C,p),o(p,D),he(D,l[0]),o(t,I),o(t,k),o(k,T),o(e,N),o(e,E),S||($=[H(u,"click",l[19]),H(a,"click",l[19]),H(w,"click",l[19]),H(D,"change",l[22]),H(D,"change",l[38]),H(D,"input",l[38]),H(k,"click",l[26]),H(k,"touchstart",l[26],{passive:!0}),H(E,"click",l[26]),H(E,"touchstart",l[26],{passive:!0})],S=!0)},p(W,A){A[0]&4096&&K(u,"border",W[12]),A[0]&8192&&K(a,"border",W[13]),A[0]&16384&&K(w,"border",W[14]),A[0]&7&&K(D,"background-color","rgb("+W[0]+","+W[1]+","+W[2]),A[0]&1&&he(D,W[0])},d(W){W&&m(e),S=!1,be($)}}}function st(l){let e,t,s,i,n,d,c,u=l[15][0]+"",h,a,v,w,U,C,y=l[15][1]+"",O,P,p,D,I,k,T=l[15][2]+"",N,E,S,$,W,A,q,R,J,ee,Q,Y,ve=l[15][4]+"",ae,Te,ne,pe,ue,Z,Me=l[15][5]+"",ye,ie,Se,De,se,We=l[15][6]+"",Be,Ve,Ce,re,Ue,ze,X=l[8]&&lt();return{c(){e=g("div"),t=g("div"),s=g("h2"),i=F("Contribute to the Cloud Cities repository"),n=B(),d=g("div"),c=g("p"),h=F(u),a=B(),v=g("input"),w=B(),U=g("div"),C=g("p"),O=F(y),P=B(),p=g("input"),D=B(),I=g("div"),k=g("p"),N=F(T),E=B(),S=g("input"),$=B(),W=g("p"),A=F(l[16]),q=g("span"),R=g("p"),J=F(l[17]),ee=B(),Q=g("div"),Y=g("button"),ae=F(ve),Te=B(),ne=g("img"),ue=B(),Z=g("button"),ye=F(Me),ie=g("img"),De=B(),se=g("button"),Be=F(We),Ve=B(),X&&X.c(),Ce=B(),re=g("div"),this.h()},l(f){e=b(f,"DIV",{class:!0});var M=_(e);t=b(M,"DIV",{class:!0});var z=_(t);s=b(z,"H2",{});var te=_(s);i=j(te,"Contribute to the Cloud Cities repository"),te.forEach(m),n=V(z),d=b(z,"DIV",{class:!0});var le=_(d);c=b(le,"P",{class:!0});var ce=_(c);h=j(ce,u),ce.forEach(m),a=V(le),v=b(le,"INPUT",{type:!0,id:!0,"data-lpignore":!0,maxlength:!0,class:!0}),le.forEach(m),w=V(z),U=b(z,"DIV",{class:!0});var de=_(U);C=b(de,"P",{class:!0});var _e=_(C);O=j(_e,y),_e.forEach(m),P=V(de),p=b(de,"INPUT",{type:!0,id:!0,"data-lpignore":!0,maxlength:!0,class:!0}),de.forEach(m),D=V(z),I=b(z,"DIV",{class:!0});var ge=_(I);k=b(ge,"P",{class:!0});var fe=_(k);N=j(fe,T),fe.forEach(m),E=V(ge),S=b(ge,"INPUT",{type:!0,id:!0,"data-lpignore":!0,maxlength:!0,class:!0}),ge.forEach(m),$=V(z),W=b(z,"P",{class:!0});var oe=_(W);A=j(oe,l[16]),q=b(oe,"SPAN",{style:!0});var Ge=_(q);R=b(Ge,"P",{});var Xe=_(R);J=j(Xe,l[17]),Xe.forEach(m),Ge.forEach(m),oe.forEach(m),ee=V(z),Q=b(z,"DIV",{class:!0});var Le=_(Q);Y=b(Le,"BUTTON",{id:!0,class:!0});var Fe=_(Y);ae=j(Fe,ve),Te=V(Fe),ne=b(Fe,"IMG",{src:!0,alt:!0,class:!0}),Fe.forEach(m),ue=V(Le),Z=b(Le,"BUTTON",{id:!0,class:!0});var qe=_(Z);ye=j(qe,Me),ie=b(qe,"IMG",{src:!0,alt:!0,class:!0}),qe.forEach(m),Le.forEach(m),De=V(z),se=b(z,"BUTTON",{id:!0,class:!0});var Ke=_(se);Be=j(Ke,We),Ke.forEach(m),Ve=V(z),X&&X.l(z),z.forEach(m),Ce=V(M),re=b(M,"DIV",{class:!0}),_(re).forEach(m),M.forEach(m),this.h()},h(){r(c,"class","svelte-x9hekn"),r(v,"type","text"),r(v,"id","input-title"),r(v,"data-lpignore","true"),r(v,"maxlength","50"),r(v,"class","svelte-x9hekn"),r(d,"class","input-section svelte-x9hekn"),r(C,"class","svelte-x9hekn"),r(p,"type","text"),r(p,"id","input-location"),r(p,"data-lpignore","true"),r(p,"maxlength","30"),r(p,"class","svelte-x9hekn"),r(U,"class","input-section svelte-x9hekn"),r(k,"class","svelte-x9hekn"),r(S,"type","text"),r(S,"id","input-name"),r(S,"data-lpignore","true"),r(S,"maxlength","30"),r(S,"class","svelte-x9hekn"),r(I,"class","input-section svelte-x9hekn"),K(q,"text-decoration","underline"),K(q,"cursor","pointer"),r(W,"class","svelte-x9hekn"),Qe(ne.src,pe="./cloud_submit.svg")||r(ne,"src",pe),r(ne,"alt","submit"),r(ne,"class","svelte-x9hekn"),r(Y,"id","submit-button"),r(Y,"class","svelte-x9hekn"),Qe(ie.src,Se="./cloud_download.svg")||r(ie,"src",Se),r(ie,"alt","download"),r(ie,"class","svelte-x9hekn"),r(Z,"id","download-button"),r(Z,"class","svelte-x9hekn"),r(Q,"class","flex-row"),r(se,"id","cancel-button"),r(se,"class","svelte-x9hekn"),r(t,"class","modal-info submit-image svelte-x9hekn"),r(re,"class","icon-button exit-button svelte-x9hekn"),r(e,"class","container svelte-x9hekn")},m(f,M){L(f,e,M),o(e,t),o(t,s),o(s,i),o(t,n),o(t,d),o(d,c),o(c,h),o(d,a),o(d,v),he(v,l[7]),o(t,w),o(t,U),o(U,C),o(C,O),o(U,P),o(U,p),he(p,l[6]),o(t,D),o(t,I),o(I,k),o(k,N),o(I,E),o(I,S),he(S,l[5]),o(t,$),o(t,W),o(W,A),o(W,q),o(q,R),o(R,J),o(t,ee),o(t,Q),o(Q,Y),o(Y,ae),o(Y,Te),o(Y,ne),o(Q,ue),o(Q,Z),o(Z,ye),o(Z,ie),o(t,De),o(t,se),o(se,Be),o(t,Ve),X&&X.m(t,null),o(e,Ce),o(e,re),Ue||(ze=[H(v,"input",l[39]),H(p,"input",l[40]),H(S,"input",l[41]),H(q,"click",l[31]),H(Y,"click",l[20]),H(Z,"click",l[21]),H(se,"click",l[29]),H(re,"click",l[26]),H(re,"touchstart",l[26],{passive:!0})],Ue=!0)},p(f,M){M[0]&128&&v.value!==f[7]&&he(v,f[7]),M[0]&64&&p.value!==f[6]&&he(p,f[6]),M[0]&32&&S.value!==f[5]&&he(S,f[5]),f[8]?X||(X=lt(),X.c(),X.m(t,null)):X&&(X.d(1),X=null)},d(f){f&&m(e),X&&X.d(),Ue=!1,be(ze)}}}function lt(l){let e,t;return{c(){e=g("p"),t=F(`We are missing information to complete your Cloud Cities submission. Please tell us more
						about your drawing! Please note: Location and Name are optional.`),this.h()},l(s){e=b(s,"P",{class:!0});var i=_(e);t=j(i,`We are missing information to complete your Cloud Cities submission. Please tell us more
						about your drawing! Please note: Location and Name are optional.`),i.forEach(m),this.h()},h(){r(e,"class","svelte-x9hekn")},m(s,i){L(s,e,i),o(e,t)},d(s){s&&m(e)}}}function ot(l){let e,t,s,i,n,d,c,u,h,a,v,w,U,C,y,O,P;return{c(){e=g("div"),t=g("div"),s=g("h2"),i=F("Thank you! Submission complete"),n=B(),d=g("p"),c=F("Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),u=B(),h=g("div"),a=g("button"),v=F("Return to drawing"),w=B(),U=g("a"),C=g("button"),y=F("Visit the repository"),this.h()},l(p){e=b(p,"DIV",{class:!0});var D=_(e);t=b(D,"DIV",{class:!0});var I=_(t);s=b(I,"H2",{});var k=_(s);i=j(k,"Thank you! Submission complete"),k.forEach(m),n=V(I),d=b(I,"P",{class:!0});var T=_(d);c=j(T,"Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),T.forEach(m),u=V(I),h=b(I,"DIV",{class:!0});var N=_(h);a=b(N,"BUTTON",{class:!0});var E=_(a);v=j(E,"Return to drawing"),E.forEach(m),w=V(N),U=b(N,"A",{href:!0,class:!0});var S=_(U);C=b(S,"BUTTON",{class:!0});var $=_(C);y=j($,"Visit the repository"),$.forEach(m),S.forEach(m),N.forEach(m),I.forEach(m),D.forEach(m),this.h()},h(){r(d,"class","svelte-x9hekn"),r(a,"class","svelte-x9hekn"),r(C,"class","svelte-x9hekn"),r(U,"href","/"),r(U,"class","href svelte-x9hekn"),r(h,"class","flex-row svelte-x9hekn"),r(t,"class","modal-info svelte-x9hekn"),r(e,"class","container svelte-x9hekn")},m(p,D){L(p,e,D),o(e,t),o(t,s),o(s,i),o(t,n),o(t,d),o(d,c),o(t,u),o(t,h),o(h,a),o(a,v),o(h,w),o(h,U),o(U,C),o(C,y),O||(P=H(a,"click",l[28]),O=!0)},p:me,d(p){p&&m(e),O=!1,P()}}}function nt(l){let e,t,s,i,n,d,c;return{c(){e=g("div"),t=B(),s=g("div"),i=B(),n=g("div"),this.h()},l(u){e=b(u,"DIV",{class:!0,id:!0}),_(e).forEach(m),t=V(u),s=b(u,"DIV",{class:!0,id:!0}),_(s).forEach(m),i=V(u),n=b(u,"DIV",{class:!0,id:!0}),_(n).forEach(m),this.h()},h(){r(e,"class","icon-button finished-drawing-button svelte-x9hekn"),r(e,"id","finish-button"),r(s,"class","icon-button pallette-button svelte-x9hekn"),r(s,"id","p-button"),r(n,"class","icon-button redo-button svelte-x9hekn"),r(n,"id","r-button")},m(u,h){L(u,e,h),L(u,t,h),L(u,s,h),L(u,i,h),L(u,n,h),d||(c=[H(e,"click",l[42]),H(e,"touchstart",l[43],{passive:!0}),H(e,"mouseenter",l[23]),H(e,"mouseleave",l[24]),H(s,"click",l[27]),H(s,"touchstart",l[44],{passive:!0}),H(s,"mouseenter",l[23]),H(s,"mouseleave",l[24]),H(n,"mouseenter",l[23]),H(n,"mouseleave",l[24]),H(n,"click",function(){Ze(l[3])&&l[3].apply(this,arguments)}),H(n,"touchstart",function(){Ze(l[3])&&l[3].apply(this,arguments)})],d=!0)},p(u,h){l=u},d(u){u&&m(e),u&&m(t),u&&m(s),u&&m(i),u&&m(n),d=!1,be(c)}}}function Ct(l){let e,t,s,i,n,d,c,u,h,a,v,w,U,C,y,O,P,p=l[4]&&et(l);s=new Vt({props:{sketch:l[18]}});let D=l[10]&&tt(l),I=l[11]&&st(l),k=l[9]&&ot(l),T=!l[10]&&!l[11]&&nt(l);return{c(){e=g("div"),p&&p.c(),t=B(),we(s.$$.fragment),i=B(),n=g("h2"),d=F("Cloud Cities"),c=B(),u=g("div"),h=B(),a=g("div"),v=B(),D&&D.c(),w=B(),I&&I.c(),U=B(),k&&k.c(),C=B(),T&&T.c(),this.h()},l(N){e=b(N,"DIV",{id:!0,class:!0});var E=_(e);p&&p.l(E),t=V(E),ke(s.$$.fragment,E),i=V(E),n=b(E,"H2",{id:!0,class:!0});var S=_(n);d=j(S,"Cloud Cities"),S.forEach(m),c=V(E),u=b(E,"DIV",{class:!0}),_(u).forEach(m),h=V(E),a=b(E,"DIV",{class:!0}),_(a).forEach(m),v=V(E),D&&D.l(E),w=V(E),I&&I.l(E),U=V(E),k&&k.l(E),C=V(E),T&&T.l(E),E.forEach(m),this.h()},h(){r(n,"id","title"),r(n,"class","svelte-x9hekn"),r(u,"class","icon-button about-button svelte-x9hekn"),r(a,"class","icon-button repo-button svelte-x9hekn"),r(e,"id","canvas-container"),r(e,"class","svelte-x9hekn")},m(N,E){L(N,e,E),p&&p.m(e,null),o(e,t),Ie(s,e,null),o(e,i),o(e,n),o(n,d),o(e,c),o(e,u),o(e,h),o(e,a),o(e,v),D&&D.m(e,null),o(e,w),I&&I.m(e,null),o(e,U),k&&k.m(e,null),o(e,C),T&&T.m(e,null),y=!0,O||(P=[H(u,"click",l[30]),H(a,"mouseenter",l[23]),H(a,"mouseleave",l[24]),H(a,"touchstart",l[25],{passive:!0}),H(a,"click",l[25])],O=!0)},p(N,E){N[4]?p?p.p(N,E):(p=et(N),p.c(),p.m(e,t)):p&&(p.d(1),p=null),N[10]?D?D.p(N,E):(D=tt(N),D.c(),D.m(e,w)):D&&(D.d(1),D=null),N[11]?I?I.p(N,E):(I=st(N),I.c(),I.m(e,U)):I&&(I.d(1),I=null),N[9]?k?k.p(N,E):(k=ot(N),k.c(),k.m(e,C)):k&&(k.d(1),k=null),!N[10]&&!N[11]?T?T.p(N,E):(T=nt(N),T.c(),T.m(e,null)):T&&(T.d(1),T=null)},i(N){y||(G(s.$$.fragment,N),y=!0)},o(N){x(s.$$.fragment,N),y=!1},d(N){N&&m(e),p&&p.d(),Ee(s),D&&D.d(),I&&I.d(),k&&k.d(),T&&T.d(),O=!1,be(P)}}}function Ut(l,e,t){let{propValue:s}=e,{contributeModal:i}=e,{drawInstructions:n}=e,{mobile:d}=e,c=s;console.log("backgroundImage: ",c);let u=i.map(f=>f.includes("<span>")?f.split("<span>").pop().split("<")[0]:f.includes("<p>")?f.split("<p>").pop().split("<")[0]:f.split('">').pop().split("<")[0]);i[3].split('href="').pop().split('"')[0];let h=i[3].split("<span>").pop().split("<")[0],a=i[3].split('style="text-decoration: underline;">').pop().split("<")[0],v=10,w=0,U=0,C=0,y,O,P;const p=f=>{let M;f.preload=()=>{M=f.loadImage(c)};let z,te;f.setup=()=>{console.log("image: ",M.height),console.log("windowHeight: ",f.windowHeight),console.log("windowWidth: ",f.windowWidth),console.log("mobile: ",d),M.width>M.height&&d&&(t(4,P=!0),console.log("encourageLandscape: ",P)),te=M.height/(M.width/f.windowWidth),z=M.width/(M.height/f.windowHeight),f.windowWidth>500?te<f.windowHeight?f.createCanvas(z,f.windowHeight):f.createCanvas(f.windowWidth,te):f.windowWidth<500&&M.width<M.height?f.createCanvas(f.windowWidth,f.windowHeight):f.windowWidth<500&&f.createCanvas(z,f.windowHeight),f.background(M);let fe=document.getElementById("canvas-container");fe.addEventListener("touchstart",oe=>{oe.touches.length===2&&(y=!0)}),fe.addEventListener("touchmove",oe=>{oe.touches.length===2&&(y=!0)}),fe.addEventListener("touchend",oe=>{y&&(y=!1)}),t(3,O=()=>{f.clear(),f.background(M)})};let le=0,ce=0,de=0,_e=0,ge=.3;f.mousePressed=()=>{if(!(J||y||R||Y||n))return le=f.mouseX,ce=f.mouseY,de=f.mouseX,_e=f.mouseY,!1},f.touchMoved=()=>{if(J||y||R||Y||n)return;let fe=f.mouseX,oe=f.mouseY;return le+=(fe-le)*ge,ce+=(oe-ce)*ge,f.strokeWeight(v),f.stroke(w,U,C),f.line(le,ce,de,_e),de=le,_e=ce,!1},f.windowResized=()=>{f.windowWidth>=500&&f.windowHeight>500?(te=M.height/(M.width/f.windowWidth),z=M.width/(M.height/f.windowHeight),f.height<=f.windowHeight&&f.windowWidth<f.width?f.resizeCanvas(z,f.windowHeight):f.resizeCanvas(f.windowWidth,te)):f.windowHeight<500?te<f.windowHeight?f.createCanvas(z,f.windowHeight):f.createCanvas(f.windowWidth,te):f.windowWidth<500&&f.resizeCanvas(z,f.windowHeight),f.background(M)}};let D=document.getElementsByClassName("stroke-button");const I=f=>{f.target.id==="small-stroke"?v=10:f.target.id==="medium-stroke"?v=20:f.target.id==="big-stroke"&&(v=30),D.forEach(M=>{M!==f.target?M.style.border="none":M.style.border="solid 4px #00D1FF"})};let k,T,N,E,S=JSON.parse(localStorage.getItem("cloudUploads"));const $=["none"];localStorage.setItem("cloudUploads",JSON.stringify($));let W=!0;const A=()=>{if(!(k.length>50||T.length>30||N>30))if(k&&W){S=JSON.parse(localStorage.getItem("cloudUploads")),S.push("upload"),localStorage.setItem("cloudUploads",JSON.stringify(S)),W=!1,t(8,E=!1);let f=new FormData;f.append("title",k),f.append("location",T),f.append("name",N),f.append("userUploads",S.length),document.getElementById("defaultCanvas0").toBlob(function(z){f.append("cloud",z),fetch("/addPostfromServer",{method:"POST",body:f}).then(te=>{console.log("result: ",te.status)})}),t(11,J=!1),y=!0,t(9,q=!0)}else if(W)t(8,E=!0);else return};let q=!1,R=!1,J=!1;const ee=()=>{let f=document.createElement("a"),M;k?M=k.split(" ").join("-"):M="myCloudCity",f.download=`${M}.png`,f.href=document.getElementById("defaultCanvas0").toDataURL(),f.click()},Q=f=>{t(0,w=f.srcElement.value),t(1,U=f.srcElement.value),t(2,C=f.srcElement.value)};let Y=!1;const ve=()=>{Y=!0},ae=()=>{Y=!1},Te=()=>{window.location.replace("/")},ne=()=>{R&&t(10,R=!1),J&&t(11,J=!1),Y=!1};let pe,ue,Z;const Me=()=>{t(10,R=!R),v===10?(t(12,pe="solid 4px #00D1FF"),t(13,ue="none"),t(14,Z="none")):v===20?(t(12,pe="none"),t(13,ue="solid 4px #00D1FF"),t(14,Z="none")):(t(12,pe="none"),t(13,ue="none"),t(14,Z="solid 4px #00D1FF"))},ye=()=>{y=!1,window.location.reload()},ie=()=>{t(11,J=!1),Y=!1},Se=()=>{window.open("https://cloudcities.studiotomassaraceno.org","_self")},De=()=>{window.open("https://cloudcities.studiotomassaraceno.org/terms/","_blank").focus()},se=()=>t(4,P=!1),We=()=>t(4,P=!1);function Be(){w=vt(this.value),t(0,w)}function Ve(){N=this.value,t(7,N)}function Ce(){T=this.value,t(6,T)}function re(){k=this.value,t(5,k)}const Ue=()=>t(11,J=!J),ze=()=>t(11,J=!J),X=()=>t(10,R=!R);return l.$$set=f=>{"propValue"in f&&t(32,s=f.propValue),"contributeModal"in f&&t(33,i=f.contributeModal),"drawInstructions"in f&&t(34,n=f.drawInstructions),"mobile"in f&&t(35,d=f.mobile)},[w,U,C,O,P,k,T,N,E,q,R,J,pe,ue,Z,u,h,a,p,I,A,ee,Q,ve,ae,Te,ne,Me,ye,ie,Se,De,s,i,n,d,se,We,Be,Ve,Ce,re,Ue,ze,X]}class Nt extends Oe{constructor(e){super(),He(this,e,Ut,Ct,Pe,{propValue:32,contributeModal:33,drawInstructions:34,mobile:35},null,[-1,-1])}}function Ot(l){let e,t,s,i,n,d,c,u,h;return{c(){e=g("div"),t=g("div"),s=B(),i=g("div"),n=g("div"),d=B(),c=g("button"),this.h()},l(a){e=b(a,"DIV",{class:!0});var v=_(e);t=b(v,"DIV",{class:!0}),_(t).forEach(m),s=V(v),i=b(v,"DIV",{class:!0});var w=_(i);n=b(w,"DIV",{id:!0}),_(n).forEach(m),d=V(w),c=b(w,"BUTTON",{id:!0}),_(c).forEach(m),w.forEach(m),v.forEach(m),this.h()},h(){r(t,"class","modal-container"),r(n,"id","drawInstructions"),r(c,"id","begin-button"),r(i,"class","start-draw-center svelte-1f658su"),r(e,"class","start-draw-container svelte-1f658su")},m(a,v){L(a,e,v),o(e,t),o(e,s),o(e,i),o(i,n),o(i,d),o(i,c),u||(h=H(c,"click",l[0]),u=!0)},p:me,i:me,o:me,d(a){a&&m(e),u=!1,h()}}}function Ht(l,e,t){const s=Je();let{drawInstructions:i}=e,n;Ye(async()=>{n=document.getElementById("drawInstructions"),n.innerHTML=i[0];let c=document.getElementById("begin-button");c.innerHTML=i[1]});const d=()=>{s("closeInstructions")};return l.$$set=c=>{"drawInstructions"in c&&t(1,i=c.drawInstructions)},[d,i]}class Pt extends Oe{constructor(e){super(),He(this,e,Ht,Ot,Pe,{drawInstructions:1})}}function it(l){let e,t,s,i,n,d,c,u,h,a,v,w,U,C,y,O=l[5]&&rt(l);return{c(){e=g("div"),t=g("h2"),s=F(l[1]),i=B(),n=g("div"),d=B(),c=g("div"),u=g("button"),h=B(),a=g("button"),v=B(),w=g("button"),U=B(),O&&O.c(),this.h()},l(P){e=b(P,"DIV",{class:!0});var p=_(e);t=b(p,"H2",{class:!0});var D=_(t);s=j(D,l[1]),D.forEach(m),i=V(p),n=b(p,"DIV",{id:!0,class:!0}),_(n).forEach(m),d=V(p),c=b(p,"DIV",{class:!0});var I=_(c);u=b(I,"BUTTON",{id:!0,class:!0}),_(u).forEach(m),h=V(I),a=b(I,"BUTTON",{id:!0,class:!0}),_(a).forEach(m),v=V(I),w=b(I,"BUTTON",{id:!0,class:!0}),_(w).forEach(m),I.forEach(m),U=V(p),O&&O.l(p),p.forEach(m),this.h()},h(){r(t,"class","svelte-1mfza7s"),r(n,"id","cloudstobe"),r(n,"class","svelte-1mfza7s"),r(u,"id","draw-button"),r(u,"class","enter-button svelte-1mfza7s"),r(a,"id","remix-button"),r(a,"class","enter-button svelte-1mfza7s"),r(w,"id","upload-button"),r(w,"class","enter-button svelte-1mfza7s"),r(c,"class","button-section svelte-1mfza7s"),r(e,"class","modal-info svelte-1mfza7s")},m(P,p){L(P,e,p),o(e,t),o(t,s),o(e,i),o(e,n),o(e,d),o(e,c),o(c,u),o(c,h),o(c,a),o(c,v),o(c,w),o(e,U),O&&O.m(e,null),C||(y=[H(u,"click",l[10]),H(a,"click",l[12]),H(w,"click",l[7])],C=!0)},p(P,p){p&2&&pt(s,P[1]),P[5]?O?O.p(P,p):(O=rt(P),O.c(),O.m(e,null)):O&&(O.d(1),O=null)},d(P){P&&m(e),O&&O.d(),C=!1,be(y)}}}function rt(l){let e,t,s,i,n,d,c=!l[6]&&at(l),u=l[6]&&ut();return{c(){e=g("input"),t=B(),c&&c.c(),s=B(),u&&u.c(),i=Re(),this.h()},l(h){e=b(h,"INPUT",{accept:!0,type:!0,id:!0,class:!0}),t=V(h),c&&c.l(h),s=V(h),u&&u.l(h),i=Re(),this.h()},h(){r(e,"accept",".png, .jpg, .jpeg"),r(e,"type","file"),r(e,"id","upload"),r(e,"class","svelte-1mfza7s")},m(h,a){L(h,e,a),L(h,t,a),c&&c.m(h,a),L(h,s,a),u&&u.m(h,a),L(h,i,a),n||(d=H(e,"change",l[8]),n=!0)},p(h,a){h[6]?c&&(c.d(1),c=null):c?c.p(h,a):(c=at(h),c.c(),c.m(s.parentNode,s)),h[6]?u||(u=ut(),u.c(),u.m(i.parentNode,i)):u&&(u.d(1),u=null)},d(h){h&&m(e),h&&m(t),c&&c.d(h),h&&m(s),u&&u.d(h),h&&m(i),n=!1,d()}}}function at(l){let e,t,s,i;return{c(){e=g("button"),t=F("Upload"),this.h()},l(n){e=b(n,"BUTTON",{id:!0,class:!0});var d=_(e);t=j(d,"Upload"),d.forEach(m),this.h()},h(){r(e,"id","drawOnUpload-button"),r(e,"class","svelte-1mfza7s")},m(n,d){L(n,e,d),o(e,t),s||(i=H(e,"click",l[9]),s=!0)},p:me,d(n){n&&m(e),s=!1,i()}}}function ut(l){let e,t;return{c(){e=g("p"),t=F("Please choose a smaller file"),this.h()},l(s){e=b(s,"P",{class:!0});var i=_(e);t=j(i,"Please choose a smaller file"),i.forEach(m),this.h()},h(){r(e,"class","svelte-1mfza7s")},m(s,i){L(s,e,i),o(e,t)},d(s){s&&m(e)}}}function Mt(l){let e,t,s,i,n,d,c,u,h,a,v,w,U,C,y,O,P,p,D,I=l[3]&&!l[2]&&it(l);return{c(){e=g("div"),t=g("div"),s=B(),i=g("div"),n=B(),d=g("h2"),c=F("Cloud Cities"),u=B(),h=g("div"),a=B(),I&&I.c(),v=B(),w=g("div"),U=g("div"),C=B(),y=g("button"),this.h()},l(k){e=b(k,"DIV",{class:!0,style:!0});var T=_(e);t=b(T,"DIV",{class:!0}),_(t).forEach(m),s=V(T),i=b(T,"DIV",{class:!0}),_(i).forEach(m),n=V(T),d=b(T,"H2",{id:!0,class:!0});var N=_(d);c=j(N,"Cloud Cities"),N.forEach(m),u=V(T),h=b(T,"DIV",{class:!0}),_(h).forEach(m),a=V(T),I&&I.l(T),v=V(T),w=b(T,"DIV",{class:!0,style:!0});var E=_(w);U=b(E,"DIV",{id:!0}),_(U).forEach(m),C=V(E),y=b(E,"BUTTON",{id:!0,class:!0}),_(y).forEach(m),E.forEach(m),T.forEach(m),this.h()},h(){r(t,"class","icon-button repo-button svelte-1mfza7s"),r(i,"class","modal-container"),r(d,"id","title"),r(d,"class","svelte-1mfza7s"),r(h,"class","icon-button about-button"),r(U,"id","drawInstructions"),r(y,"id","begin-button"),r(y,"class","svelte-1mfza7s"),r(w,"class","modal-info svelte-1mfza7s"),K(w,"visibility",l[4]),r(e,"class","modal-container"),K(e,"background-image","url("+l[0]+")"),K(e,"background-size","cover"),K(e,"background-position","center")},m(k,T){L(k,e,T),o(e,t),o(e,s),o(e,i),o(e,n),o(e,d),o(d,c),o(e,u),o(e,h),o(e,a),I&&I.m(e,null),o(e,v),o(e,w),o(w,U),o(w,C),o(w,y),P=!0,p||(D=[H(t,"touchstart",l[13],{passive:!0}),H(t,"click",l[13]),H(h,"click",l[14]),H(y,"click",l[11])],p=!0)},p(k,[T]){k[3]&&!k[2]?I?I.p(k,T):(I=it(k),I.c(),I.m(e,v)):I&&(I.d(1),I=null),(!P||T&16)&&K(w,"visibility",k[4]),(!P||T&1)&&K(e,"background-image","url("+k[0]+")")},i(k){P||(gt(()=>{O||(O=xe(e,$e,{},!0)),O.run(1)}),P=!0)},o(k){O||(O=xe(e,$e,{},!1)),O.run(0),P=!1},d(k){k&&m(e),I&&I.d(),k&&O&&O.end(),p=!1,be(D)}}}function St(l,e,t){const s=Je();let{propValue:i}=e,{cloudsToBe:n}=e,{drawInstructions:d}=e,{title:c}=e,{straightToInstructions:u}=e,h;Ye(async()=>{let E=document.getElementById("cloudstobe");E.innerHTML=n[0];let S=document.getElementById("draw-button"),$=document.getElementById("remix-button"),W=document.getElementById("upload-button");S.innerHTML=n[1],$.innerHTML=n[2],W.innerHTML=n[3],h=document.getElementById("drawInstructions"),h.innerHTML=d[0];let A=document.getElementById("begin-button");A.innerHTML=d[1]});let a=!0,v="hidden",w=!1,U;const C=()=>{t(5,w=!0)};let y;const O=()=>{t(6,y=!1);const S=document.getElementById("upload").files[0];if(S.size>1e7){t(6,y=!0);return}U=URL.createObjectURL(S)};let P;const p=()=>{t(3,a=!1),t(4,v="visible"),P="drawOnUploadImage"},D=()=>{t(3,a=!1),t(4,v="visible"),P="drawOnThisImage"},I=()=>{P==="drawOnThisImage"?s("startDrawing",!1):P==="drawOnUploadImage"&&s("startDrawing",U)},k=()=>{s("remixCanvas")},T=()=>{window.location.replace("/")},N=()=>{window.open("https://cloudcities.studiotomassaraceno.org","_self")};return l.$$set=E=>{"propValue"in E&&t(0,i=E.propValue),"cloudsToBe"in E&&t(15,n=E.cloudsToBe),"drawInstructions"in E&&t(16,d=E.drawInstructions),"title"in E&&t(1,c=E.title),"straightToInstructions"in E&&t(2,u=E.straightToInstructions)},[i,c,u,a,v,w,y,C,O,p,D,I,k,T,N,n,d]}class Wt extends Oe{constructor(e){super(),He(this,e,St,Mt,Pe,{propValue:0,cloudsToBe:15,drawInstructions:16,title:1,straightToInstructions:2})}}function ct(l){let e,t;return e=new Wt({props:{title:l[8],drawInstructions:l[9],cloudsToBe:l[7],propValue:l[2],background:l[4],straightToInstructions:Lt}}),e.$on("startDrawing",l[12]),e.$on("remixCanvas",l[13]),{c(){we(e.$$.fragment)},l(s){ke(e.$$.fragment,s)},m(s,i){Ie(e,s,i),t=!0},p(s,i){const n={};i&256&&(n.title=s[8]),i&512&&(n.drawInstructions=s[9]),i&128&&(n.cloudsToBe=s[7]),i&4&&(n.propValue=s[2]),i&16&&(n.background=s[4]),e.$set(n)},i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){x(e.$$.fragment,s),t=!1},d(s){Ee(e,s)}}}function dt(l){let e,t;return e=new Nt({props:{propValue:l[4],drawInstructions:l[1],contributeModal:l[10],mobile:l[3]}}),{c(){we(e.$$.fragment)},l(s){ke(e.$$.fragment,s)},m(s,i){Ie(e,s,i),t=!0},p(s,i){const n={};i&16&&(n.propValue=s[4]),i&2&&(n.drawInstructions=s[1]),i&1024&&(n.contributeModal=s[10]),i&8&&(n.mobile=s[3]),e.$set(n)},i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){x(e.$$.fragment,s),t=!1},d(s){Ee(e,s)}}}function ft(l){let e,t,s,i;return e=new bt({props:{openComponent:"remix",image:!1}}),s=new _t({props:{repoImages:l[11],remix:!0}}),s.$on("drawOnImage",l[12]),{c(){we(e.$$.fragment),t=B(),we(s.$$.fragment)},l(n){ke(e.$$.fragment,n),t=V(n),ke(s.$$.fragment,n)},m(n,d){Ie(e,n,d),L(n,t,d),Ie(s,n,d),i=!0},p(n,d){const c={};d&2048&&(c.repoImages=n[11]),s.$set(c)},i(n){i||(G(e.$$.fragment,n),G(s.$$.fragment,n),i=!0)},o(n){x(e.$$.fragment,n),x(s.$$.fragment,n),i=!1},d(n){Ee(e,n),n&&m(t),Ee(s,n)}}}function ht(l){let e,t;return e=new Pt({props:{drawInstructions:l[9]}}),e.$on("closeInstructions",l[14]),{c(){we(e.$$.fragment)},l(s){ke(e.$$.fragment,s)},m(s,i){Ie(e,s,i),t=!0},p(s,i){const n={};i&512&&(n.drawInstructions=s[9]),e.$set(n)},i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){x(e.$$.fragment,s),t=!1},d(s){Ee(e,s)}}}function zt(l){let e,t,s,i,n,d=l[2]&&l[6]&&l[7].length>0&&ct(l),c=l[5]&&dt(l),u=l[0]&&ft(l),h=l[1]&&ht(l);return{c(){d&&d.c(),e=B(),c&&c.c(),t=B(),u&&u.c(),s=B(),h&&h.c(),i=Re()},l(a){d&&d.l(a),e=V(a),c&&c.l(a),t=V(a),u&&u.l(a),s=V(a),h&&h.l(a),i=Re()},m(a,v){d&&d.m(a,v),L(a,e,v),c&&c.m(a,v),L(a,t,v),u&&u.m(a,v),L(a,s,v),h&&h.m(a,v),L(a,i,v),n=!0},p(a,[v]){a[2]&&a[6]&&a[7].length>0?d?(d.p(a,v),v&196&&G(d,1)):(d=ct(a),d.c(),G(d,1),d.m(e.parentNode,e)):d&&(Ae(),x(d,1,1,()=>{d=null}),je()),a[5]?c?(c.p(a,v),v&32&&G(c,1)):(c=dt(a),c.c(),G(c,1),c.m(t.parentNode,t)):c&&(Ae(),x(c,1,1,()=>{c=null}),je()),a[0]?u?(u.p(a,v),v&1&&G(u,1)):(u=ft(a),u.c(),G(u,1),u.m(s.parentNode,s)):u&&(Ae(),x(u,1,1,()=>{u=null}),je()),a[1]?h?(h.p(a,v),v&2&&G(h,1)):(h=ht(a),h.c(),G(h,1),h.m(i.parentNode,i)):h&&(Ae(),x(h,1,1,()=>{h=null}),je())},i(a){n||(G(d),G(c),G(u),G(h),n=!0)},o(a){x(d),x(c),x(u),x(h),n=!1},d(a){d&&d.d(a),a&&m(e),c&&c.d(a),a&&m(t),u&&u.d(a),a&&m(s),h&&h.d(a),a&&m(i)}}}let Lt=!1;function Ft(l,e,t){let s,i,n,d,c;Ne(l,wt,p=>t(7,s=p)),Ne(l,kt,p=>t(8,i=p)),Ne(l,It,p=>t(9,n=p)),Ne(l,Et,p=>t(10,d=p)),Ne(l,Tt,p=>t(11,c=p));let u=!1,h=!1,a,v;Ye(async()=>{let p=document.getElementsByTagName("meta").viewport;p.content="width=device-width, initial-scale=1",console.log("meta: ",p);let D=window.screen.width<window.outerWidth?window.screen.width:window.outerWidth;t(3,v=D<500),console.log("mobile: ",v);let k=await(await fetch("https://cloudcities.studiotomassaraceno.org/wp-json/wp/v2/media?categories=48&per_page=50")).json(),T=Math.floor(Math.random()*k.length);t(2,a=k[T].source_url)});let w,U=!1,C=!0;return[u,h,a,v,w,U,C,s,i,n,d,c,p=>{console.log("e.detail: ",p.detail),console.log("e.detail: ",a),p.detail?t(4,w=p.detail):t(4,w=a),u?(t(1,h=!0),t(0,u=!1),t(5,U=!0),t(4,w=p.detail.link)):(t(6,C=!1),t(5,U=!0))},()=>{t(0,u=!0),t(6,C=!1)},()=>t(1,h=!1)]}class Yt extends Oe{constructor(e){super(),He(this,e,Ft,zt,Pe,{})}}export{Yt as default};
