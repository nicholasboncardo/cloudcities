import{S as Oe,i as Pe,s as Me,e as p,c as b,a as _,d as h,b as r,g as z,K as pt,E as ge,L as Ge,v as Je,t as q,k as V,h as L,m as j,J as n,M as T,N as be,f as A,O as pe,P as Ke,Q as Qe,w as Te,x as ye,y as De,q as K,o as ee,B as Ve,R as bt,j as _t,l as Ye,T as gt,U as Ze,p as Ae,V as He,n as Re}from"../chunks/index-37d50d90.js";import{f as xe,O as wt,G as It,c as kt,d as Et,a as Tt,b as yt,r as Dt}from"../chunks/wpTitles-3fc3412b.js";import"../chunks/index-d2201ef8.js";function Vt(s){let e,t,l;return{c(){e=p("div"),this.h()},l(i){e=b(i,"DIV",{style:!0,class:!0}),_(e).forEach(h),this.h()},h(){r(e,"style",s[0]),r(e,"class","m-0")},m(i,o){z(i,e,o),t||(l=pt(s[1].call(null,e)),t=!0)},p(i,[o]){o&1&&r(e,"style",i[0])},i:ge,o:ge,d(i){i&&h(e),t=!1,l()}}}function jt(s,e){return e.forEach(([t,l])=>s[t]=l),s}function Bt(s,e,t){let{target:l=void 0}=e,{sketch:i=void 0}=e,{parentDivStyle:o="display: block;"}=e,{debug:c=!1}=e,d;const u=Ge(),f={ref(){u("ref",l)},instance(){u("instance",d)}};function a(v){return t(2,l=v),{destroy(){t(2,l=void 0)}}}return Je(async()=>{const v=await import("../chunks/p5.min-21ab2ccd.js").then(function(H){return H.p}),{default:w}=v,U=Object.entries(v).filter(([H,D])=>D instanceof Function&&H[0]!=="_"&&H!=="default");c&&console.log("available p5 native classes",U),d=new w(H=>(H=jt(H,U),c&&console.log("p5 instance",H),window._p5Instance=H,i(H)),l),f.ref(),f.instance()}),s.$$set=v=>{"target"in v&&t(2,l=v.target),"sketch"in v&&t(3,i=v.sketch),"parentDivStyle"in v&&t(0,o=v.parentDivStyle),"debug"in v&&t(4,c=v.debug)},[o,a,l,i,c]}class Ct extends Oe{constructor(e){super(),Pe(this,e,Bt,Vt,Me,{target:2,sketch:3,parentDivStyle:0,debug:4})}}function $e(s){let e,t,l,i,o,c,d,u,f;return{c(){e=p("div"),t=p("div"),l=p("h2"),i=q(`For this image we encourge putting your phone in landscape mode. Please turn your phone
					90\xB0 and press continue.`),o=V(),c=p("button"),d=q("Continue"),this.h()},l(a){e=b(a,"DIV",{id:!0,class:!0});var v=_(e);t=b(v,"DIV",{id:!0,class:!0});var w=_(t);l=b(w,"H2",{});var B=_(l);i=L(B,`For this image we encourge putting your phone in landscape mode. Please turn your phone
					90\xB0 and press continue.`),B.forEach(h),o=j(w),c=b(w,"BUTTON",{class:!0});var U=_(c);d=L(U,"Continue"),U.forEach(h),w.forEach(h),v.forEach(h),this.h()},h(){r(c,"class","svelte-4u4ajn"),r(t,"id","center"),r(t,"class","svelte-4u4ajn"),r(e,"id","landscapemodal"),r(e,"class","svelte-4u4ajn")},m(a,v){z(a,e,v),n(e,t),n(t,l),n(l,i),n(t,o),n(t,c),n(c,d),u||(f=[T(c,"click",s[39]),T(c,"touchstart",s[40],{passive:!0})],u=!0)},p:ge,d(a){a&&h(e),u=!1,be(f)}}}function et(s){let e,t,l,i,o,c,d,u,f,a,v,w,B,U,H,D,N,k,M,I,g,E,O,C,y,P,J,ne;return{c(){e=p("div"),t=p("div"),l=p("div"),i=p("p"),o=q("size"),c=V(),d=p("div"),u=p("div"),f=V(),a=p("div"),v=V(),w=p("div"),B=V(),U=p("div"),H=V(),D=p("div"),N=p("p"),k=q("color"),M=V(),I=p("div"),g=p("input"),E=V(),O=p("button"),C=q("Done"),y=V(),P=p("div"),this.h()},l(W){e=b(W,"DIV",{class:!0,id:!0});var F=_(e);t=b(F,"DIV",{class:!0,id:!0});var G=_(t);l=b(G,"DIV",{class:!0});var R=_(l);i=b(R,"P",{class:!0});var te=_(i);o=L(te,"size"),te.forEach(h),c=j(R),d=b(R,"DIV",{class:!0});var Y=_(d);u=b(Y,"DIV",{class:!0,id:!0,style:!0}),_(u).forEach(h),f=j(Y),a=b(Y,"DIV",{class:!0,id:!0,style:!0}),_(a).forEach(h),v=j(Y),w=b(Y,"DIV",{class:!0,id:!0,style:!0}),_(w).forEach(h),B=j(Y),U=b(Y,"DIV",{class:!0,id:!0,style:!0}),_(U).forEach(h),Y.forEach(h),R.forEach(h),H=j(G),D=b(G,"DIV",{class:!0});var $=_(D);N=b($,"P",{class:!0});var he=_(N);k=L(he,"color"),he.forEach(h),M=j($),I=b($,"DIV",{class:!0});var me=_(I);g=b(me,"INPUT",{type:!0,min:!0,max:!0,id:!0,style:!0,class:!0}),me.forEach(h),$.forEach(h),E=j(G),O=b(G,"BUTTON",{id:!0,class:!0});var oe=_(O);C=L(oe,"Done"),oe.forEach(h),G.forEach(h),y=j(F),P=b(F,"DIV",{class:!0}),_(P).forEach(h),F.forEach(h),this.h()},h(){r(i,"class","svelte-4u4ajn"),r(u,"class","stroke-button svelte-4u4ajn"),r(u,"id","tiny-stroke"),A(u,"border",s[15]),r(a,"class","stroke-button svelte-4u4ajn"),r(a,"id","small-stroke"),A(a,"border",s[16]),r(w,"class","stroke-button svelte-4u4ajn"),r(w,"id","medium-stroke"),A(w,"border",s[17]),r(U,"class","stroke-button svelte-4u4ajn"),r(U,"id","big-stroke"),A(U,"border",s[18]),r(d,"class","stroke-width svelte-4u4ajn"),r(l,"class","style-section svelte-4u4ajn"),r(N,"class","svelte-4u4ajn"),r(g,"type","range"),r(g,"min","0"),r(g,"max","255"),r(g,"id","color-slider"),A(g,"background-color","rgb("+s[1]+","+s[2]+","+s[3]),r(g,"class","svelte-4u4ajn"),r(I,"class","stroke-color svelte-4u4ajn"),r(D,"class","style-section svelte-4u4ajn"),r(O,"id","pallette-done"),r(O,"class","svelte-4u4ajn"),r(t,"class","modal-info draw-settings svelte-4u4ajn"),r(t,"id","pallette"),r(P,"class","icon-button exit-button svelte-4u4ajn"),r(e,"class","container svelte-4u4ajn"),r(e,"id","pallette-container")},m(W,F){z(W,e,F),n(e,t),n(t,l),n(l,i),n(i,o),n(l,c),n(l,d),n(d,u),n(d,f),n(d,a),n(d,v),n(d,w),n(d,B),n(d,U),n(t,H),n(t,D),n(D,N),n(N,k),n(D,M),n(D,I),n(I,g),pe(g,s[1]),n(t,E),n(t,O),n(O,C),n(e,y),n(e,P),J||(ne=[T(u,"click",s[23]),T(a,"click",s[23]),T(w,"click",s[23]),T(U,"click",s[23]),T(g,"change",s[26]),T(g,"change",s[41]),T(g,"input",s[41]),T(O,"click",s[30]),T(O,"touchstart",s[30],{passive:!0}),T(O,"mouseenter",s[42]),T(O,"mouseleave",s[43]),T(t,"mouseenter",s[44]),T(t,"mouseleave",s[45]),T(P,"click",s[30]),T(P,"touchstart",s[30],{passive:!0}),T(e,"click",s[30])],J=!0)},p(W,F){F[0]&32768&&A(u,"border",W[15]),F[0]&65536&&A(a,"border",W[16]),F[0]&131072&&A(w,"border",W[17]),F[0]&262144&&A(U,"border",W[18]),F[0]&14&&A(g,"background-color","rgb("+W[1]+","+W[2]+","+W[3]),F[0]&2&&pe(g,W[1])},d(W){W&&h(e),J=!1,be(ne)}}}function tt(s){let e,t,l,i,o,c,d,u=s[19][0]+"",f,a,v,w,B,U,H=s[19][1]+"",D,N,k,M,I,g,E=s[19][2]+"",O,C,y,P,J,ne,W,F,G,R,te,Y,$=s[19][4]+"",he,me,oe,se,je,Z,ve=s[19][5]+"",de,le,Se,Be,re,ze=s[19][6]+"",Ce,Ue,Ne,We,Q=s[9]&&st();return{c(){e=p("div"),t=p("div"),l=p("h2"),i=q("Contribute to the Cloud Cities repository"),o=V(),c=p("div"),d=p("p"),f=q(u),a=V(),v=p("input"),w=V(),B=p("div"),U=p("p"),D=q(H),N=V(),k=p("input"),M=V(),I=p("div"),g=p("p"),O=q(E),C=V(),y=p("input"),P=V(),J=p("p"),ne=q(s[20]),W=p("span"),F=p("p"),G=q(s[21]),R=V(),te=p("div"),Y=p("button"),he=q($),me=V(),oe=p("img"),je=V(),Z=p("button"),de=q(ve),le=p("img"),Be=V(),re=p("button"),Ce=q(ze),Ue=V(),Q&&Q.c(),this.h()},l(x){e=b(x,"DIV",{class:!0});var ae=_(e);t=b(ae,"DIV",{class:!0});var X=_(t);l=b(X,"H2",{});var qe=_(l);i=L(qe,"Contribute to the Cloud Cities repository"),qe.forEach(h),o=j(X),c=b(X,"DIV",{class:!0});var we=_(c);d=b(we,"P",{class:!0});var Le=_(d);f=L(Le,u),Le.forEach(h),a=j(we),v=b(we,"INPUT",{type:!0,id:!0,"data-lpignore":!0,maxlength:!0,class:!0}),we.forEach(h),w=j(X),B=b(X,"DIV",{class:!0});var Ie=_(B);U=b(Ie,"P",{class:!0});var Fe=_(U);D=L(Fe,H),Fe.forEach(h),N=j(Ie),k=b(Ie,"INPUT",{type:!0,id:!0,"data-lpignore":!0,maxlength:!0,class:!0}),Ie.forEach(h),M=j(X),I=b(X,"DIV",{class:!0});var ke=_(I);g=b(ke,"P",{class:!0});var m=_(g);O=L(m,E),m.forEach(h),C=j(ke),y=b(ke,"INPUT",{type:!0,id:!0,"data-lpignore":!0,maxlength:!0,class:!0}),ke.forEach(h),P=j(X),J=b(X,"P",{class:!0});var S=_(J);ne=L(S,s[20]),W=b(S,"SPAN",{style:!0});var fe=_(W);F=b(fe,"P",{});var ie=_(F);G=L(ie,s[21]),ie.forEach(h),fe.forEach(h),S.forEach(h),R=j(X),te=b(X,"DIV",{class:!0});var ue=_(te);Y=b(ue,"BUTTON",{id:!0,class:!0});var ce=_(Y);he=L(ce,$),me=j(ce),oe=b(ce,"IMG",{src:!0,alt:!0,class:!0}),ce.forEach(h),je=j(ue),Z=b(ue,"BUTTON",{id:!0,class:!0});var _e=_(Z);de=L(_e,ve),le=b(_e,"IMG",{src:!0,alt:!0,class:!0}),_e.forEach(h),ue.forEach(h),Be=j(X),re=b(X,"BUTTON",{id:!0,class:!0});var Ee=_(re);Ce=L(Ee,ze),Ee.forEach(h),Ue=j(X),Q&&Q.l(X),X.forEach(h),ae.forEach(h),this.h()},h(){r(d,"class","svelte-4u4ajn"),r(v,"type","text"),r(v,"id","input-title"),r(v,"data-lpignore","true"),r(v,"maxlength","50"),r(v,"class","svelte-4u4ajn"),r(c,"class","input-section svelte-4u4ajn"),r(U,"class","svelte-4u4ajn"),r(k,"type","text"),r(k,"id","input-location"),r(k,"data-lpignore","true"),r(k,"maxlength","30"),r(k,"class","svelte-4u4ajn"),r(B,"class","input-section svelte-4u4ajn"),r(g,"class","svelte-4u4ajn"),r(y,"type","text"),r(y,"id","input-name"),r(y,"data-lpignore","true"),r(y,"maxlength","30"),r(y,"class","svelte-4u4ajn"),r(I,"class","input-section svelte-4u4ajn"),A(W,"text-decoration","underline"),A(W,"cursor","pointer"),r(J,"class","svelte-4u4ajn"),Ke(oe.src,se="./cloud_submit.svg")||r(oe,"src",se),r(oe,"alt","submit"),r(oe,"class","svelte-4u4ajn"),r(Y,"id","submit-button"),r(Y,"class","svelte-4u4ajn"),Ke(le.src,Se="./cloud_download.svg")||r(le,"src",Se),r(le,"alt","download"),r(le,"class","svelte-4u4ajn"),r(Z,"id","download-button"),r(Z,"class","svelte-4u4ajn"),r(te,"class","flex-row svelte-4u4ajn"),r(re,"id","cancel-button"),r(re,"class","svelte-4u4ajn"),r(t,"class","modal-info submit-image svelte-4u4ajn"),r(e,"class","container svelte-4u4ajn")},m(x,ae){z(x,e,ae),n(e,t),n(t,l),n(l,i),n(t,o),n(t,c),n(c,d),n(d,f),n(c,a),n(c,v),pe(v,s[8]),n(t,w),n(t,B),n(B,U),n(U,D),n(B,N),n(B,k),pe(k,s[7]),n(t,M),n(t,I),n(I,g),n(g,O),n(I,C),n(I,y),pe(y,s[6]),n(t,P),n(t,J),n(J,ne),n(J,W),n(W,F),n(F,G),n(t,R),n(t,te),n(te,Y),n(Y,he),n(Y,me),n(Y,oe),n(te,je),n(te,Z),n(Z,de),n(Z,le),n(t,Be),n(t,re),n(re,Ce),n(t,Ue),Q&&Q.m(t,null),Ne||(We=[T(v,"input",s[46]),T(k,"input",s[47]),T(y,"input",s[48]),T(W,"click",s[35]),T(Y,"click",s[24]),T(Z,"click",s[25]),T(re,"click",s[33])],Ne=!0)},p(x,ae){ae[0]&256&&v.value!==x[8]&&pe(v,x[8]),ae[0]&128&&k.value!==x[7]&&pe(k,x[7]),ae[0]&64&&y.value!==x[6]&&pe(y,x[6]),x[9]?Q||(Q=st(),Q.c(),Q.m(t,null)):Q&&(Q.d(1),Q=null)},d(x){x&&h(e),Q&&Q.d(),Ne=!1,be(We)}}}function st(s){let e,t;return{c(){e=p("p"),t=q(`We are missing information to complete your Cloud Cities submission. Please tell us more
						about your drawing! Please note: Location and Name are optional.`),this.h()},l(l){e=b(l,"P",{class:!0});var i=_(e);t=L(i,`We are missing information to complete your Cloud Cities submission. Please tell us more
						about your drawing! Please note: Location and Name are optional.`),i.forEach(h),this.h()},h(){r(e,"class","svelte-4u4ajn")},m(l,i){z(l,e,i),n(e,t)},d(l){l&&h(e)}}}function lt(s){let e,t,l;return{c(){e=p("div"),t=p("h2"),l=q("Submitting..."),this.h()},l(i){e=b(i,"DIV",{class:!0});var o=_(e);t=b(o,"H2",{id:!0,class:!0});var c=_(t);l=L(c,"Submitting..."),c.forEach(h),o.forEach(h),this.h()},h(){r(t,"id","submitting"),r(t,"class","svelte-4u4ajn"),r(e,"class","container svelte-4u4ajn")},m(i,o){z(i,e,o),n(e,t),n(t,l)},d(i){i&&h(e)}}}function nt(s){let e,t,l,i,o,c,d,u,f,a,v,w,B,U,H,D;return{c(){e=p("div"),t=p("div"),l=p("h2"),i=q("Thank you! Submission complete"),o=V(),c=p("p"),d=q("Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),u=V(),f=p("div"),a=p("button"),v=q("Return to drawing"),w=V(),B=p("button"),U=q("Visit the repository"),this.h()},l(N){e=b(N,"DIV",{class:!0});var k=_(e);t=b(k,"DIV",{class:!0});var M=_(t);l=b(M,"H2",{});var I=_(l);i=L(I,"Thank you! Submission complete"),I.forEach(h),o=j(M),c=b(M,"P",{class:!0});var g=_(c);d=L(g,"Your drawing will be reviewed shortly and subsequently published onto Cloud Cities."),g.forEach(h),u=j(M),f=b(M,"DIV",{class:!0});var E=_(f);a=b(E,"BUTTON",{class:!0});var O=_(a);v=L(O,"Return to drawing"),O.forEach(h),w=j(E),B=b(E,"BUTTON",{class:!0});var C=_(B);U=L(C,"Visit the repository"),C.forEach(h),E.forEach(h),M.forEach(h),k.forEach(h),this.h()},h(){r(c,"class","svelte-4u4ajn"),r(a,"class","svelte-4u4ajn"),r(B,"class","svelte-4u4ajn"),r(f,"class","flex-row svelte-4u4ajn"),r(t,"class","modal-info svelte-4u4ajn"),r(e,"class","container svelte-4u4ajn")},m(N,k){z(N,e,k),n(e,t),n(t,l),n(l,i),n(t,o),n(t,c),n(c,d),n(t,u),n(t,f),n(f,a),n(a,v),n(f,w),n(f,B),n(B,U),H||(D=[T(a,"click",s[32]),T(a,"touchstart",s[32],{passive:!0}),T(B,"click",s[29]),T(B,"touchstart",s[29],{passive:!0})],H=!0)},p:ge,d(N){N&&h(e),H=!1,be(D)}}}function ot(s){let e,t,l,i,o,c,d;return{c(){e=p("div"),t=V(),l=p("div"),i=V(),o=p("div"),this.h()},l(u){e=b(u,"DIV",{class:!0,id:!0}),_(e).forEach(h),t=j(u),l=b(u,"DIV",{class:!0,id:!0}),_(l).forEach(h),i=j(u),o=b(u,"DIV",{class:!0,id:!0}),_(o).forEach(h),this.h()},h(){r(e,"class","icon-button finished-drawing-button svelte-4u4ajn"),r(e,"id","finish-button"),r(l,"class","icon-button pallette-button svelte-4u4ajn"),r(l,"id","p-button"),r(o,"class","icon-button redo-button svelte-4u4ajn"),r(o,"id","r-button")},m(u,f){z(u,e,f),z(u,t,f),z(u,l,f),z(u,i,f),z(u,o,f),c||(d=[T(e,"click",s[49]),T(e,"touchstart",s[50],{passive:!0}),T(e,"mouseenter",s[27]),T(e,"mouseleave",s[28]),T(l,"click",s[31]),T(l,"touchstart",s[51],{passive:!0}),T(l,"mouseenter",s[27]),T(l,"mouseleave",s[28]),T(o,"mouseenter",s[27]),T(o,"mouseleave",s[28]),T(o,"click",function(){Qe(s[4])&&s[4].apply(this,arguments)}),T(o,"touchstart",function(){Qe(s[4])&&s[4].apply(this,arguments)})],c=!0)},p(u,f){s=u},d(u){u&&h(e),u&&h(t),u&&h(l),u&&h(i),u&&h(o),c=!1,be(d)}}}function Ut(s){let e,t,l,i,o,c,d,u,f,a,v,w,B,U,H,D,N,k,M=s[5]&&!s[0]&&$e(s);l=new Ct({props:{sketch:s[22]}});let I=s[12]&&et(s),g=s[13]&&tt(s),E=s[10]&&lt(),O=s[11]&&nt(s),C=!s[12]&&!s[13]&&ot(s);return{c(){e=p("div"),M&&M.c(),t=V(),Te(l.$$.fragment),i=V(),o=p("h2"),c=q("Cloud Cities"),d=V(),u=p("div"),f=V(),a=p("div"),v=V(),I&&I.c(),w=V(),g&&g.c(),B=V(),E&&E.c(),U=V(),O&&O.c(),H=V(),C&&C.c(),this.h()},l(y){e=b(y,"DIV",{id:!0,class:!0});var P=_(e);M&&M.l(P),t=j(P),ye(l.$$.fragment,P),i=j(P),o=b(P,"H2",{id:!0,class:!0});var J=_(o);c=L(J,"Cloud Cities"),J.forEach(h),d=j(P),u=b(P,"DIV",{class:!0}),_(u).forEach(h),f=j(P),a=b(P,"DIV",{class:!0}),_(a).forEach(h),v=j(P),I&&I.l(P),w=j(P),g&&g.l(P),B=j(P),E&&E.l(P),U=j(P),O&&O.l(P),H=j(P),C&&C.l(P),P.forEach(h),this.h()},h(){r(o,"id","title"),r(o,"class","svelte-4u4ajn"),r(u,"class","icon-button about-button svelte-4u4ajn"),r(a,"class","icon-button repo-button svelte-4u4ajn"),r(e,"id","canvas-container"),r(e,"class","svelte-4u4ajn")},m(y,P){z(y,e,P),M&&M.m(e,null),n(e,t),De(l,e,null),n(e,i),n(e,o),n(o,c),n(e,d),n(e,u),n(e,f),n(e,a),n(e,v),I&&I.m(e,null),n(e,w),g&&g.m(e,null),n(e,B),E&&E.m(e,null),n(e,U),O&&O.m(e,null),n(e,H),C&&C.m(e,null),D=!0,N||(k=[T(u,"click",s[34]),T(a,"mouseenter",s[27]),T(a,"mouseleave",s[28]),T(a,"touchstart",s[29],{passive:!0}),T(a,"click",s[29])],N=!0)},p(y,P){y[5]&&!y[0]?M?M.p(y,P):(M=$e(y),M.c(),M.m(e,t)):M&&(M.d(1),M=null),y[12]?I?I.p(y,P):(I=et(y),I.c(),I.m(e,w)):I&&(I.d(1),I=null),y[13]?g?g.p(y,P):(g=tt(y),g.c(),g.m(e,B)):g&&(g.d(1),g=null),y[10]?E||(E=lt(),E.c(),E.m(e,U)):E&&(E.d(1),E=null),y[11]?O?O.p(y,P):(O=nt(y),O.c(),O.m(e,H)):O&&(O.d(1),O=null),!y[12]&&!y[13]?C?C.p(y,P):(C=ot(y),C.c(),C.m(e,null)):C&&(C.d(1),C=null)},i(y){D||(K(l.$$.fragment,y),D=!0)},o(y){ee(l.$$.fragment,y),D=!1},d(y){y&&h(e),M&&M.d(),Ve(l),I&&I.d(),g&&g.d(),E&&E.d(),O&&O.d(),C&&C.d(),N=!1,be(k)}}}function Nt(s,e,t){let{propValue:l}=e,{contributeModal:i}=e,{drawInstructions:o}=e,{mobile:c}=e,d=l,u=i.map(m=>m.includes("<span>")?m.split("<span>").pop().split("<")[0]:m.includes("<p>")?m.split("<p>").pop().split("<")[0]:m.split('">').pop().split("<")[0]),f=i[3].split("<span>").pop().split("<")[0],a=i[3].split('style="text-decoration: underline;">').pop().split("<")[0],v=10,w=0,B=0,U=0,H,D,N;const k=m=>{let S;m.preload=()=>{S=m.loadImage(d)};let fe,ie;m.setup=()=>{S.width>S.height&&c&&t(5,N=!0),ie=S.height/(S.width/m.windowWidth),fe=S.width/(S.height/m.windowHeight),m.windowWidth>=500?m.windowHeight<500?m.createCanvas(m.windowWidth,m.windowHeight):ie<m.windowHeight?m.createCanvas(fe,m.windowHeight):m.createCanvas(m.windowWidth,ie):m.windowWidth<500&&m.createCanvas(m.windowWidth,m.windowHeight),m.background(S),document.getElementById("canvas-container"),t(4,D=()=>{m.clear(),m.background(S)})};let ue=0,ce=0,_e=0,Ee=0,Xe=.3;m.mousePressed=()=>{if(!(R||H||G||$||o))return ue=m.mouseX,ce=m.mouseY,_e=m.mouseX,Ee=m.mouseY,!1},m.touchMoved=()=>{if(R||H||G||$||o)return;let mt=m.mouseX,vt=m.mouseY;return ue+=(mt-ue)*Xe,ce+=(vt-ce)*Xe,m.strokeWeight(v),m.stroke(w,B,U),m.line(ue,ce,_e,Ee),_e=ue,Ee=ce,!1},m.windowResized=()=>{ie=S.height/(S.width/m.windowWidth),fe=S.width/(S.height/m.windowHeight),m.windowWidth>=500&&m.windowHeight>500?m.height<=m.windowHeight&&m.windowWidth<m.width?m.resizeCanvas(fe,m.windowHeight):m.resizeCanvas(m.windowWidth,ie):m.windowHeight<500?(ie<m.windowHeight,m.resizeCanvas(m.windowWidth,m.windowHeight)):m.windowWidth<500&&m.resizeCanvas(m.windowWidth,m.windowHeight),m.background(S)}};let M=document.getElementsByClassName("stroke-button");const I=m=>{m.target.id==="tiny-stroke"?v=5:m.target.id==="small-stroke"?v=10:m.target.id==="medium-stroke"?v=20:m.target.id==="big-stroke"&&(v=30),M.forEach(S=>{S!==m.target?S.style.border="none":S.style.border="solid 4px #00D1FF"})};let g,E,O,C,y=JSON.parse(localStorage.getItem("cloudUploads"));const P=["none"];localStorage.setItem("cloudUploads",JSON.stringify(P));let J=!0,ne=!1;const W=()=>{if(t(10,ne=!0),t(13,R=!1),!(g&&g.length>50||E&&E.length>30||O&&O.length>30))if(g&&J){y=JSON.parse(localStorage.getItem("cloudUploads")),y.push("upload"),localStorage.setItem("cloudUploads",JSON.stringify(y)),J=!1,t(9,C=!1);let m=new FormData;m.append("title",g),m.append("location",E),m.append("name",O),m.append("userUploads",y.length),document.getElementById("defaultCanvas0").toBlob(function(fe){m.append("cloud",fe),fetch("/addPostfromServer",{method:"POST",body:m}).then(ie=>{console.log("result: ",ie.status),t(11,F=!0),t(10,ne=!1)})}),t(13,R=!1),H=!0}else if(J)t(9,C=!0);else return};let F=!1,G=!1,R=!1;const te=()=>{let m=document.createElement("a"),S;g?S=g.split(" ").join("-"):S="myCloudCity",m.download=`${S}.png`,m.href=document.getElementById("defaultCanvas0").toDataURL(),m.click()},Y=m=>{t(1,w=m.srcElement.value),t(2,B=m.srcElement.value),t(3,U=m.srcElement.value)};let $=!1;const he=()=>{$=!0},me=()=>{$=!1},oe=()=>{window.location.replace("/")};let se=!1;const je=()=>{se||(G&&t(12,G=!1),R&&t(13,R=!1),$=!1)};let Z,ve,de,le;const Se=()=>{t(12,G=!G),v===5?(t(15,Z="solid 4px #00D1FF"),t(16,ve="none"),t(17,de="none"),t(18,le="none")):v===10?(t(16,ve="solid 4px #00D1FF"),t(17,de="none"),t(18,le="none"),t(15,Z="none")):v===20?(t(16,ve="none"),t(17,de="solid 4px #00D1FF"),t(18,le="none"),t(15,Z="none")):(t(16,ve="none"),t(17,de="none"),t(15,Z="none"),t(18,le="solid 4px #00D1FF"))},Be=()=>{H=!1,window.location.reload()},re=()=>{t(13,R=!1),$=!1},ze=()=>{window.open("https://cloudcities.studiotomassaraceno.org","_self")},Ce=()=>{window.open("https://cloudcities.studiotomassaraceno.org/terms/","_blank").focus()},Ue=()=>t(5,N=!1),Ne=()=>t(5,N=!1);function We(){w=bt(this.value),t(1,w)}const Q=()=>t(14,se=!se),x=()=>t(14,se=!se),ae=()=>t(14,se=!se),X=()=>t(14,se=!se);function qe(){O=this.value,t(8,O)}function we(){E=this.value,t(7,E)}function Le(){g=this.value,t(6,g)}const Ie=()=>t(13,R=!R),Fe=()=>t(13,R=!R),ke=()=>t(12,G=!G);return s.$$set=m=>{"propValue"in m&&t(36,l=m.propValue),"contributeModal"in m&&t(37,i=m.contributeModal),"drawInstructions"in m&&t(0,o=m.drawInstructions),"mobile"in m&&t(38,c=m.mobile)},[o,w,B,U,D,N,g,E,O,C,ne,F,G,R,se,Z,ve,de,le,u,f,a,k,I,W,te,Y,he,me,oe,je,Se,Be,re,ze,Ce,l,i,c,Ue,Ne,We,Q,x,ae,X,qe,we,Le,Ie,Fe,ke]}class Ht extends Oe{constructor(e){super(),Pe(this,e,Nt,Ut,Me,{propValue:36,contributeModal:37,drawInstructions:0,mobile:38},null,[-1,-1])}}function Ot(s){let e,t,l,i,o,c,d,u,f;return{c(){e=p("div"),t=p("div"),l=V(),i=p("div"),o=p("div"),c=V(),d=p("button"),this.h()},l(a){e=b(a,"DIV",{class:!0});var v=_(e);t=b(v,"DIV",{class:!0,style:!0}),_(t).forEach(h),l=j(v),i=b(v,"DIV",{class:!0});var w=_(i);o=b(w,"DIV",{id:!0}),_(o).forEach(h),c=j(w),d=b(w,"BUTTON",{id:!0}),_(d).forEach(h),w.forEach(h),v.forEach(h),this.h()},h(){r(t,"class","modal-container"),A(t,"background-image","url("+s[0]+")"),A(t,"background-size","cover"),A(t,"background-position","center"),r(o,"id","drawInstructions"),r(d,"id","begin-button"),r(i,"class","start-draw-center svelte-37vuvu"),r(e,"class","start-draw-container svelte-37vuvu")},m(a,v){z(a,e,v),n(e,t),n(e,l),n(e,i),n(i,o),n(i,c),n(i,d),u||(f=T(d,"click",s[1]),u=!0)},p(a,[v]){v&1&&A(t,"background-image","url("+a[0]+")")},i:ge,o:ge,d(a){a&&h(e),u=!1,f()}}}function Pt(s,e,t){const l=Ge();let{drawInstructions:i}=e,{propValue:o}=e,c;Je(async()=>{c=document.getElementById("drawInstructions"),c.innerHTML=i[0];let u=document.getElementById("begin-button");u.innerHTML=i[1]});const d=()=>{l("closeInstructions")};return s.$$set=u=>{"drawInstructions"in u&&t(2,i=u.drawInstructions),"propValue"in u&&t(0,o=u.propValue)},[o,d,i]}class Mt extends Oe{constructor(e){super(),Pe(this,e,Pt,Ot,Me,{drawInstructions:2,propValue:0})}}function it(s){let e,t,l,i,o,c,d,u,f,a,v,w,B,U,H,D=s[5]&&rt(s);return{c(){e=p("div"),t=p("h2"),l=q(s[1]),i=V(),o=p("div"),c=V(),d=p("div"),u=p("button"),f=V(),a=p("button"),v=V(),w=p("button"),B=V(),D&&D.c(),this.h()},l(N){e=b(N,"DIV",{class:!0});var k=_(e);t=b(k,"H2",{class:!0});var M=_(t);l=L(M,s[1]),M.forEach(h),i=j(k),o=b(k,"DIV",{id:!0,class:!0}),_(o).forEach(h),c=j(k),d=b(k,"DIV",{class:!0});var I=_(d);u=b(I,"BUTTON",{id:!0,class:!0}),_(u).forEach(h),f=j(I),a=b(I,"BUTTON",{id:!0,class:!0}),_(a).forEach(h),v=j(I),w=b(I,"BUTTON",{id:!0,class:!0}),_(w).forEach(h),I.forEach(h),B=j(k),D&&D.l(k),k.forEach(h),this.h()},h(){r(t,"class","svelte-1ehnrqz"),r(o,"id","cloudstobe"),r(o,"class","svelte-1ehnrqz"),r(u,"id","draw-button"),r(u,"class","enter-button svelte-1ehnrqz"),r(a,"id","remix-button"),r(a,"class","enter-button svelte-1ehnrqz"),r(w,"id","upload-button"),r(w,"class","enter-button svelte-1ehnrqz"),r(d,"class","button-section svelte-1ehnrqz"),r(e,"class","modal-info svelte-1ehnrqz")},m(N,k){z(N,e,k),n(e,t),n(t,l),n(e,i),n(e,o),n(e,c),n(e,d),n(d,u),n(d,f),n(d,a),n(d,v),n(d,w),n(e,B),D&&D.m(e,null),U||(H=[T(u,"click",s[10]),T(a,"click",s[12]),T(w,"click",s[7])],U=!0)},p(N,k){k&2&&_t(l,N[1]),N[5]?D?D.p(N,k):(D=rt(N),D.c(),D.m(e,null)):D&&(D.d(1),D=null)},d(N){N&&h(e),D&&D.d(),U=!1,be(H)}}}function rt(s){let e,t,l,i,o,c,d=!s[6]&&at(s),u=s[6]&&ut();return{c(){e=p("input"),t=V(),d&&d.c(),l=V(),u&&u.c(),i=Ye(),this.h()},l(f){e=b(f,"INPUT",{accept:!0,type:!0,id:!0,class:!0}),t=j(f),d&&d.l(f),l=j(f),u&&u.l(f),i=Ye(),this.h()},h(){r(e,"accept",".png, .jpg, .jpeg"),r(e,"type","file"),r(e,"id","upload"),r(e,"class","svelte-1ehnrqz")},m(f,a){z(f,e,a),z(f,t,a),d&&d.m(f,a),z(f,l,a),u&&u.m(f,a),z(f,i,a),o||(c=T(e,"change",s[8]),o=!0)},p(f,a){f[6]?d&&(d.d(1),d=null):d?d.p(f,a):(d=at(f),d.c(),d.m(l.parentNode,l)),f[6]?u||(u=ut(),u.c(),u.m(i.parentNode,i)):u&&(u.d(1),u=null)},d(f){f&&h(e),f&&h(t),d&&d.d(f),f&&h(l),u&&u.d(f),f&&h(i),o=!1,c()}}}function at(s){let e,t,l,i;return{c(){e=p("button"),t=q("Upload"),this.h()},l(o){e=b(o,"BUTTON",{id:!0,class:!0});var c=_(e);t=L(c,"Upload"),c.forEach(h),this.h()},h(){r(e,"id","drawOnUpload-button"),r(e,"class","svelte-1ehnrqz")},m(o,c){z(o,e,c),n(e,t),l||(i=T(e,"click",s[9]),l=!0)},p:ge,d(o){o&&h(e),l=!1,i()}}}function ut(s){let e,t;return{c(){e=p("p"),t=q("Please choose a smaller file"),this.h()},l(l){e=b(l,"P",{class:!0});var i=_(e);t=L(i,"Please choose a smaller file"),i.forEach(h),this.h()},h(){r(e,"class","svelte-1ehnrqz")},m(l,i){z(l,e,i),n(e,t)},d(l){l&&h(e)}}}function St(s){let e,t,l,i,o,c,d,u,f,a,v,w,B,U,H,D,N,k,M,I=s[3]&&!s[2]&&it(s);return{c(){e=p("div"),t=p("div"),l=V(),i=p("div"),o=V(),c=p("h2"),d=q("Cloud Cities"),u=V(),f=p("div"),a=V(),I&&I.c(),v=V(),w=p("div"),B=p("div"),U=V(),H=p("button"),this.h()},l(g){e=b(g,"DIV",{class:!0,style:!0});var E=_(e);t=b(E,"DIV",{class:!0}),_(t).forEach(h),l=j(E),i=b(E,"DIV",{class:!0}),_(i).forEach(h),o=j(E),c=b(E,"H2",{id:!0,class:!0});var O=_(c);d=L(O,"Cloud Cities"),O.forEach(h),u=j(E),f=b(E,"DIV",{class:!0}),_(f).forEach(h),a=j(E),I&&I.l(E),v=j(E),w=b(E,"DIV",{class:!0,style:!0});var C=_(w);B=b(C,"DIV",{id:!0}),_(B).forEach(h),U=j(C),H=b(C,"BUTTON",{id:!0,class:!0}),_(H).forEach(h),C.forEach(h),E.forEach(h),this.h()},h(){r(t,"class","icon-button repo-button svelte-1ehnrqz"),r(i,"class","modal-container"),r(c,"id","title"),r(c,"class","svelte-1ehnrqz"),r(f,"class","icon-button about-button"),r(B,"id","drawInstructions"),r(H,"id","begin-button"),r(H,"class","svelte-1ehnrqz"),r(w,"class","modal-info svelte-1ehnrqz"),A(w,"visibility",s[4]),r(e,"class","modal-container"),A(e,"background-image","url("+s[0]+")"),A(e,"background-size","cover"),A(e,"background-position","center")},m(g,E){z(g,e,E),n(e,t),n(e,l),n(e,i),n(e,o),n(e,c),n(c,d),n(e,u),n(e,f),n(e,a),I&&I.m(e,null),n(e,v),n(e,w),n(w,B),n(w,U),n(w,H),N=!0,k||(M=[T(t,"touchstart",s[13],{passive:!0}),T(t,"click",s[13]),T(f,"click",s[14]),T(H,"click",s[11])],k=!0)},p(g,[E]){g[3]&&!g[2]?I?I.p(g,E):(I=it(g),I.c(),I.m(e,v)):I&&(I.d(1),I=null),(!N||E&16)&&A(w,"visibility",g[4]),(!N||E&1)&&A(e,"background-image","url("+g[0]+")")},i(g){N||(gt(()=>{D||(D=Ze(e,xe,{},!0)),D.run(1)}),N=!0)},o(g){D||(D=Ze(e,xe,{},!1)),D.run(0),N=!1},d(g){g&&h(e),I&&I.d(),g&&D&&D.end(),k=!1,be(M)}}}function zt(s,e,t){const l=Ge();let{propValue:i}=e,{cloudsToBe:o}=e,{drawInstructions:c}=e,{title:d}=e,{straightToInstructions:u}=e,f;Je(async()=>{let C=document.getElementById("cloudstobe");C.innerHTML=o[0];let y=document.getElementById("draw-button"),P=document.getElementById("remix-button"),J=document.getElementById("upload-button");y.innerHTML=o[1],P.innerHTML=o[2],J.innerHTML=o[3],f=document.getElementById("drawInstructions"),f.innerHTML=c[0];let ne=document.getElementById("begin-button");ne.innerHTML=c[1]});let a=!0,v="hidden",w=!1,B;const U=()=>{t(5,w=!0)};let H;const D=()=>{t(6,H=!1);const y=document.getElementById("upload").files[0];if(y.size>1e7){t(6,H=!0);return}B=URL.createObjectURL(y)};let N;const k=()=>{t(3,a=!1),t(4,v="visible"),N="drawOnUploadImage"},M=()=>{t(3,a=!1),t(4,v="visible"),N="drawOnThisImage"},I=()=>{N==="drawOnThisImage"?l("startDrawing",!1):N==="drawOnUploadImage"&&l("startDrawing",B)},g=()=>{l("remixCanvas")},E=()=>{window.location.replace("/")},O=()=>{window.open("https://cloudcities.studiotomassaraceno.org","_self")};return s.$$set=C=>{"propValue"in C&&t(0,i=C.propValue),"cloudsToBe"in C&&t(15,o=C.cloudsToBe),"drawInstructions"in C&&t(16,c=C.drawInstructions),"title"in C&&t(1,d=C.title),"straightToInstructions"in C&&t(2,u=C.straightToInstructions)},[i,d,u,a,v,w,H,U,D,k,M,I,g,E,O,o,c]}class Wt extends Oe{constructor(e){super(),Pe(this,e,zt,St,Me,{propValue:0,cloudsToBe:15,drawInstructions:16,title:1,straightToInstructions:2})}}function ct(s){let e,t;return e=new Wt({props:{title:s[8],drawInstructions:s[9],cloudsToBe:s[7],propValue:s[2],straightToInstructions:Lt}}),e.$on("startDrawing",s[12]),e.$on("remixCanvas",s[13]),{c(){Te(e.$$.fragment)},l(l){ye(e.$$.fragment,l)},m(l,i){De(e,l,i),t=!0},p(l,i){const o={};i&256&&(o.title=l[8]),i&512&&(o.drawInstructions=l[9]),i&128&&(o.cloudsToBe=l[7]),i&4&&(o.propValue=l[2]),e.$set(o)},i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){ee(e.$$.fragment,l),t=!1},d(l){Ve(e,l)}}}function dt(s){let e,t;return e=new Ht({props:{propValue:s[4],drawInstructions:s[1],contributeModal:s[10],mobile:s[3]}}),{c(){Te(e.$$.fragment)},l(l){ye(e.$$.fragment,l)},m(l,i){De(e,l,i),t=!0},p(l,i){const o={};i&16&&(o.propValue=l[4]),i&2&&(o.drawInstructions=l[1]),i&1024&&(o.contributeModal=l[10]),i&8&&(o.mobile=l[3]),e.$set(o)},i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){ee(e.$$.fragment,l),t=!1},d(l){Ve(e,l)}}}function ft(s){let e,t,l,i;return e=new wt({props:{openComponent:"remix",image:!1}}),l=new It({props:{repoImages:s[11],remix:!0}}),l.$on("drawOnImage",s[12]),{c(){Te(e.$$.fragment),t=V(),Te(l.$$.fragment)},l(o){ye(e.$$.fragment,o),t=j(o),ye(l.$$.fragment,o)},m(o,c){De(e,o,c),z(o,t,c),De(l,o,c),i=!0},p(o,c){const d={};c&2048&&(d.repoImages=o[11]),l.$set(d)},i(o){i||(K(e.$$.fragment,o),K(l.$$.fragment,o),i=!0)},o(o){ee(e.$$.fragment,o),ee(l.$$.fragment,o),i=!1},d(o){Ve(e,o),o&&h(t),Ve(l,o)}}}function ht(s){let e,t;return e=new Mt({props:{propValue:s[4],drawInstructions:s[9]}}),e.$on("closeInstructions",s[14]),{c(){Te(e.$$.fragment)},l(l){ye(e.$$.fragment,l)},m(l,i){De(e,l,i),t=!0},p(l,i){const o={};i&16&&(o.propValue=l[4]),i&512&&(o.drawInstructions=l[9]),e.$set(o)},i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){ee(e.$$.fragment,l),t=!1},d(l){Ve(e,l)}}}function qt(s){let e,t,l,i,o,c=s[2]&&s[6]&&s[7].length>0&&ct(s),d=s[5]&&dt(s),u=s[0]&&ft(s),f=s[1]&&ht(s);return{c(){c&&c.c(),e=V(),d&&d.c(),t=V(),u&&u.c(),l=V(),f&&f.c(),i=Ye()},l(a){c&&c.l(a),e=j(a),d&&d.l(a),t=j(a),u&&u.l(a),l=j(a),f&&f.l(a),i=Ye()},m(a,v){c&&c.m(a,v),z(a,e,v),d&&d.m(a,v),z(a,t,v),u&&u.m(a,v),z(a,l,v),f&&f.m(a,v),z(a,i,v),o=!0},p(a,[v]){a[2]&&a[6]&&a[7].length>0?c?(c.p(a,v),v&196&&K(c,1)):(c=ct(a),c.c(),K(c,1),c.m(e.parentNode,e)):c&&(Re(),ee(c,1,1,()=>{c=null}),Ae()),a[5]?d?(d.p(a,v),v&32&&K(d,1)):(d=dt(a),d.c(),K(d,1),d.m(t.parentNode,t)):d&&(Re(),ee(d,1,1,()=>{d=null}),Ae()),a[0]?u?(u.p(a,v),v&1&&K(u,1)):(u=ft(a),u.c(),K(u,1),u.m(l.parentNode,l)):u&&(Re(),ee(u,1,1,()=>{u=null}),Ae()),a[1]?f?(f.p(a,v),v&2&&K(f,1)):(f=ht(a),f.c(),K(f,1),f.m(i.parentNode,i)):f&&(Re(),ee(f,1,1,()=>{f=null}),Ae())},i(a){o||(K(c),K(d),K(u),K(f),o=!0)},o(a){ee(c),ee(d),ee(u),ee(f),o=!1},d(a){c&&c.d(a),a&&h(e),d&&d.d(a),a&&h(t),u&&u.d(a),a&&h(l),f&&f.d(a),a&&h(i)}}}let Lt=!1;function Ft(s,e,t){let l,i,o,c,d;He(s,kt,k=>t(7,l=k)),He(s,Et,k=>t(8,i=k)),He(s,Tt,k=>t(9,o=k)),He(s,yt,k=>t(10,c=k)),He(s,Dt,k=>t(11,d=k));let u=!1,f=!1,a,v;Je(async()=>{window.addEventListener("gesturechange",function(E){E.preventDefault()},!1);let k=window.screen.width<window.outerWidth?window.screen.width:window.outerWidth;t(3,v=k<500);let I=await(await fetch("https://cloudcities.studiotomassaraceno.org/wp-json/wp/v2/media?categories=48&per_page=50")).json(),g=Math.floor(Math.random()*I.length);t(2,a=I[g].source_url)});let w,B=!1,U=!0;return[u,f,a,v,w,B,U,l,i,o,c,d,k=>{k.detail?t(4,w=k.detail):t(4,w=a),u?(t(1,f=!0),t(0,u=!1),t(5,B=!0),t(4,w=k.detail.link)):(t(6,U=!1),t(5,B=!0))},()=>{t(0,u=!0),t(6,U=!1)},()=>t(1,f=!1)]}class Jt extends Oe{constructor(e){super(),Pe(this,e,Ft,qt,Me,{})}}export{Jt as default};
